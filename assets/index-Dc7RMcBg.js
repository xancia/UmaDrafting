function Tg(c,r){for(var s=0;s<r.length;s++){const l=r[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in c)){const m=Object.getOwnPropertyDescriptor(l,u);m&&Object.defineProperty(c,u,m.get?m:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function l(u){if(u.ep)return;u.ep=!0;const m=s(u);fetch(u.href,m)}})();function Cg(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var cc={exports:{}},Wr={};var wm;function _g(){if(wm)return Wr;wm=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(l,u,m){var h=null;if(m!==void 0&&(h=""+m),u.key!==void 0&&(h=""+u.key),"key"in u){m={};for(var g in u)g!=="key"&&(m[g]=u[g])}else m=u;return u=m.ref,{$$typeof:c,type:l,key:h,ref:u!==void 0?u:null,props:m}}return Wr.Fragment=r,Wr.jsx=s,Wr.jsxs=s,Wr}var Lm;function kg(){return Lm||(Lm=1,cc.exports=_g()),cc.exports}var d=kg(),uc={exports:{}},fe={};var qm;function Rg(){if(qm)return fe;qm=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,F={};function te(T,B,X){this.props=T,this.context=B,this.refs=F,this.updater=X||Y}te.prototype.isReactComponent={},te.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},te.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Ue(){}Ue.prototype=te.prototype;function ue(T,B,X){this.props=T,this.context=B,this.refs=F,this.updater=X||Y}var oe=ue.prototype=new Ue;oe.constructor=ue,G(oe,te.prototype),oe.isPureReactComponent=!0;var x=Array.isArray;function K(){}var V={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function ie(T,B,X){var Q=X.ref;return{$$typeof:c,type:T,key:B,ref:Q!==void 0?Q:null,props:X}}function Re(T,B){return ie(T.type,B,T.props)}function ze(T){return typeof T=="object"&&T!==null&&T.$$typeof===c}function J(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return B[X]})}var ye=/\/+/g;function de(T,B){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):B.toString(36)}function Ce(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(K,K):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function j(T,B,X,Q,se){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var O=!1;if(T===null)O=!0;else switch(me){case"bigint":case"string":case"number":O=!0;break;case"object":switch(T.$$typeof){case c:case r:O=!0;break;case v:return O=T._init,j(O(T._payload),B,X,Q,se)}}if(O)return se=se(T),O=Q===""?"."+de(T,0):Q,x(se)?(X="",O!=null&&(X=O.replace(ye,"$&/")+"/"),j(se,B,X,"",function(ge){return ge})):se!=null&&(ze(se)&&(se=Re(se,X+(se.key==null||T&&T.key===se.key?"":(""+se.key).replace(ye,"$&/")+"/")+O)),B.push(se)),1;O=0;var re=Q===""?".":Q+":";if(x(T))for(var W=0;W<T.length;W++)Q=T[W],me=re+de(Q,W),O+=j(Q,B,X,me,se);else if(W=w(T),typeof W=="function")for(T=W.call(T),W=0;!(Q=T.next()).done;)Q=Q.value,me=re+de(Q,W++),O+=j(Q,B,X,me,se);else if(me==="object"){if(typeof T.then=="function")return j(Ce(T),B,X,Q,se);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return O}function q(T,B,X){if(T==null)return T;var Q=[],se=0;return j(T,Q,"","",function(me){return B.call(X,me,se++)}),Q}function $(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var Ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ne={map:q,forEach:function(T,B,X){q(T,function(){B.apply(this,arguments)},X)},count:function(T){var B=0;return q(T,function(){B++}),B},toArray:function(T){return q(T,function(B){return B})||[]},only:function(T){if(!ze(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return fe.Activity=C,fe.Children=Ne,fe.Component=te,fe.Fragment=s,fe.Profiler=u,fe.PureComponent=ue,fe.StrictMode=l,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,fe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return V.H.useMemoCache(T)}},fe.cache=function(T){return function(){return T.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(T,B,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=G({},T.props),se=T.key;if(B!=null)for(me in B.key!==void 0&&(se=""+B.key),B)!ne.call(B,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&B.ref===void 0||(Q[me]=B[me]);var me=arguments.length-2;if(me===1)Q.children=X;else if(1<me){for(var O=Array(me),re=0;re<me;re++)O[re]=arguments[re+2];Q.children=O}return ie(T.type,se,Q)},fe.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:m,_context:T},T},fe.createElement=function(T,B,X){var Q,se={},me=null;if(B!=null)for(Q in B.key!==void 0&&(me=""+B.key),B)ne.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=B[Q]);var O=arguments.length-2;if(O===1)se.children=X;else if(1<O){for(var re=Array(O),W=0;W<O;W++)re[W]=arguments[W+2];se.children=re}if(T&&T.defaultProps)for(Q in O=T.defaultProps,O)se[Q]===void 0&&(se[Q]=O[Q]);return ie(T,me,se)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:g,render:T}},fe.isValidElement=ze,fe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:$}},fe.memo=function(T,B){return{$$typeof:b,type:T,compare:B===void 0?null:B}},fe.startTransition=function(T){var B=V.T,X={};V.T=X;try{var Q=T(),se=V.S;se!==null&&se(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(K,Ee)}catch(me){Ee(me)}finally{B!==null&&X.types!==null&&(B.types=X.types),V.T=B}},fe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},fe.use=function(T){return V.H.use(T)},fe.useActionState=function(T,B,X){return V.H.useActionState(T,B,X)},fe.useCallback=function(T,B){return V.H.useCallback(T,B)},fe.useContext=function(T){return V.H.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T,B){return V.H.useDeferredValue(T,B)},fe.useEffect=function(T,B){return V.H.useEffect(T,B)},fe.useEffectEvent=function(T){return V.H.useEffectEvent(T)},fe.useId=function(){return V.H.useId()},fe.useImperativeHandle=function(T,B,X){return V.H.useImperativeHandle(T,B,X)},fe.useInsertionEffect=function(T,B){return V.H.useInsertionEffect(T,B)},fe.useLayoutEffect=function(T,B){return V.H.useLayoutEffect(T,B)},fe.useMemo=function(T,B){return V.H.useMemo(T,B)},fe.useOptimistic=function(T,B){return V.H.useOptimistic(T,B)},fe.useReducer=function(T,B,X){return V.H.useReducer(T,B,X)},fe.useRef=function(T){return V.H.useRef(T)},fe.useState=function(T){return V.H.useState(T)},fe.useSyncExternalStore=function(T,B,X){return V.H.useSyncExternalStore(T,B,X)},fe.useTransition=function(){return V.H.useTransition()},fe.version="19.2.3",fe}var Gm;function Oc(){return Gm||(Gm=1,uc.exports=Rg()),uc.exports}var D=Oc(),fc={exports:{}},ei={},dc={exports:{}},mc={};var Ym;function Eg(){return Ym||(Ym=1,(function(c){function r(j,q){var $=j.length;j.push(q);e:for(;0<$;){var Ee=$-1>>>1,Ne=j[Ee];if(0<u(Ne,q))j[Ee]=q,j[$]=Ne,$=Ee;else break e}}function s(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var q=j[0],$=j.pop();if($!==q){j[0]=$;e:for(var Ee=0,Ne=j.length,T=Ne>>>1;Ee<T;){var B=2*(Ee+1)-1,X=j[B],Q=B+1,se=j[Q];if(0>u(X,$))Q<Ne&&0>u(se,X)?(j[Ee]=se,j[Q]=$,Ee=Q):(j[Ee]=X,j[B]=$,Ee=B);else if(Q<Ne&&0>u(se,$))j[Ee]=se,j[Q]=$,Ee=Q;else break e}}return q}function u(j,q){var $=j.sortIndex-q.sortIndex;return $!==0?$:j.id-q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;c.unstable_now=function(){return m.now()}}else{var h=Date,g=h.now();c.unstable_now=function(){return h.now()-g}}var y=[],b=[],v=1,C=null,R=3,w=!1,Y=!1,G=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function oe(j){for(var q=s(b);q!==null;){if(q.callback===null)l(b);else if(q.startTime<=j)l(b),q.sortIndex=q.expirationTime,r(y,q);else break;q=s(b)}}function x(j){if(G=!1,oe(j),!Y)if(s(y)!==null)Y=!0,K||(K=!0,J());else{var q=s(b);q!==null&&Ce(x,q.startTime-j)}}var K=!1,V=-1,ne=5,ie=-1;function Re(){return F?!0:!(c.unstable_now()-ie<ne)}function ze(){if(F=!1,K){var j=c.unstable_now();ie=j;var q=!0;try{e:{Y=!1,G&&(G=!1,Ue(V),V=-1),w=!0;var $=R;try{t:{for(oe(j),C=s(y);C!==null&&!(C.expirationTime>j&&Re());){var Ee=C.callback;if(typeof Ee=="function"){C.callback=null,R=C.priorityLevel;var Ne=Ee(C.expirationTime<=j);if(j=c.unstable_now(),typeof Ne=="function"){C.callback=Ne,oe(j),q=!0;break t}C===s(y)&&l(y),oe(j)}else l(y);C=s(y)}if(C!==null)q=!0;else{var T=s(b);T!==null&&Ce(x,T.startTime-j),q=!1}}break e}finally{C=null,R=$,w=!1}q=void 0}}finally{q?J():K=!1}}}var J;if(typeof ue=="function")J=function(){ue(ze)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,de=ye.port2;ye.port1.onmessage=ze,J=function(){de.postMessage(null)}}else J=function(){te(ze,0)};function Ce(j,q){V=te(function(){j(c.unstable_now())},q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(j){j.callback=null},c.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<j?Math.floor(1e3/j):5},c.unstable_getCurrentPriorityLevel=function(){return R},c.unstable_next=function(j){switch(R){case 1:case 2:case 3:var q=3;break;default:q=R}var $=R;R=q;try{return j()}finally{R=$}},c.unstable_requestPaint=function(){F=!0},c.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=R;R=j;try{return q()}finally{R=$}},c.unstable_scheduleCallback=function(j,q,$){var Ee=c.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ee+$:Ee):$=Ee,j){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=$+Ne,j={id:v++,callback:q,priorityLevel:j,startTime:$,expirationTime:Ne,sortIndex:-1},$>Ee?(j.sortIndex=$,r(b,j),s(y)===null&&j===s(b)&&(G?(Ue(V),V=-1):G=!0,Ce(x,$-Ee))):(j.sortIndex=Ne,r(y,j),Y||w||(Y=!0,K||(K=!0,J()))),j},c.unstable_shouldYield=Re,c.unstable_wrapCallback=function(j){var q=R;return function(){var $=R;R=q;try{return j.apply(this,arguments)}finally{R=$}}}})(mc)),mc}var Xm;function Ng(){return Xm||(Xm=1,dc.exports=Eg()),dc.exports}var pc={exports:{}},ot={};var Vm;function jg(){if(Vm)return ot;Vm=1;var c=Oc();function r(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)b+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(y,b,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:y,containerInfo:b,implementation:v}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ot.createPortal=function(y,b){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(r(299));return m(y,b,null,v)},ot.flushSync=function(y){var b=h.T,v=l.p;try{if(h.T=null,l.p=2,y)return y()}finally{h.T=b,l.p=v,l.d.f()}},ot.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(y,b))},ot.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},ot.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var v=b.as,C=g(v,b.crossOrigin),R=typeof b.integrity=="string"?b.integrity:void 0,w=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;v==="style"?l.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:R,fetchPriority:w}):v==="script"&&l.d.X(y,{crossOrigin:C,integrity:R,fetchPriority:w,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},ot.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var v=g(b.as,b.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(y)},ot.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var v=b.as,C=g(v,b.crossOrigin);l.d.L(y,v,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},ot.preloadModule=function(y,b){if(typeof y=="string")if(b){var v=g(b.as,b.crossOrigin);l.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:v,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(y)},ot.requestFormReset=function(y){l.d.r(y)},ot.unstable_batchedUpdates=function(y,b){return y(b)},ot.useFormState=function(y,b,v){return h.H.useFormState(y,b,v)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var Qm;function Mg(){if(Qm)return pc.exports;Qm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),pc.exports=jg(),pc.exports}var Km;function Ug(){if(Km)return ei;Km=1;var c=Ng(),r=Oc(),s=Mg();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(m(e)!==e)throw Error(l(188))}function b(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===a)return y(i),e;if(o===n)return y(i),t;o=o.sibling}throw Error(l(188))}if(a.return!==n.return)a=i,n=o;else{for(var f=!1,p=i.child;p;){if(p===a){f=!0,a=i,n=o;break}if(p===n){f=!0,n=i,a=o;break}p=p.sibling}if(!f){for(p=o.child;p;){if(p===a){f=!0,a=o,n=i;break}if(p===n){f=!0,n=o,a=i;break}p=p.sibling}if(!f)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=ze&&e[ze]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case te:return"Profiler";case F:return"StrictMode";case x:return"Suspense";case K:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case ue:return e.displayName||"Context";case Ue:return(e._context.displayName||"Context")+".Consumer";case oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var Ce=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ee=[],Ne=-1;function T(e){return{current:e}}function B(e){0>Ne||(e.current=Ee[Ne],Ee[Ne]=null,Ne--)}function X(e,t){Ne++,Ee[Ne]=e.current,e.current=t}var Q=T(null),se=T(null),me=T(null),O=T(null);function re(e,t){switch(X(me,t),X(se,e),X(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(Q),X(Q,e)}function W(){B(Q),B(se),B(me)}function ge(e){e.memoizedState!==null&&X(O,e);var t=Q.current,a=om(t,e.type);t!==a&&(X(se,e),X(Q,a))}function Je(e){se.current===e&&(B(Q),B(se)),O.current===e&&(B(O),$r._currentValue=$)}var Pt,sr;function Ft(e){if(Pt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pt=t&&t[1]||"",sr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+e+sr}var gn=!1;function yn(e,t){if(!e||gn)return"";gn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(U){var M=U}Reflect.construct(e,[],H)}else{try{H.call()}catch(U){M=U}e.call(H.prototype)}}else{try{throw Error()}catch(U){M=U}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(U){if(U&&M&&typeof U.stack=="string")return[U.stack,M.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),f=o[0],p=o[1];if(f&&p){var S=f.split(`
`),N=p.split(`
`);for(i=n=0;n<S.length&&!S[n].includes("DetermineComponentFrameRoot");)n++;for(;i<N.length&&!N[i].includes("DetermineComponentFrameRoot");)i++;if(n===S.length||i===N.length)for(n=S.length-1,i=N.length-1;1<=n&&0<=i&&S[n]!==N[i];)i--;for(;1<=n&&0<=i;n--,i--)if(S[n]!==N[i]){if(n!==1||i!==1)do if(n--,i--,0>i||S[n]!==N[i]){var A=`
`+S[n].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=n&&0<=i);break}}}finally{gn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ft(a):""}function Xl(e,t){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==t&&t!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return yn(e.type,!1);case 11:return yn(e.type.render,!1);case 1:return yn(e.type,!0);case 31:return Ft("Activity");default:return""}}function ui(e){try{var t="",a=null;do t+=Xl(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var bn=Object.prototype.hasOwnProperty,or=c.unstable_scheduleCallback,vn=c.unstable_cancelCallback,Vl=c.unstable_shouldYield,Ql=c.unstable_requestPaint,ft=c.unstable_now,Kl=c.unstable_getCurrentPriorityLevel,fi=c.unstable_ImmediatePriority,di=c.unstable_UserBlockingPriority,xn=c.unstable_NormalPriority,Zl=c.unstable_LowPriority,mi=c.unstable_IdlePriority,pi=c.log,Jl=c.unstable_setDisableYieldValue,Za=null,dt=null;function Ut(e){if(typeof pi=="function"&&Jl(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Za,e)}catch{}}var mt=Math.clz32?Math.clz32:ee,hi=Math.log,L=Math.LN2;function ee(e){return e>>>=0,e===0?32:31-(hi(e)/L|0)|0}var ce=256,xe=262144,ke=4194304;function Le(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~o,n!==0?i=Le(n):(f&=p,f!==0?i=Le(f):a||(a=p&~e,a!==0&&(i=Le(a))))):(p=n&~o,p!==0?i=Le(p):f!==0?i=Le(f):a||(a=n&~e,a!==0&&(i=Le(a)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:i}function Ja(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gi(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var e=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),e}function Pl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uh(e,t,a,n,i,o){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(a=f&~a;0<a;){var A=31-mt(a),H=1<<A;p[A]=0,S[A]=-1;var M=N[A];if(M!==null)for(N[A]=null,A=0;A<M.length;A++){var U=M[A];U!==null&&(U.lane&=-536870913)}a&=~H}n!==0&&Yc(e,n,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(f&~t))}function Yc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-mt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Xc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-mt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Vc(e,t){var a=t&-t;return a=(a&42)!==0?1:Fl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Fl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Il(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qc(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Um(e.type))}function Kc(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var ya=Math.random().toString(36).slice(2),nt="__reactFiber$"+ya,gt="__reactProps$"+ya,Sn="__reactContainer$"+ya,Wl="__reactEvents$"+ya,fh="__reactListeners$"+ya,dh="__reactHandles$"+ya,Zc="__reactResources$"+ya,ur="__reactMarker$"+ya;function es(e){delete e[nt],delete e[gt],delete e[Wl],delete e[fh],delete e[dh]}function Tn(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Sn]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hm(e);e!==null;){if(a=e[nt])return a;e=hm(e)}return t}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[nt]||e[Sn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function _n(e){var t=e[Zc];return t||(t=e[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[ur]=!0}var Jc=new Set,$c={};function $a(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for($c[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Fc={};function ph(e){return bn.call(Fc,e)?!0:bn.call(Pc,e)?!1:mh.test(e)?Fc[e]=!0:(Pc[e]=!0,!1)}function yi(e,t,a){if(ph(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function bi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function It(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(f){a=""+f,o.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){if(!e._valueTracker){var t=Ic(e)?"checked":"value";e._valueTracker=hh(e,t,""+e[t])}}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ic(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gh=/[\n"\\]/g;function At(e){return e.replace(gh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function as(e,t,a,n,i,o,f,p){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?ns(e,f,Ot(t)):a!=null?ns(e,f,Ot(a)):n!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ot(p):e.removeAttribute("name")}function eu(e,t,a,n,i,o,f,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ts(e);return}a=a!=null?""+Ot(a):"",t=t!=null?""+Ot(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),ts(e)}function ns(e,t,a){t==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Rn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ot(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tu(e,t,a){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ot(a):""}function au(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(l(92));if(Ce(n)){if(1<n.length)throw Error(l(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ot(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ts(e)}function En(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||yh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ru(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&nu(e,i,n)}else for(var o in t)t.hasOwnProperty(o)&&nu(e,o,t[o])}function rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xi(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var is=null;function ls(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nn=null,jn=null;function iu(e){var t=Cn(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(as(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[gt]||null;if(!i)throw Error(l(90));as(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Wc(n)}break e;case"textarea":tu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Rn(e,!!a.multiple,t,!1)}}}var ss=!1;function lu(e,t,a){if(ss)return e(t,a);ss=!0;try{var n=e(t);return n}finally{if(ss=!1,(Nn!==null||jn!==null)&&(sl(),Nn&&(t=Nn,e=jn,jn=Nn=null,iu(t),e)))for(t=0;t<e.length;t++)iu(e[t])}}function dr(e,t){var a=e.stateNode;if(a===null)return null;var n=a[gt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(ea)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){os=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{os=!1}var ba=null,cs=null,Si=null;function su(){if(Si)return Si;var e,t=cs,a=t.length,n,i="value"in ba?ba.value:ba.textContent,o=i.length;for(e=0;e<a&&t[e]===i[e];e++);var f=a-e;for(n=1;n<=f&&t[a-n]===i[o-n];n++);return Si=i.slice(e,1<n?1-n:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function ou(){return!1}function yt(e){function t(a,n,i,o,f){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ci:ou,this.isPropagationStopped=ou,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=yt(Pa),pr=C({},Pa,{view:0,detail:0}),xh=yt(pr),us,fs,hr,ki=C({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(us=e.screenX-hr.screenX,fs=e.screenY-hr.screenY):fs=us=0,hr=e),us)},movementY:function(e){return"movementY"in e?e.movementY:fs}}),cu=yt(ki),Sh=C({},ki,{dataTransfer:0}),Th=yt(Sh),Ch=C({},pr,{relatedTarget:0}),ds=yt(Ch),_h=C({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=yt(_h),Rh=C({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eh=yt(Rh),Nh=C({},Pa,{data:0}),uu=yt(Nh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uh[e])?!!t[e]:!1}function ms(){return Oh}var Ah=C({},pr,{key:function(e){if(e.key){var t=jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dh=yt(Ah),zh=C({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=yt(zh),Bh=C({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Hh=yt(Bh),wh=C({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lh=yt(wh),qh=C({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gh=yt(qh),Yh=C({},Pa,{newState:0,oldState:0}),Xh=yt(Yh),Vh=[9,13,27,32],ps=ea&&"CompositionEvent"in window,gr=null;ea&&"documentMode"in document&&(gr=document.documentMode);var Qh=ea&&"TextEvent"in window&&!gr,du=ea&&(!ps||gr&&8<gr&&11>=gr),mu=" ",pu=!1;function hu(e,t){switch(e){case"keyup":return Vh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function Kh(e,t){switch(e){case"compositionend":return gu(t);case"keypress":return t.which!==32?null:(pu=!0,mu);case"textInput":return e=t.data,e===mu&&pu?null:e;default:return null}}function Zh(e,t){if(Mn)return e==="compositionend"||!ps&&hu(e,t)?(e=su(),Si=cs=ba=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return du&&t.locale!=="ko"?null:t.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jh[e.type]:t==="textarea"}function bu(e,t,a,n){Nn?jn?jn.push(n):jn=[n]:Nn=n,t=pl(t,"onChange"),0<t.length&&(a=new _i("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var yr=null,br=null;function $h(e){tm(e,0)}function Ri(e){var t=fr(e);if(Wc(t))return e}function vu(e,t){if(e==="change")return t}var xu=!1;if(ea){var hs;if(ea){var gs="oninput"in document;if(!gs){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),gs=typeof Su.oninput=="function"}hs=gs}else hs=!1;xu=hs&&(!document.documentMode||9<document.documentMode)}function Tu(){yr&&(yr.detachEvent("onpropertychange",Cu),br=yr=null)}function Cu(e){if(e.propertyName==="value"&&Ri(br)){var t=[];bu(t,br,e,ls(e)),lu($h,t)}}function Ph(e,t,a){e==="focusin"?(Tu(),yr=t,br=a,yr.attachEvent("onpropertychange",Cu)):e==="focusout"&&Tu()}function Fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(br)}function Ih(e,t){if(e==="click")return Ri(t)}function Wh(e,t){if(e==="input"||e==="change")return Ri(t)}function e0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:e0;function vr(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!bn.call(t,i)||!_t(e[i],t[i]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var a=_u(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_u(a)}}function Ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=vi(e.document)}return t}function ys(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var t0=ea&&"documentMode"in document&&11>=document.documentMode,Un=null,bs=null,xr=null,vs=!1;function Nu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vs||Un==null||Un!==vi(n)||(n=Un,"selectionStart"in n&&ys(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xr&&vr(xr,n)||(xr=n,n=pl(bs,"onSelect"),0<n.length&&(t=new _i("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Un)))}function Fa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var On={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},xs={},ju={};ea&&(ju=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Ia(e){if(xs[e])return xs[e];if(!On[e])return e;var t=On[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ju)return xs[e]=t[a];return e}var Mu=Ia("animationend"),Uu=Ia("animationiteration"),Ou=Ia("animationstart"),a0=Ia("transitionrun"),n0=Ia("transitionstart"),r0=Ia("transitioncancel"),Au=Ia("transitionend"),Du=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function Yt(e,t){Du.set(e,t),$a(t,[e])}var Ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],An=0,Ts=0;function Ni(){for(var e=An,t=Ts=An=0;t<e;){var a=Dt[t];Dt[t++]=null;var n=Dt[t];Dt[t++]=null;var i=Dt[t];Dt[t++]=null;var o=Dt[t];if(Dt[t++]=null,n!==null&&i!==null){var f=n.pending;f===null?i.next=i:(i.next=f.next,f.next=i),n.pending=i}o!==0&&zu(a,i,o)}}function ji(e,t,a,n){Dt[An++]=e,Dt[An++]=t,Dt[An++]=a,Dt[An++]=n,Ts|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Cs(e,t,a,n){return ji(e,t,a,n),Mi(e)}function Wa(e,t){return ji(e,null,null,t),Mi(e)}function zu(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,o=e.return;o!==null;)o.childLanes|=a,n=o.alternate,n!==null&&(n.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-mt(a),e=o.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),o):null}function Mi(e){if(50<Yr)throw Yr=0,Ao=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Dn={};function i0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,n){return new i0(e,t,a,n)}function _s(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ta(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ui(e,t,a,n,i,o){var f=0;if(n=e,typeof e=="function")_s(e)&&(f=1);else if(typeof e=="string")f=ug(e,a,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=kt(31,a,t,i),e.elementType=ie,e.lanes=o,e;case G:return en(a.children,i,o,t);case F:f=8,i|=24;break;case te:return e=kt(12,a,t,i|2),e.elementType=te,e.lanes=o,e;case x:return e=kt(13,a,t,i),e.elementType=x,e.lanes=o,e;case K:return e=kt(19,a,t,i),e.elementType=K,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:f=10;break e;case Ue:f=9;break e;case oe:f=11;break e;case V:f=14;break e;case ne:f=16,n=null;break e}f=29,a=Error(l(130,e===null?"null":typeof e,"")),n=null}return t=kt(f,a,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function en(e,t,a,n){return e=kt(7,e,n,t),e.lanes=a,e}function ks(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function Hu(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function Rs(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wu=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=wu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ui(t)},wu.set(e,t),t)}return{value:e,source:t,stack:ui(t)}}var zn=[],Bn=0,Oi=null,Sr=0,Bt=[],Ht=0,va=null,Qt=1,Kt="";function aa(e,t){zn[Bn++]=Sr,zn[Bn++]=Oi,Oi=e,Sr=t}function Lu(e,t,a){Bt[Ht++]=Qt,Bt[Ht++]=Kt,Bt[Ht++]=va,va=e;var n=Qt;e=Kt;var i=32-mt(n)-1;n&=~(1<<i),a+=1;var o=32-mt(t)+i;if(30<o){var f=i-i%5;o=(n&(1<<f)-1).toString(32),n>>=f,i-=f,Qt=1<<32-mt(t)+i|a<<i|n,Kt=o+e}else Qt=1<<o|a<<i|n,Kt=e}function Es(e){e.return!==null&&(aa(e,1),Lu(e,1,0))}function Ns(e){for(;e===Oi;)Oi=zn[--Bn],zn[Bn]=null,Sr=zn[--Bn],zn[Bn]=null;for(;e===va;)va=Bt[--Ht],Bt[Ht]=null,Kt=Bt[--Ht],Bt[Ht]=null,Qt=Bt[--Ht],Bt[Ht]=null}function qu(e,t){Bt[Ht++]=Qt,Bt[Ht++]=Kt,Bt[Ht++]=va,Qt=t.id,Kt=t.overflow,va=e}var rt=null,Ge=null,_e=!1,xa=null,wt=!1,js=Error(l(519));function Sa(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tr(zt(t,e)),js}function Gu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[nt]=e,t[gt]=n,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<Vr.length;a++)ve(Vr[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),eu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),au(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||im(t.textContent,a)?(n.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),n.onScroll!=null&&ve("scroll",t),n.onScrollEnd!=null&&ve("scrollend",t),n.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||Sa(e,!0)}function Yu(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:wt=!1;return;case 27:case 3:wt=!0;return;default:rt=rt.return}}function Hn(e){if(e!==rt)return!1;if(!_e)return Yu(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jo(e.type,e.memoizedProps)),a=!a),a&&Ge&&Sa(e),Yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ge=pm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ge=pm(e)}else t===27?(t=Ge,za(e.type)?(e=Wo,Wo=null,Ge=e):Ge=t):Ge=rt?qt(e.stateNode.nextSibling):null;return!0}function tn(){Ge=rt=null,_e=!1}function Ms(){var e=xa;return e!==null&&(St===null?St=e:St.push.apply(St,e),xa=null),e}function Tr(e){xa===null?xa=[e]:xa.push(e)}var Us=T(null),an=null,na=null;function Ta(e,t,a){X(Us,t._currentValue),t._currentValue=a}function ra(e){e._currentValue=Us.current,B(Us)}function Os(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function As(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var f=i.child;o=o.firstContext;e:for(;o!==null;){var p=o;o=i;for(var S=0;S<t.length;S++)if(p.context===t[S]){o.lanes|=a,p=o.alternate,p!==null&&(p.lanes|=a),Os(o.return,a,e),n||(f=null);break e}o=p.next}}else if(i.tag===18){if(f=i.return,f===null)throw Error(l(341));f.lanes|=a,o=f.alternate,o!==null&&(o.lanes|=a),Os(f,a,e),f=null}else f=i.child;if(f!==null)f.return=i;else for(f=i;f!==null;){if(f===e){f=null;break}if(i=f.sibling,i!==null){i.return=f.return,f=i;break}f=f.return}i=f}}function wn(e,t,a,n){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var f=i.alternate;if(f===null)throw Error(l(387));if(f=f.memoizedProps,f!==null){var p=i.type;_t(i.pendingProps.value,f.value)||(e!==null?e.push(p):e=[p])}}else if(i===O.current){if(f=i.alternate,f===null)throw Error(l(387));f.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($r):e=[$r])}i=i.return}e!==null&&As(t,e,a,n),t.flags|=262144}function Ai(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function nn(e){an=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Xu(an,e)}function Di(e,t){return an===null&&nn(e),Xu(e,t)}function Xu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(l(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var l0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},s0=c.unstable_scheduleCallback,o0=c.unstable_NormalPriority,$e={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ds(){return{controller:new l0,data:new Map,refCount:0}}function Cr(e){e.refCount--,e.refCount===0&&s0(o0,function(){e.controller.abort()})}var _r=null,zs=0,Ln=0,qn=null;function c0(e,t){if(_r===null){var a=_r=[];zs=0,Ln=Lo(),qn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return zs++,t.then(Vu,Vu),t}function Vu(){if(--zs===0&&_r!==null){qn!==null&&(qn.status="fulfilled");var e=_r;_r=null,Ln=0,qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function u0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Qu=j.S;j.S=function(e,t){jd=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&c0(e,t),Qu!==null&&Qu(e,t)};var rn=T(null);function Bs(){var e=rn.current;return e!==null?e:qe.pooledCache}function zi(e,t){t===null?X(rn,rn.current):X(rn,t.pool)}function Ku(){var e=Bs();return e===null?null:{parent:$e._currentValue,pool:e}}var Gn=Error(l(460)),Hs=Error(l(474)),Bi=Error(l(542)),Hi={then:function(){}};function Zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Wt,Wt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pu(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pu(e),e}throw sn=t,Gn}}function ln(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sn=a,Gn):a}}var sn=null;function $u(){if(sn===null)throw Error(l(459));var e=sn;return sn=null,e}function Pu(e){if(e===Gn||e===Bi)throw Error(l(483))}var Yn=null,kr=0;function wi(e){var t=kr;return kr+=1,Yn===null&&(Yn=[]),Ju(Yn,e,t)}function Rr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Li(e,t){throw t.$$typeof===R?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fu(e){function t(k,_){if(e){var E=k.deletions;E===null?(k.deletions=[_],k.flags|=16):E.push(_)}}function a(k,_){if(!e)return null;for(;_!==null;)t(k,_),_=_.sibling;return null}function n(k){for(var _=new Map;k!==null;)k.key!==null?_.set(k.key,k):_.set(k.index,k),k=k.sibling;return _}function i(k,_){return k=ta(k,_),k.index=0,k.sibling=null,k}function o(k,_,E){return k.index=E,e?(E=k.alternate,E!==null?(E=E.index,E<_?(k.flags|=67108866,_):E):(k.flags|=67108866,_)):(k.flags|=1048576,_)}function f(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function p(k,_,E,z){return _===null||_.tag!==6?(_=ks(E,k.mode,z),_.return=k,_):(_=i(_,E),_.return=k,_)}function S(k,_,E,z){var ae=E.type;return ae===G?A(k,_,E.props.children,z,E.key):_!==null&&(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&ln(ae)===_.type)?(_=i(_,E.props),Rr(_,E),_.return=k,_):(_=Ui(E.type,E.key,E.props,null,k.mode,z),Rr(_,E),_.return=k,_)}function N(k,_,E,z){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Rs(E,k.mode,z),_.return=k,_):(_=i(_,E.children||[]),_.return=k,_)}function A(k,_,E,z,ae){return _===null||_.tag!==7?(_=en(E,k.mode,z,ae),_.return=k,_):(_=i(_,E),_.return=k,_)}function H(k,_,E){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=ks(""+_,k.mode,E),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case w:return E=Ui(_.type,_.key,_.props,null,k.mode,E),Rr(E,_),E.return=k,E;case Y:return _=Rs(_,k.mode,E),_.return=k,_;case ne:return _=ln(_),H(k,_,E)}if(Ce(_)||J(_))return _=en(_,k.mode,E,null),_.return=k,_;if(typeof _.then=="function")return H(k,wi(_),E);if(_.$$typeof===ue)return H(k,Di(k,_),E);Li(k,_)}return null}function M(k,_,E,z){var ae=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return ae!==null?null:p(k,_,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return E.key===ae?S(k,_,E,z):null;case Y:return E.key===ae?N(k,_,E,z):null;case ne:return E=ln(E),M(k,_,E,z)}if(Ce(E)||J(E))return ae!==null?null:A(k,_,E,z,null);if(typeof E.then=="function")return M(k,_,wi(E),z);if(E.$$typeof===ue)return M(k,_,Di(k,E),z);Li(k,E)}return null}function U(k,_,E,z,ae){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return k=k.get(E)||null,p(_,k,""+z,ae);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return k=k.get(z.key===null?E:z.key)||null,S(_,k,z,ae);case Y:return k=k.get(z.key===null?E:z.key)||null,N(_,k,z,ae);case ne:return z=ln(z),U(k,_,E,z,ae)}if(Ce(z)||J(z))return k=k.get(E)||null,A(_,k,z,ae,null);if(typeof z.then=="function")return U(k,_,E,wi(z),ae);if(z.$$typeof===ue)return U(k,_,E,Di(_,z),ae);Li(_,z)}return null}function Z(k,_,E,z){for(var ae=null,je=null,I=_,he=_=0,Te=null;I!==null&&he<E.length;he++){I.index>he?(Te=I,I=null):Te=I.sibling;var Me=M(k,I,E[he],z);if(Me===null){I===null&&(I=Te);break}e&&I&&Me.alternate===null&&t(k,I),_=o(Me,_,he),je===null?ae=Me:je.sibling=Me,je=Me,I=Te}if(he===E.length)return a(k,I),_e&&aa(k,he),ae;if(I===null){for(;he<E.length;he++)I=H(k,E[he],z),I!==null&&(_=o(I,_,he),je===null?ae=I:je.sibling=I,je=I);return _e&&aa(k,he),ae}for(I=n(I);he<E.length;he++)Te=U(I,k,he,E[he],z),Te!==null&&(e&&Te.alternate!==null&&I.delete(Te.key===null?he:Te.key),_=o(Te,_,he),je===null?ae=Te:je.sibling=Te,je=Te);return e&&I.forEach(function(qa){return t(k,qa)}),_e&&aa(k,he),ae}function le(k,_,E,z){if(E==null)throw Error(l(151));for(var ae=null,je=null,I=_,he=_=0,Te=null,Me=E.next();I!==null&&!Me.done;he++,Me=E.next()){I.index>he?(Te=I,I=null):Te=I.sibling;var qa=M(k,I,Me.value,z);if(qa===null){I===null&&(I=Te);break}e&&I&&qa.alternate===null&&t(k,I),_=o(qa,_,he),je===null?ae=qa:je.sibling=qa,je=qa,I=Te}if(Me.done)return a(k,I),_e&&aa(k,he),ae;if(I===null){for(;!Me.done;he++,Me=E.next())Me=H(k,Me.value,z),Me!==null&&(_=o(Me,_,he),je===null?ae=Me:je.sibling=Me,je=Me);return _e&&aa(k,he),ae}for(I=n(I);!Me.done;he++,Me=E.next())Me=U(I,k,he,Me.value,z),Me!==null&&(e&&Me.alternate!==null&&I.delete(Me.key===null?he:Me.key),_=o(Me,_,he),je===null?ae=Me:je.sibling=Me,je=Me);return e&&I.forEach(function(Sg){return t(k,Sg)}),_e&&aa(k,he),ae}function we(k,_,E,z){if(typeof E=="object"&&E!==null&&E.type===G&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case w:e:{for(var ae=E.key;_!==null;){if(_.key===ae){if(ae=E.type,ae===G){if(_.tag===7){a(k,_.sibling),z=i(_,E.props.children),z.return=k,k=z;break e}}else if(_.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&ln(ae)===_.type){a(k,_.sibling),z=i(_,E.props),Rr(z,E),z.return=k,k=z;break e}a(k,_);break}else t(k,_);_=_.sibling}E.type===G?(z=en(E.props.children,k.mode,z,E.key),z.return=k,k=z):(z=Ui(E.type,E.key,E.props,null,k.mode,z),Rr(z,E),z.return=k,k=z)}return f(k);case Y:e:{for(ae=E.key;_!==null;){if(_.key===ae)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){a(k,_.sibling),z=i(_,E.children||[]),z.return=k,k=z;break e}else{a(k,_);break}else t(k,_);_=_.sibling}z=Rs(E,k.mode,z),z.return=k,k=z}return f(k);case ne:return E=ln(E),we(k,_,E,z)}if(Ce(E))return Z(k,_,E,z);if(J(E)){if(ae=J(E),typeof ae!="function")throw Error(l(150));return E=ae.call(E),le(k,_,E,z)}if(typeof E.then=="function")return we(k,_,wi(E),z);if(E.$$typeof===ue)return we(k,_,Di(k,E),z);Li(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,_!==null&&_.tag===6?(a(k,_.sibling),z=i(_,E),z.return=k,k=z):(a(k,_),z=ks(E,k.mode,z),z.return=k,k=z),f(k)):a(k,_)}return function(k,_,E,z){try{kr=0;var ae=we(k,_,E,z);return Yn=null,ae}catch(I){if(I===Gn||I===Bi)throw I;var je=kt(29,I,null,k.mode);return je.lanes=z,je.return=k,je}}}var on=Fu(!0),Iu=Fu(!1),Ca=!1;function ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Oe&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Mi(e),zu(e,null,a),t}return ji(e,n,t,a),Mi(e)}function Er(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xc(e,a)}}function qs(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?i=o=f:o=o.next=f,a=a.next}while(a!==null);o===null?i=o=t:o=o.next=t}else i=o=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Gs=!1;function Nr(){if(Gs){var e=qn;if(e!==null)throw e}}function jr(e,t,a,n){Gs=!1;var i=e.updateQueue;Ca=!1;var o=i.firstBaseUpdate,f=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var S=p,N=S.next;S.next=null,f===null?o=N:f.next=N,f=S;var A=e.alternate;A!==null&&(A=A.updateQueue,p=A.lastBaseUpdate,p!==f&&(p===null?A.firstBaseUpdate=N:p.next=N,A.lastBaseUpdate=S))}if(o!==null){var H=i.baseState;f=0,A=N=S=null,p=o;do{var M=p.lane&-536870913,U=M!==p.lane;if(U?(Se&M)===M:(n&M)===M){M!==0&&M===Ln&&(Gs=!0),A!==null&&(A=A.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Z=e,le=p;M=t;var we=a;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){H=Z.call(we,H,M);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,M=typeof Z=="function"?Z.call(we,H,M):Z,M==null)break e;H=C({},H,M);break e;case 2:Ca=!0}}M=p.callback,M!==null&&(e.flags|=64,U&&(e.flags|=8192),U=i.callbacks,U===null?i.callbacks=[M]:U.push(M))}else U={lane:M,tag:p.tag,payload:p.payload,callback:p.callback,next:null},A===null?(N=A=U,S=H):A=A.next=U,f|=M;if(p=p.next,p===null){if(p=i.shared.pending,p===null)break;U=p,p=U.next,U.next=null,i.lastBaseUpdate=U,i.shared.pending=null}}while(!0);A===null&&(S=H),i.baseState=S,i.firstBaseUpdate=N,i.lastBaseUpdate=A,o===null&&(i.shared.lanes=0),Ma|=f,e.lanes=f,e.memoizedState=H}}function Wu(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function ef(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wu(a[e],t)}var Xn=T(null),qi=T(0);function tf(e,t){e=ma,X(qi,e),X(Xn,t),ma=e|t.baseLanes}function Ys(){X(qi,ma),X(Xn,Xn.current)}function Xs(){ma=qi.current,B(Xn),B(qi)}var Rt=T(null),Lt=null;function Ra(e){var t=e.alternate;X(Ke,Ke.current&1),X(Rt,e),Lt===null&&(t===null||Xn.current!==null||t.memoizedState!==null)&&(Lt=e)}function Vs(e){X(Ke,Ke.current),X(Rt,e),Lt===null&&(Lt=e)}function af(e){e.tag===22?(X(Ke,Ke.current),X(Rt,e),Lt===null&&(Lt=e)):Ea()}function Ea(){X(Ke,Ke.current),X(Rt,Rt.current)}function Et(e){B(Rt),Lt===e&&(Lt=null),B(Ke)}var Ke=T(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fo(a)||Io(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,pe=null,Be=null,Pe=null,Yi=!1,Vn=!1,cn=!1,Xi=0,Mr=0,Qn=null,f0=0;function Ve(){throw Error(l(321))}function Qs(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function Ks(e,t,a,n,i,o){return ia=o,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?qf:so,cn=!1,o=a(n,i),cn=!1,Vn&&(o=rf(t,a,n,i)),nf(e),o}function nf(e){j.H=Ar;var t=Be!==null&&Be.next!==null;if(ia=0,Pe=Be=pe=null,Yi=!1,Mr=0,Qn=null,t)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&Ai(e)&&(Fe=!0))}function rf(e,t,a,n){pe=e;var i=0;do{if(Vn&&(Qn=null),Mr=0,Vn=!1,25<=i)throw Error(l(301));if(i+=1,Pe=Be=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Gf,o=t(a,n)}while(Vn);return o}function d0(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Ur(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(pe.flags|=1024),t}function Zs(){var e=Xi!==0;return Xi=0,e}function Js(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function $s(e){if(Yi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yi=!1}ia=0,Pe=Be=pe=null,Vn=!1,Mr=Xi=0,Qn=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ze(){if(Be===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Pe===null?pe.memoizedState:Pe.next;if(t!==null)Pe=t,Be=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Vi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ur(e){var t=Mr;return Mr+=1,Qn===null&&(Qn=[]),e=Ju(Qn,e,t),t=pe,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?qf:so),e}function Qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ur(e);if(e.$$typeof===ue)return it(e)}throw Error(l(438,String(e)))}function Ps(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Vi(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Re;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=Ze();return Fs(t,Be,e)}function Fs(e,t,a){var n=e.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=a;var i=e.baseQueue,o=n.pending;if(o!==null){if(i!==null){var f=i.next;i.next=o.next,o.next=f}t.baseQueue=i=o,n.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var p=f=null,S=null,N=t,A=!1;do{var H=N.lane&-536870913;if(H!==N.lane?(Se&H)===H:(ia&H)===H){var M=N.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),H===Ln&&(A=!0);else if((ia&M)===M){N=N.next,M===Ln&&(A=!0);continue}else H={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(p=S=H,f=o):S=S.next=H,pe.lanes|=M,Ma|=M;H=N.action,cn&&a(o,H),o=N.hasEagerState?N.eagerState:a(o,H)}else M={lane:H,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(p=S=M,f=o):S=S.next=M,pe.lanes|=H,Ma|=H;N=N.next}while(N!==null&&N!==t);if(S===null?f=o:S.next=p,!_t(o,e.memoizedState)&&(Fe=!0,A&&(a=qn,a!==null)))throw a;e.memoizedState=o,e.baseState=f,e.baseQueue=S,n.lastRenderedState=o}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Is(e){var t=Ze(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,o=t.memoizedState;if(i!==null){a.pending=null;var f=i=i.next;do o=e(o,f.action),f=f.next;while(f!==i);_t(o,t.memoizedState)||(Fe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,n]}function lf(e,t,a){var n=pe,i=Ze(),o=_e;if(o){if(a===void 0)throw Error(l(407));a=a()}else a=t();var f=!_t((Be||i).memoizedState,a);if(f&&(i.memoizedState=a,Fe=!0),i=i.queue,to(cf.bind(null,n,i,e),[e]),i.getSnapshot!==t||f||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Kn(9,{destroy:void 0},of.bind(null,n,i,a,t),null),qe===null)throw Error(l(349));o||(ia&127)!==0||sf(n,t,a)}return a}function sf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Vi(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function of(e,t,a,n){t.value=a,t.getSnapshot=n,uf(t)&&ff(e)}function cf(e,t,a){return a(function(){uf(t)&&ff(e)})}function uf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function ff(e){var t=Wa(e,2);t!==null&&Tt(t,e,2)}function Ws(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),cn){Ut(!0);try{a()}finally{Ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function df(e,t,a,n){return e.baseState=a,Fs(e,Be,typeof n=="function"?n:la)}function m0(e,t,a,n,i){if($i(e))throw Error(l(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){o.listeners.push(f)}};j.T!==null?a(!0):o.isTransition=!1,n(o),a=t.pending,a===null?(o.next=t.pending=o,mf(t,o)):(o.next=a.next,t.pending=a.next=o)}}function mf(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var o=j.T,f={};j.T=f;try{var p=a(i,n),S=j.S;S!==null&&S(f,p),pf(e,t,p)}catch(N){eo(e,t,N)}finally{o!==null&&f.types!==null&&(o.types=f.types),j.T=o}}else try{o=a(i,n),pf(e,t,o)}catch(N){eo(e,t,N)}}function pf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){hf(e,t,n)},function(n){return eo(e,t,n)}):hf(e,t,a)}function hf(e,t,a){t.status="fulfilled",t.value=a,gf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,mf(e,a)))}function eo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,gf(t),t=t.next;while(t!==n)}e.action=null}function gf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yf(e,t){return t}function bf(e,t){if(_e){var a=qe.formState;if(a!==null){e:{var n=pe;if(_e){if(Ge){t:{for(var i=Ge,o=wt;i.nodeType!==8;){if(!o){i=null;break t}if(i=qt(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){Ge=qt(i.nextSibling),n=i.data==="F!";break e}}Sa(n)}n=!1}n&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},a.queue=n,a=Hf.bind(null,pe,n),n.dispatch=a,n=Ws(!1),o=lo.bind(null,pe,!1,n.queue),n=pt(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=m0.bind(null,pe,i,o,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function vf(e){var t=Ze();return xf(t,Be,e)}function xf(e,t,a){if(t=Fs(e,t,yf)[0],e=Ki(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Ur(t)}catch(f){throw f===Gn?Bi:f}else n=t;t=Ze();var i=t.queue,o=i.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Kn(9,{destroy:void 0},p0.bind(null,i,a),null)),[n,o,e]}function p0(e,t){e.action=t}function Sf(e){var t=Ze(),a=Be;if(a!==null)return xf(t,a,e);Ze(),t=t.memoizedState,a=Ze();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Kn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Vi(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Tf(){return Ze().memoizedState}function Zi(e,t,a,n){var i=pt();pe.flags|=e,i.memoizedState=Kn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Ji(e,t,a,n){var i=Ze();n=n===void 0?null:n;var o=i.memoizedState.inst;Be!==null&&n!==null&&Qs(n,Be.memoizedState.deps)?i.memoizedState=Kn(t,o,a,n):(pe.flags|=e,i.memoizedState=Kn(1|t,o,a,n))}function Cf(e,t){Zi(8390656,8,e,t)}function to(e,t){Ji(2048,8,e,t)}function h0(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Vi(),pe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function _f(e){var t=Ze().memoizedState;return h0({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function kf(e,t){return Ji(4,2,e,t)}function Rf(e,t){return Ji(4,4,e,t)}function Ef(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,a){a=a!=null?a.concat([e]):null,Ji(4,4,Ef.bind(null,t,e),a)}function ao(){}function jf(e,t){var a=Ze();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Qs(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Mf(e,t){var a=Ze();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Qs(t,n[1]))return n[0];if(n=e(),cn){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[n,t],n}function no(e,t,a){return a===void 0||(ia&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ud(),pe.lanes|=e,Ma|=e,a)}function Uf(e,t,a,n){return _t(a,t)?a:Xn.current!==null?(e=no(e,a,n),_t(e,t)||(Fe=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(Se&261930)===0?(Fe=!0,e.memoizedState=a):(e=Ud(),pe.lanes|=e,Ma|=e,t)}function Of(e,t,a,n,i){var o=q.p;q.p=o!==0&&8>o?o:8;var f=j.T,p={};j.T=p,lo(e,!1,t,a);try{var S=i(),N=j.S;if(N!==null&&N(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var A=u0(S,n);Or(e,t,A,Mt(e))}else Or(e,t,n,Mt(e))}catch(H){Or(e,t,{then:function(){},status:"rejected",reason:H},Mt())}finally{q.p=o,f!==null&&p.types!==null&&(f.types=p.types),j.T=f}}function g0(){}function ro(e,t,a,n){if(e.tag!==5)throw Error(l(476));var i=Af(e).queue;Of(e,i,t,$,a===null?g0:function(){return Df(e),a(n)})}function Af(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:$},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Df(e){var t=Af(e);t.next===null&&(t=e.alternate.memoizedState),Or(e,t.next.queue,{},Mt())}function io(){return it($r)}function zf(){return Ze().memoizedState}function Bf(){return Ze().memoizedState}function y0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Mt();e=_a(a);var n=ka(t,e,a);n!==null&&(Tt(n,t,a),Er(n,t,a)),t={cache:Ds()},e.payload=t;return}t=t.return}}function b0(e,t,a){var n=Mt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$i(e)?wf(t,a):(a=Cs(e,t,a,n),a!==null&&(Tt(a,e,n),Lf(a,t,n)))}function Hf(e,t,a){var n=Mt();Or(e,t,a,n)}function Or(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($i(e))wf(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var f=t.lastRenderedState,p=o(f,a);if(i.hasEagerState=!0,i.eagerState=p,_t(p,f))return ji(e,t,i,0),qe===null&&Ni(),!1}catch{}if(a=Cs(e,t,i,n),a!==null)return Tt(a,e,n),Lf(a,t,n),!0}return!1}function lo(e,t,a,n){if(n={lane:2,revertLane:Lo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e)){if(t)throw Error(l(479))}else t=Cs(e,a,n,2),t!==null&&Tt(t,e,2)}function $i(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function wf(e,t){Vn=Yi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Lf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Xc(e,a)}}var Ar={readContext:it,use:Qi,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Ar.useEffectEvent=Ve;var qf={readContext:it,use:Qi,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Cf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Zi(4194308,4,Ef.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Zi(4194308,4,e,t)},useInsertionEffect:function(e,t){Zi(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var n=e();if(cn){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=pt();if(a!==void 0){var i=a(t);if(cn){Ut(!0);try{a(t)}finally{Ut(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=b0.bind(null,pe,e),[n.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ws(e);var t=e.queue,a=Hf.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ao,useDeferredValue:function(e,t){var a=pt();return no(a,e,t)},useTransition:function(){var e=Ws(!1);return e=Of.bind(null,pe,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=pe,i=pt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),qe===null)throw Error(l(349));(Se&127)!==0||sf(n,t,a)}i.memoizedState=a;var o={value:a,getSnapshot:t};return i.queue=o,Cf(cf.bind(null,n,o,e),[e]),n.flags|=2048,Kn(9,{destroy:void 0},of.bind(null,n,o,a,t),null),a},useId:function(){var e=pt(),t=qe.identifierPrefix;if(_e){var a=Kt,n=Qt;a=(n&~(1<<32-mt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Xi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=f0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:bf,useActionState:bf,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=lo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ps,useCacheRefresh:function(){return pt().memoizedState=y0.bind(null,pe)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},so={readContext:it,use:Qi,useCallback:jf,useContext:it,useEffect:to,useImperativeHandle:Nf,useInsertionEffect:kf,useLayoutEffect:Rf,useMemo:Mf,useReducer:Ki,useRef:Tf,useState:function(){return Ki(la)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Ze();return Uf(a,Be.memoizedState,e,t)},useTransition:function(){var e=Ki(la)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ur(e),t]},useSyncExternalStore:lf,useId:zf,useHostTransitionStatus:io,useFormState:vf,useActionState:vf,useOptimistic:function(e,t){var a=Ze();return df(a,Be,e,t)},useMemoCache:Ps,useCacheRefresh:Bf};so.useEffectEvent=_f;var Gf={readContext:it,use:Qi,useCallback:jf,useContext:it,useEffect:to,useImperativeHandle:Nf,useInsertionEffect:kf,useLayoutEffect:Rf,useMemo:Mf,useReducer:Is,useRef:Tf,useState:function(){return Is(la)},useDebugValue:ao,useDeferredValue:function(e,t){var a=Ze();return Be===null?no(a,e,t):Uf(a,Be.memoizedState,e,t)},useTransition:function(){var e=Is(la)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ur(e),t]},useSyncExternalStore:lf,useId:zf,useHostTransitionStatus:io,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,t){var a=Ze();return Be!==null?df(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:Bf};Gf.useEffectEvent=_f;function oo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:C({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var co={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Mt(),i=_a(n);i.payload=t,a!=null&&(i.callback=a),t=ka(e,i,n),t!==null&&(Tt(t,e,n),Er(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Mt(),i=_a(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=ka(e,i,n),t!==null&&(Tt(t,e,n),Er(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mt(),n=_a(a);n.tag=2,t!=null&&(n.callback=t),t=ka(e,n,a),t!==null&&(Tt(t,e,a),Er(t,e,a))}};function Yf(e,t,a,n,i,o,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,f):t.prototype&&t.prototype.isPureReactComponent?!vr(a,n)||!vr(i,o):!0}function Xf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function un(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=C({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Vf(e){Ei(e)}function Qf(e){console.error(e)}function Kf(e){Ei(e)}function Pi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Zf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function uo(e,t,a){return a=_a(a),a.tag=3,a.payload={element:null},a.callback=function(){Pi(e,t)},a}function Jf(e){return e=_a(e),e.tag=3,e}function $f(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;e.payload=function(){return i(o)},e.callback=function(){Zf(t,a,n)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Zf(t,a,n),typeof i!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function v0(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&wn(t,a,i,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Lt===null?ol():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Hi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Bo(e,n,i)),!1;case 22:return a.flags|=65536,n===Hi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Bo(e,n,i)),!1}throw Error(l(435,a.tag))}return Bo(e,n,i),ol(),!1}if(_e)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==js&&(e=Error(l(422),{cause:n}),Tr(zt(e,a)))):(n!==js&&(t=Error(l(423),{cause:n}),Tr(zt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=zt(n,a),i=uo(e.stateNode,n,i),qs(e,i),Qe!==4&&(Qe=2)),!1;var o=Error(l(520),{cause:n});if(o=zt(o,a),Gr===null?Gr=[o]:Gr.push(o),Qe!==4&&(Qe=2),t===null)return!0;n=zt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=uo(a.stateNode,n,e),qs(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ua===null||!Ua.has(o))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Jf(i),$f(i,e,a,n),qs(a,i),!1}a=a.return}while(a!==null);return!1}var fo=Error(l(461)),Fe=!1;function lt(e,t,a,n){t.child=e===null?Iu(t,null,a,n):on(t,e.child,a,n)}function Pf(e,t,a,n,i){a=a.render;var o=t.ref;if("ref"in n){var f={};for(var p in n)p!=="ref"&&(f[p]=n[p])}else f=n;return nn(t),n=Ks(e,t,a,f,o,i),p=Zs(),e!==null&&!Fe?(Js(e,t,i),sa(e,t,i)):(_e&&p&&Es(t),t.flags|=1,lt(e,t,n,i),t.child)}function Ff(e,t,a,n,i){if(e===null){var o=a.type;return typeof o=="function"&&!_s(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,If(e,t,o,n,i)):(e=Ui(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!xo(e,i)){var f=o.memoizedProps;if(a=a.compare,a=a!==null?a:vr,a(f,n)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,e=ta(o,n),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,a,n,i){if(e!==null){var o=e.memoizedProps;if(vr(o,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=o,xo(e,i))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,sa(e,t,i)}return mo(e,t,a,n,i)}function Wf(e,t,a,n){var i=n.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~o}else n=0,t.child=null;return ed(e,t,o,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zi(t,o!==null?o.cachePool:null),o!==null?tf(t,o):Ys(),af(t);else return n=t.lanes=536870912,ed(e,t,o!==null?o.baseLanes|a:a,a,n)}else o!==null?(zi(t,o.cachePool),tf(t,o),Ea(),t.memoizedState=null):(e!==null&&zi(t,null),Ys(),Ea());return lt(e,t,i,a),t.child}function Dr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ed(e,t,a,n,i){var o=Bs();return o=o===null?null:{parent:$e._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&zi(t,null),Ys(),af(t),e!==null&&wn(e,t,n,!0),t.childLanes=i,null}function Fi(e,t){return t=Wi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function td(e,t,a){return on(t,e.child,null,a),e=Fi(t,t.pendingProps),e.flags|=2,Et(t),t.memoizedState=null,e}function x0(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(n.mode==="hidden")return e=Fi(t,n),t.lanes=536870912,Dr(null,e);if(Vs(t),(e=Ge)?(e=mm(e,wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Qt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Hu(e),a.return=t,t.child=a,rt=t,Ge=null)):e=null,e===null)throw Sa(t);return t.lanes=536870912,null}return Fi(t,n)}var o=e.memoizedState;if(o!==null){var f=o.dehydrated;if(Vs(t),i)if(t.flags&256)t.flags&=-257,t=td(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Fe||wn(e,t,a,!1),i=(a&e.childLanes)!==0,Fe||i){if(n=qe,n!==null&&(f=Vc(n,a),f!==0&&f!==o.retryLane))throw o.retryLane=f,Wa(e,f),Tt(n,e,f),fo;ol(),t=td(e,t,a)}else e=o.treeContext,Ge=qt(f.nextSibling),rt=t,_e=!0,xa=null,wt=!1,e!==null&&qu(t,e),t=Fi(t,n),t.flags|=4096;return t}return e=ta(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ii(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mo(e,t,a,n,i){return nn(t),a=Ks(e,t,a,n,void 0,i),n=Zs(),e!==null&&!Fe?(Js(e,t,i),sa(e,t,i)):(_e&&n&&Es(t),t.flags|=1,lt(e,t,a,i),t.child)}function ad(e,t,a,n,i,o){return nn(t),t.updateQueue=null,a=rf(t,n,a,i),nf(e),n=Zs(),e!==null&&!Fe?(Js(e,t,o),sa(e,t,o)):(_e&&n&&Es(t),t.flags|=1,lt(e,t,a,o),t.child)}function nd(e,t,a,n,i){if(nn(t),t.stateNode===null){var o=Dn,f=a.contextType;typeof f=="object"&&f!==null&&(o=it(f)),o=new a(n,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=co,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=n,o.state=t.memoizedState,o.refs={},ws(t),f=a.contextType,o.context=typeof f=="object"&&f!==null?it(f):Dn,o.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(oo(t,a,f,n),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(f=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),f!==o.state&&co.enqueueReplaceState(o,o.state,null),jr(t,n,o,i),Nr(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){o=t.stateNode;var p=t.memoizedProps,S=un(a,p);o.props=S;var N=o.context,A=a.contextType;f=Dn,typeof A=="object"&&A!==null&&(f=it(A));var H=a.getDerivedStateFromProps;A=typeof H=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||N!==f)&&Xf(t,o,n,f),Ca=!1;var M=t.memoizedState;o.state=M,jr(t,n,o,i),Nr(),N=t.memoizedState,p||M!==N||Ca?(typeof H=="function"&&(oo(t,a,H,n),N=t.memoizedState),(S=Ca||Yf(t,a,S,n,M,N,f))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=N),o.props=n,o.state=N,o.context=f,n=S):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ls(e,t),f=t.memoizedProps,A=un(a,f),o.props=A,H=t.pendingProps,M=o.context,N=a.contextType,S=Dn,typeof N=="object"&&N!==null&&(S=it(N)),p=a.getDerivedStateFromProps,(N=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(f!==H||M!==S)&&Xf(t,o,n,S),Ca=!1,M=t.memoizedState,o.state=M,jr(t,n,o,i),Nr();var U=t.memoizedState;f!==H||M!==U||Ca||e!==null&&e.dependencies!==null&&Ai(e.dependencies)?(typeof p=="function"&&(oo(t,a,p,n),U=t.memoizedState),(A=Ca||Yf(t,a,A,n,M,U,S)||e!==null&&e.dependencies!==null&&Ai(e.dependencies))?(N||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,U,S),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,U,S)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=U),o.props=n,o.state=U,o.context=S,n=A):(typeof o.componentDidUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),n=!1)}return o=n,Ii(e,t),n=(t.flags&128)!==0,o||n?(o=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&n?(t.child=on(t,e.child,null,i),t.child=on(t,null,a,i)):lt(e,t,a,i),t.memoizedState=o.state,e=t.child):e=sa(e,t,i),e}function rd(e,t,a,n){return tn(),t.flags|=256,lt(e,t,a,n),t.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ho(e){return{baseLanes:e,cachePool:Ku()}}function go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function id(e,t,a){var n=t.pendingProps,i=!1,o=(t.flags&128)!==0,f;if((f=o)||(f=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),f&&(i=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(i?Ra(t):Ea(),(e=Ge)?(e=mm(e,wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Qt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Hu(e),a.return=t,t.child=a,rt=t,Ge=null)):e=null,e===null)throw Sa(t);return Io(e)?t.lanes=32:t.lanes=536870912,null}var p=n.children;return n=n.fallback,i?(Ea(),i=t.mode,p=Wi({mode:"hidden",children:p},i),n=en(n,i,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,n=t.child,n.memoizedState=ho(a),n.childLanes=go(e,f,a),t.memoizedState=po,Dr(null,n)):(Ra(t),yo(t,p))}var S=e.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(o)t.flags&256?(Ra(t),t.flags&=-257,t=bo(e,t,a)):t.memoizedState!==null?(Ea(),t.child=e.child,t.flags|=128,t=null):(Ea(),p=n.fallback,i=t.mode,n=Wi({mode:"visible",children:n.children},i),p=en(p,i,a,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,on(t,e.child,null,a),n=t.child,n.memoizedState=ho(a),n.childLanes=go(e,f,a),t.memoizedState=po,t=Dr(null,n));else if(Ra(t),Io(p)){if(f=p.nextSibling&&p.nextSibling.dataset,f)var N=f.dgst;f=N,n=Error(l(419)),n.stack="",n.digest=f,Tr({value:n,source:null,stack:null}),t=bo(e,t,a)}else if(Fe||wn(e,t,a,!1),f=(a&e.childLanes)!==0,Fe||f){if(f=qe,f!==null&&(n=Vc(f,a),n!==0&&n!==S.retryLane))throw S.retryLane=n,Wa(e,n),Tt(f,e,n),fo;Fo(p)||ol(),t=bo(e,t,a)}else Fo(p)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ge=qt(p.nextSibling),rt=t,_e=!0,xa=null,wt=!1,e!==null&&qu(t,e),t=yo(t,n.children),t.flags|=4096);return t}return i?(Ea(),p=n.fallback,i=t.mode,S=e.child,N=S.sibling,n=ta(S,{mode:"hidden",children:n.children}),n.subtreeFlags=S.subtreeFlags&65011712,N!==null?p=ta(N,p):(p=en(p,i,a,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,Dr(null,n),n=t.child,p=e.child.memoizedState,p===null?p=ho(a):(i=p.cachePool,i!==null?(S=$e._currentValue,i=i.parent!==S?{parent:S,pool:S}:i):i=Ku(),p={baseLanes:p.baseLanes|a,cachePool:i}),n.memoizedState=p,n.childLanes=go(e,f,a),t.memoizedState=po,Dr(e.child,n)):(Ra(t),a=e.child,e=a.sibling,a=ta(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function yo(e,t){return t=Wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wi(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function bo(e,t,a){return on(t,e.child,null,a),e=yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ld(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Os(e.return,t,a)}function vo(e,t,a,n,i,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=n,f.tail=a,f.tailMode=i,f.treeForkCount=o)}function sd(e,t,a){var n=t.pendingProps,i=n.revealOrder,o=n.tail;n=n.children;var f=Ke.current,p=(f&2)!==0;if(p?(f=f&1|2,t.flags|=128):f&=1,X(Ke,f),lt(e,t,n,a),n=_e?Sr:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,a,t);else if(e.tag===19)ld(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Gi(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),vo(t,!1,i,a,o,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gi(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}vo(t,!0,a,null,o,n);break;case"together":vo(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(wn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ta(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ta(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ai(e)))}function S0(e,t,a){switch(t.tag){case 3:re(t,t.stateNode.containerInfo),Ta(t,$e,e.memoizedState.cache),tn();break;case 27:case 5:ge(t);break;case 4:re(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Vs(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?id(e,t,a):(Ra(t),e=sa(e,t,a),e!==null?e.sibling:null);Ra(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(wn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return sd(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(Ke,Ke.current),n)break;return null;case 22:return t.lanes=0,Wf(e,t,a,t.pendingProps);case 24:Ta(t,$e,e.memoizedState.cache)}return sa(e,t,a)}function od(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!xo(e,a)&&(t.flags&128)===0)return Fe=!1,S0(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,_e&&(t.flags&1048576)!==0&&Lu(t,Sr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ln(t.elementType),t.type=e,typeof e=="function")_s(e)?(n=un(e,n),t.tag=1,t=nd(null,t,e,n,a)):(t.tag=0,t=mo(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===oe){t.tag=11,t=Pf(null,t,e,n,a);break e}else if(i===V){t.tag=14,t=Ff(null,t,e,n,a);break e}}throw t=de(e)||e,Error(l(306,t,""))}}return t;case 0:return mo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=un(n,t.pendingProps),nd(e,t,n,i,a);case 3:e:{if(re(t,t.stateNode.containerInfo),e===null)throw Error(l(387));n=t.pendingProps;var o=t.memoizedState;i=o.element,Ls(e,t),jr(t,n,null,a);var f=t.memoizedState;if(n=f.cache,Ta(t,$e,n),n!==o.cache&&As(t,[$e],a,!0),Nr(),n=f.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=rd(e,t,n,a);break e}else if(n!==i){i=zt(Error(l(424)),t),Tr(i),t=rd(e,t,n,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=qt(e.firstChild),rt=t,_e=!0,xa=null,wt=!0,a=Iu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tn(),n===i){t=sa(e,t,a);break e}lt(e,t,n,a)}t=t.child}return t;case 26:return Ii(e,t),e===null?(a=vm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,n=hl(me.current).createElement(a),n[nt]=t,n[gt]=e,st(n,a,e),tt(n),t.stateNode=n):t.memoizedState=vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&_e&&(n=t.stateNode=gm(t.type,t.pendingProps,me.current),rt=t,wt=!0,i=Ge,za(t.type)?(Wo=i,Ge=qt(n.firstChild)):Ge=i),lt(e,t,t.pendingProps.children,a),Ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((i=n=Ge)&&(n=F0(n,t.type,t.pendingProps,wt),n!==null?(t.stateNode=n,rt=t,Ge=qt(n.firstChild),wt=!1,i=!0):i=!1),i||Sa(t)),ge(t),i=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,n=o.children,Jo(i,o)?n=null:f!==null&&Jo(i,f)&&(t.flags|=32),t.memoizedState!==null&&(i=Ks(e,t,d0,null,null,a),$r._currentValue=i),Ii(e,t),lt(e,t,n,a),t.child;case 6:return e===null&&_e&&((e=a=Ge)&&(a=I0(a,t.pendingProps,wt),a!==null?(t.stateNode=a,rt=t,Ge=null,e=!0):e=!1),e||Sa(t)),null;case 13:return id(e,t,a);case 4:return re(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=on(t,null,n,a):lt(e,t,n,a),t.child;case 11:return Pf(e,t,t.type,t.pendingProps,a);case 7:return lt(e,t,t.pendingProps,a),t.child;case 8:return lt(e,t,t.pendingProps.children,a),t.child;case 12:return lt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ta(t,t.type,n.value),lt(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,nn(t),i=it(i),n=n(i),t.flags|=1,lt(e,t,n,a),t.child;case 14:return Ff(e,t,t.type,t.pendingProps,a);case 15:return If(e,t,t.type,t.pendingProps,a);case 19:return sd(e,t,a);case 31:return x0(e,t,a);case 22:return Wf(e,t,a,t.pendingProps);case 24:return nn(t),n=it($e),e===null?(i=Bs(),i===null&&(i=qe,o=Ds(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=a),i=o),t.memoizedState={parent:n,cache:i},ws(t),Ta(t,$e,i)):((e.lanes&a)!==0&&(Ls(e,t),jr(t,null,null,a),Nr()),i=e.memoizedState,o=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ta(t,$e,n)):(n=o.cache,Ta(t,$e,n),n!==i.cache&&As(t,[$e],a,!0))),lt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function oa(e){e.flags|=4}function So(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(zd())e.flags|=8192;else throw sn=Hi,Hs}else e.flags&=-16777217}function cd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(zd())e.flags|=8192;else throw sn=Hi,Hs}function el(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$l():536870912,e.lanes|=t,Pn|=t)}function zr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function T0(e,t,a){var n=t.pendingProps;switch(Ns(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra($e),W(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hn(t)?oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ms())),Ye(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(oa(t),o!==null?(Ye(t),cd(t,o)):(Ye(t),So(t,i,null,n,a))):o?o!==e.memoizedState?(oa(t),Ye(t),cd(t,o)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&oa(t),Ye(t),So(t,i,e,n,a)),null;case 27:if(Je(t),a=me.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&oa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Ye(t),null}e=Q.current,Hn(t)?Gu(t):(e=gm(i,n,a),t.stateNode=e,oa(t))}return Ye(t),null;case 5:if(Je(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&oa(t);else{if(!n){if(t.stateNode===null)throw Error(l(166));return Ye(t),null}if(o=Q.current,Hn(t))Gu(t);else{var f=hl(me.current);switch(o){case 1:o=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=f.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof n.is=="string"?f.createElement("select",{is:n.is}):f.createElement("select"),n.multiple?o.multiple=!0:n.size&&(o.size=n.size);break;default:o=typeof n.is=="string"?f.createElement(i,{is:n.is}):f.createElement(i)}}o[nt]=t,o[gt]=n;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=o;e:switch(st(o,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&oa(t)}}return Ye(t),So(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&oa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,Hn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=rt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||im(e.nodeValue,a)),e||Sa(t,!0)}else e=hl(e).createTextNode(n),e[nt]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Hn(t),a!==null){if(e===null){if(!n)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=t}else tn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Et(t),t):(Et(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ye(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Hn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(l(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(l(317));i[nt]=t}else tn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),i=!1}else i=Ms(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Et(t),t):(Et(t),null)}return Et(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),el(t,t.updateQueue),Ye(t),null);case 4:return W(),e===null&&Xo(t.stateNode.containerInfo),Ye(t),null;case 10:return ra(t.type),Ye(t),null;case 19:if(B(Ke),n=t.memoizedState,n===null)return Ye(t),null;if(i=(t.flags&128)!==0,o=n.rendering,o===null)if(i)zr(n,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Gi(e),o!==null){for(t.flags|=128,zr(n,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Bu(a,e),a=a.sibling;return X(Ke,Ke.current&1|2),_e&&aa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ft()>il&&(t.flags|=128,i=!0,zr(n,!1),t.lanes=4194304)}else{if(!i)if(e=Gi(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),zr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!_e)return Ye(t),null}else 2*ft()-n.renderingStartTime>il&&a!==536870912&&(t.flags|=128,i=!0,zr(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(e=n.last,e!==null?e.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ft(),e.sibling=null,a=Ke.current,X(Ke,i?a&1|2:a&1),_e&&aa(t,n.treeForkCount),e):(Ye(t),null);case 22:case 23:return Et(t),Xs(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&el(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&B(rn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ra($e),Ye(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function C0(e,t){switch(Ns(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra($e),W(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Je(t),null;case 31:if(t.memoizedState!==null){if(Et(t),t.alternate===null)throw Error(l(340));tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Et(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ke),null;case 4:return W(),null;case 10:return ra(t.type),null;case 22:case 23:return Et(t),Xs(),e!==null&&B(rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra($e),null;case 25:return null;default:return null}}function ud(e,t){switch(Ns(t),t.tag){case 3:ra($e),W();break;case 26:case 27:case 5:Je(t);break;case 4:W();break;case 31:t.memoizedState!==null&&Et(t);break;case 13:Et(t);break;case 19:B(Ke);break;case 10:ra(t.type);break;case 22:case 23:Et(t),Xs(),e!==null&&B(rn);break;case 24:ra($e)}}function Br(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var o=a.create,f=a.inst;n=o(),f.destroy=n}a=a.next}while(a!==i)}}catch(p){De(t,t.return,p)}}function Na(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){var f=n.inst,p=f.destroy;if(p!==void 0){f.destroy=void 0,i=t;var S=a,N=p;try{N()}catch(A){De(i,S,A)}}}n=n.next}while(n!==o)}}catch(A){De(t,t.return,A)}}function fd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ef(t,a)}catch(n){De(e,e.return,n)}}}function dd(e,t,a){a.props=un(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){De(e,t,n)}}function Hr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){De(e,t,i)}}function Zt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){De(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){De(e,t,i)}else a.current=null}function md(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){De(e,e.return,i)}}function To(e,t,a){try{var n=e.stateNode;Q0(n,e.type,a,t),n[gt]=t}catch(i){De(e,e.return,i)}}function pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&za(e.type)||e.tag===4}function Co(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Wt));else if(n!==4&&(n===27&&za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(_o(e,t,a),e=e.sibling;e!==null;)_o(e,t,a),e=e.sibling}function tl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tl(e,t,a),e=e.sibling;e!==null;)tl(e,t,a),e=e.sibling}function hd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);st(t,n,a),t[nt]=e,t[gt]=a}catch(o){De(e,e.return,o)}}var ca=!1,Ie=!1,ko=!1,gd=typeof WeakSet=="function"?WeakSet:Set,at=null;function _0(e,t){if(e=e.containerInfo,Ko=Tl,e=Eu(e),ys(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var f=0,p=-1,S=-1,N=0,A=0,H=e,M=null;t:for(;;){for(var U;H!==a||i!==0&&H.nodeType!==3||(p=f+i),H!==o||n!==0&&H.nodeType!==3||(S=f+n),H.nodeType===3&&(f+=H.nodeValue.length),(U=H.firstChild)!==null;)M=H,H=U;for(;;){if(H===e)break t;if(M===a&&++N===i&&(p=f),M===o&&++A===n&&(S=f),(U=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=U}a=p===-1||S===-1?null:{start:p,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zo={focusedElem:e,selectionRange:a},Tl=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,i=o.memoizedProps,o=o.memoizedState,n=a.stateNode;try{var Z=un(a.type,i);e=n.getSnapshotBeforeUpdate(Z,o),n.__reactInternalSnapshotBeforeUpdate=e}catch(le){De(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Po(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Po(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function yd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),n&4&&Br(5,a);break;case 1:if(fa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){De(a,a.return,f)}else{var i=un(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){De(a,a.return,f)}}n&64&&fd(a),n&512&&Hr(a,a.return);break;case 3:if(fa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ef(e,t)}catch(f){De(a,a.return,f)}}break;case 27:t===null&&n&4&&hd(a);case 26:case 5:fa(e,a),t===null&&n&4&&md(a),n&512&&Hr(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),n&4&&xd(e,a);break;case 13:fa(e,a),n&4&&Sd(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=A0.bind(null,a),W0(e,a))));break;case 22:if(n=a.memoizedState!==null||ca,!n){t=t!==null&&t.memoizedState!==null||Ie,i=ca;var o=Ie;ca=n,(Ie=t)&&!o?da(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),ca=i,Ie=o}break;case 30:break;default:fa(e,a)}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&es(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,bt=!1;function ua(e,t,a){for(a=a.child;a!==null;)vd(e,t,a),a=a.sibling}function vd(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Za,a)}catch{}switch(a.tag){case 26:Ie||Zt(a,t),ua(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Zt(a,t);var n=Xe,i=bt;za(a.type)&&(Xe=a.stateNode,bt=!1),ua(e,t,a),Kr(a.stateNode),Xe=n,bt=i;break;case 5:Ie||Zt(a,t);case 6:if(n=Xe,i=bt,Xe=null,ua(e,t,a),Xe=n,bt=i,Xe!==null)if(bt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(o){De(a,t,o)}else try{Xe.removeChild(a.stateNode)}catch(o){De(a,t,o)}break;case 18:Xe!==null&&(bt?(e=Xe,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rr(e)):fm(Xe,a.stateNode));break;case 4:n=Xe,i=bt,Xe=a.stateNode.containerInfo,bt=!0,ua(e,t,a),Xe=n,bt=i;break;case 0:case 11:case 14:case 15:Na(2,a,t),Ie||Na(4,a,t),ua(e,t,a);break;case 1:Ie||(Zt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&dd(a,t,n)),ua(e,t,a);break;case 21:ua(e,t,a);break;case 22:Ie=(n=Ie)||a.memoizedState!==null,ua(e,t,a),Ie=n;break;default:ua(e,t,a)}}function xd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rr(e)}catch(a){De(t,t.return,a)}}}function Sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rr(e)}catch(a){De(t,t.return,a)}}function k0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gd),t;default:throw Error(l(435,e.tag))}}function al(e,t){var a=k0(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=D0.bind(null,e,n);n.then(i,i)}})}function vt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],o=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 27:if(za(p.type)){Xe=p.stateNode,bt=!1;break e}break;case 5:Xe=p.stateNode,bt=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,bt=!0;break e}p=p.return}if(Xe===null)throw Error(l(160));vd(o,f,i),Xe=null,bt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}var Xt=null;function Td(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),xt(e),n&4&&(Na(3,e,e.return),Br(3,e),Na(5,e,e.return));break;case 1:vt(t,e),xt(e),n&512&&(Ie||a===null||Zt(a,a.return)),n&64&&ca&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Xt;if(vt(t,e),xt(e),n&512&&(Ie||a===null||Zt(a,a.return)),n&4){var o=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[ur]||o[nt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),st(o,n,a),o[nt]=e,tt(o),n=o;break e;case"link":var f=Tm("link","href",i).get(n+(a.href||""));if(f){for(var p=0;p<f.length;p++)if(o=f[p],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(p,1);break t}}o=i.createElement(n),st(o,n,a),i.head.appendChild(o);break;case"meta":if(f=Tm("meta","content",i).get(n+(a.content||""))){for(p=0;p<f.length;p++)if(o=f[p],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(p,1);break t}}o=i.createElement(n),st(o,n,a),i.head.appendChild(o);break;default:throw Error(l(468,n))}o[nt]=e,tt(o),n=o}e.stateNode=n}else Cm(i,e.type,e.stateNode);else e.stateNode=Sm(i,n,e.memoizedProps);else o!==n?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,n===null?Cm(i,e.type,e.stateNode):Sm(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&To(e,e.memoizedProps,a.memoizedProps)}break;case 27:vt(t,e),xt(e),n&512&&(Ie||a===null||Zt(a,a.return)),a!==null&&n&4&&To(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vt(t,e),xt(e),n&512&&(Ie||a===null||Zt(a,a.return)),e.flags&32){i=e.stateNode;try{En(i,"")}catch(Z){De(e,e.return,Z)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,To(e,i,a!==null?a.memoizedProps:i)),n&1024&&(ko=!0);break;case 6:if(vt(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(l(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(Z){De(e,e.return,Z)}}break;case 3:if(bl=null,i=Xt,Xt=gl(t.containerInfo),vt(t,e),Xt=i,xt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{rr(t.containerInfo)}catch(Z){De(e,e.return,Z)}ko&&(ko=!1,Cd(e));break;case 4:n=Xt,Xt=gl(e.stateNode.containerInfo),vt(t,e),xt(e),Xt=n;break;case 12:vt(t,e),xt(e);break;case 31:vt(t,e),xt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,al(e,n)));break;case 13:vt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rl=ft()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,al(e,n)));break;case 22:i=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=ca,A=Ie;if(ca=N||i,Ie=A||S,vt(t,e),Ie=A,ca=N,xt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||S||ca||Ie||fn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(o=S.stateNode,i)f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{p=S.stateNode;var H=S.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null;p.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(Z){De(S,S.return,Z)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=i?"":S.memoizedProps}catch(Z){De(S,S.return,Z)}}}else if(t.tag===18){if(a===null){S=t;try{var U=S.stateNode;i?dm(U,!0):dm(S.stateNode,!1)}catch(Z){De(S,S.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,al(e,a))));break;case 19:vt(t,e),xt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,al(e,n)));break;case 30:break;case 21:break;default:vt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(pd(n)){a=n;break}n=n.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var i=a.stateNode,o=Co(e);tl(e,o,i);break;case 5:var f=a.stateNode;a.flags&32&&(En(f,""),a.flags&=-33);var p=Co(e);tl(e,p,f);break;case 3:case 4:var S=a.stateNode.containerInfo,N=Co(e);_o(e,N,S);break;default:throw Error(l(161))}}catch(A){De(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yd(e,t.alternate,t),t=t.sibling}function fn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Na(4,t,t.return),fn(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&dd(t,t.return,a),fn(t);break;case 27:Kr(t.stateNode);case 26:case 5:Zt(t,t.return),fn(t);break;case 22:t.memoizedState===null&&fn(t);break;case 30:fn(t);break;default:fn(t)}e=e.sibling}}function da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,o=t,f=o.flags;switch(o.tag){case 0:case 11:case 15:da(i,o,a),Br(4,o);break;case 1:if(da(i,o,a),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(N){De(n,n.return,N)}if(n=o,i=n.updateQueue,i!==null){var p=n.stateNode;try{var S=i.shared.hiddenCallbacks;if(S!==null)for(i.shared.hiddenCallbacks=null,i=0;i<S.length;i++)Wu(S[i],p)}catch(N){De(n,n.return,N)}}a&&f&64&&fd(o),Hr(o,o.return);break;case 27:hd(o);case 26:case 5:da(i,o,a),a&&n===null&&f&4&&md(o),Hr(o,o.return);break;case 12:da(i,o,a);break;case 31:da(i,o,a),a&&f&4&&xd(i,o);break;case 13:da(i,o,a),a&&f&4&&Sd(i,o);break;case 22:o.memoizedState===null&&da(i,o,a),Hr(o,o.return);break;case 30:break;default:da(i,o,a)}t=t.sibling}}function Ro(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Cr(a))}function Eo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cr(e))}function Vt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_d(e,t,a,n),t=t.sibling}function _d(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,a,n),i&2048&&Br(9,t);break;case 1:Vt(e,t,a,n);break;case 3:Vt(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cr(e)));break;case 12:if(i&2048){Vt(e,t,a,n),e=t.stateNode;try{var o=t.memoizedProps,f=o.id,p=o.onPostCommit;typeof p=="function"&&p(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){De(t,t.return,S)}}else Vt(e,t,a,n);break;case 31:Vt(e,t,a,n);break;case 13:Vt(e,t,a,n);break;case 23:break;case 22:o=t.stateNode,f=t.alternate,t.memoizedState!==null?o._visibility&2?Vt(e,t,a,n):wr(e,t):o._visibility&2?Vt(e,t,a,n):(o._visibility|=2,Zn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ro(f,t);break;case 24:Vt(e,t,a,n),i&2048&&Eo(t.alternate,t);break;default:Vt(e,t,a,n)}}function Zn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,f=t,p=a,S=n,N=f.flags;switch(f.tag){case 0:case 11:case 15:Zn(o,f,p,S,i),Br(8,f);break;case 23:break;case 22:var A=f.stateNode;f.memoizedState!==null?A._visibility&2?Zn(o,f,p,S,i):wr(o,f):(A._visibility|=2,Zn(o,f,p,S,i)),i&&N&2048&&Ro(f.alternate,f);break;case 24:Zn(o,f,p,S,i),i&&N&2048&&Eo(f.alternate,f);break;default:Zn(o,f,p,S,i)}t=t.sibling}}function wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:wr(a,n),i&2048&&Ro(n.alternate,n);break;case 24:wr(a,n),i&2048&&Eo(n.alternate,n);break;default:wr(a,n)}t=t.sibling}}var Lr=8192;function Jn(e,t,a){if(e.subtreeFlags&Lr)for(e=e.child;e!==null;)kd(e,t,a),e=e.sibling}function kd(e,t,a){switch(e.tag){case 26:Jn(e,t,a),e.flags&Lr&&e.memoizedState!==null&&fg(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Jn(e,t,a);break;case 3:case 4:var n=Xt;Xt=gl(e.stateNode.containerInfo),Jn(e,t,a),Xt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Lr,Lr=16777216,Jn(e,t,a),Lr=n):Jn(e,t,a));break;default:Jn(e,t,a)}}function Rd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];at=n,Nd(n,e)}Rd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ed(e),e=e.sibling}function Ed(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&Na(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nl(e)):qr(e);break;default:qr(e)}}function nl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];at=n,Nd(n,e)}Rd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Na(8,t,t.return),nl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,nl(t));break;default:nl(t)}e=e.sibling}}function Nd(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:Na(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Cr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,at=n;else e:for(a=e;at!==null;){n=at;var i=n.sibling,o=n.return;if(bd(n),n===a){at=null;break e}if(i!==null){i.return=o,at=i;break e}at=o}}}var R0={getCacheForType:function(e){var t=it($e),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it($e).controller.signal}},E0=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,be=null,Se=0,Ae=0,Nt=null,ja=!1,$n=!1,No=!1,ma=0,Qe=0,Ma=0,dn=0,jo=0,jt=0,Pn=0,Gr=null,St=null,Mo=!1,rl=0,jd=0,il=1/0,ll=null,Ua=null,et=0,Oa=null,Fn=null,pa=0,Uo=0,Oo=null,Md=null,Yr=0,Ao=null;function Mt(){return(Oe&2)!==0&&Se!==0?Se&-Se:j.T!==null?Lo():Qc()}function Ud(){if(jt===0)if((Se&536870912)===0||_e){var e=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),jt=e}else jt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),jt}function Tt(e,t,a){(e===qe&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(In(e,0),Aa(e,Se,jt,!1)),cr(e,a),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(dn|=a),Qe===4&&Aa(e,Se,jt,!1)),Jt(e))}function Od(e,t,a){if((Oe&6)!==0)throw Error(l(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ja(e,t),i=n?M0(e,t):zo(e,t,!0),o=n;do{if(i===0){$n&&!n&&Aa(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!N0(a)){i=zo(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var p=e;i=Gr;var S=p.current.memoizedState.isDehydrated;if(S&&(In(p,f).flags|=256),f=zo(p,f,!1),f!==2){if(No&&!S){p.errorRecoveryDisabledLanes|=o,dn|=o,i=4;break e}o=St,St=i,o!==null&&(St===null?St=o:St.push.apply(St,o))}i=f}if(o=!1,i!==2)continue}}if(i===1){In(e,0),Aa(e,t,0,!0);break}e:{switch(n=e,o=i,o){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Aa(n,t,jt,!ja);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(i=rl+300-ft(),10<i)){if(Aa(n,t,jt,!ja),ga(n,0,!0)!==0)break e;pa=t,n.timeoutHandle=cm(Ad.bind(null,n,a,St,ll,Mo,t,jt,dn,Pn,ja,o,"Throttled",-0,0),i);break e}Ad(n,a,St,ll,Mo,t,jt,dn,Pn,ja,o,null,-0,0)}}break}while(!0);Jt(e)}function Ad(e,t,a,n,i,o,f,p,S,N,A,H,M,U){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},kd(t,o,H);var Z=(o&62914560)===o?rl-ft():(o&4194048)===o?jd-ft():0;if(Z=dg(H,Z),Z!==null){pa=o,e.cancelPendingCommit=Z(Gd.bind(null,e,t,o,a,n,i,f,p,S,A,H,null,M,U)),Aa(e,o,f,!N);return}}Gd(e,t,o,a,n,i,f,p,S)}function N0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],o=i.getSnapshot;i=i.value;try{if(!_t(o(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t,a,n){t&=~jo,t&=~dn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var o=31-mt(i),f=1<<o;n[o]=-1,i&=~f}a!==0&&Yc(e,a,t)}function sl(){return(Oe&6)===0?(Xr(0),!1):!0}function Do(){if(be!==null){if(Ae===0)var e=be.return;else e=be,na=an=null,$s(e),Yn=null,kr=0,e=be;for(;e!==null;)ud(e.alternate,e),e=e.return;be=null}}function In(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),pa=0,Do(),qe=e,be=a=ta(e.current,null),Se=t,Ae=0,Nt=null,ja=!1,$n=Ja(e,t),No=!1,Pn=jt=jo=dn=Ma=Qe=0,St=Gr=null,Mo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-mt(n),o=1<<i;t|=e[i],n&=~o}return ma=t,Ni(),a}function Dd(e,t){pe=null,j.H=Ar,t===Gn||t===Bi?(t=$u(),Ae=3):t===Hs?(t=$u(),Ae=4):Ae=t===fo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,be===null&&(Qe=1,Pi(e,zt(t,e.current)))}function zd(){var e=Rt.current;return e===null?!0:(Se&4194048)===Se?Lt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Lt:!1}function Bd(){var e=j.H;return j.H=Ar,e===null?Ar:e}function Hd(){var e=j.A;return j.A=R0,e}function ol(){Qe=4,ja||(Se&4194048)!==Se&&Rt.current!==null||($n=!0),(Ma&134217727)===0&&(dn&134217727)===0||qe===null||Aa(qe,Se,jt,!1)}function zo(e,t,a){var n=Oe;Oe|=2;var i=Bd(),o=Hd();(qe!==e||Se!==t)&&(ll=null,In(e,t)),t=!1;var f=Qe;e:do try{if(Ae!==0&&be!==null){var p=be,S=Nt;switch(Ae){case 8:Do(),f=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var N=Ae;if(Ae=0,Nt=null,Wn(e,p,S,N),a&&$n){f=0;break e}break;default:N=Ae,Ae=0,Nt=null,Wn(e,p,S,N)}}j0(),f=Qe;break}catch(A){Dd(e,A)}while(!0);return t&&e.shellSuspendCounter++,na=an=null,Oe=n,j.H=i,j.A=o,be===null&&(qe=null,Se=0,Ni()),f}function j0(){for(;be!==null;)wd(be)}function M0(e,t){var a=Oe;Oe|=2;var n=Bd(),i=Hd();qe!==e||Se!==t?(ll=null,il=ft()+500,In(e,t)):$n=Ja(e,t);e:do try{if(Ae!==0&&be!==null){t=be;var o=Nt;t:switch(Ae){case 1:Ae=0,Nt=null,Wn(e,t,o,1);break;case 2:case 9:if(Zu(o)){Ae=0,Nt=null,Ld(t);break}t=function(){Ae!==2&&Ae!==9||qe!==e||(Ae=7),Jt(e)},o.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Zu(o)?(Ae=0,Nt=null,Ld(t)):(Ae=0,Nt=null,Wn(e,t,o,7));break;case 5:var f=null;switch(be.tag){case 26:f=be.memoizedState;case 5:case 27:var p=be;if(f?_m(f):p.stateNode.complete){Ae=0,Nt=null;var S=p.sibling;if(S!==null)be=S;else{var N=p.return;N!==null?(be=N,cl(N)):be=null}break t}}Ae=0,Nt=null,Wn(e,t,o,5);break;case 6:Ae=0,Nt=null,Wn(e,t,o,6);break;case 8:Do(),Qe=6;break e;default:throw Error(l(462))}}U0();break}catch(A){Dd(e,A)}while(!0);return na=an=null,j.H=n,j.A=i,Oe=a,be!==null?0:(qe=null,Se=0,Ni(),Qe)}function U0(){for(;be!==null&&!Vl();)wd(be)}function wd(e){var t=od(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?cl(e):be=t}function Ld(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ad(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=ad(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:$s(t);default:ud(a,t),t=be=Bu(t,ma),t=od(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?cl(e):be=t}function Wn(e,t,a,n){na=an=null,$s(t),Yn=null,kr=0;var i=t.return;try{if(v0(e,i,t,a,Se)){Qe=1,Pi(e,zt(a,e.current)),be=null;return}}catch(o){if(i!==null)throw be=i,o;Qe=1,Pi(e,zt(a,e.current)),be=null;return}t.flags&32768?(_e||n===1?e=!0:$n||(Se&536870912)!==0?e=!1:(ja=e=!0,(n===2||n===9||n===3||n===6)&&(n=Rt.current,n!==null&&n.tag===13&&(n.flags|=16384))),qd(t,e)):cl(t)}function cl(e){var t=e;do{if((t.flags&32768)!==0){qd(t,ja);return}e=t.return;var a=T0(t.alternate,t,ma);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Qe===0&&(Qe=5)}function qd(e,t){do{var a=C0(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Qe=6,be=null}function Gd(e,t,a,n,i,o,f,p,S){e.cancelPendingCommit=null;do ul();while(et!==0);if((Oe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(o=t.lanes|t.childLanes,o|=Ts,uh(e,a,o,f,p,S),e===qe&&(be=qe=null,Se=0),Fn=t,Oa=e,pa=a,Uo=o,Oo=i,Md=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z0(xn,function(){return Kd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null,i=q.p,q.p=2,f=Oe,Oe|=4;try{_0(e,t,a)}finally{Oe=f,q.p=i,j.T=n}}et=1,Yd(),Xd(),Vd()}}function Yd(){if(et===1){et=0;var e=Oa,t=Fn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var n=q.p;q.p=2;var i=Oe;Oe|=4;try{Td(t,e);var o=Zo,f=Eu(e.containerInfo),p=o.focusedElem,S=o.selectionRange;if(f!==p&&p&&p.ownerDocument&&Ru(p.ownerDocument.documentElement,p)){if(S!==null&&ys(p)){var N=S.start,A=S.end;if(A===void 0&&(A=N),"selectionStart"in p)p.selectionStart=N,p.selectionEnd=Math.min(A,p.value.length);else{var H=p.ownerDocument||document,M=H&&H.defaultView||window;if(M.getSelection){var U=M.getSelection(),Z=p.textContent.length,le=Math.min(S.start,Z),we=S.end===void 0?le:Math.min(S.end,Z);!U.extend&&le>we&&(f=we,we=le,le=f);var k=ku(p,le),_=ku(p,we);if(k&&_&&(U.rangeCount!==1||U.anchorNode!==k.node||U.anchorOffset!==k.offset||U.focusNode!==_.node||U.focusOffset!==_.offset)){var E=H.createRange();E.setStart(k.node,k.offset),U.removeAllRanges(),le>we?(U.addRange(E),U.extend(_.node,_.offset)):(E.setEnd(_.node,_.offset),U.addRange(E))}}}}for(H=[],U=p;U=U.parentNode;)U.nodeType===1&&H.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<H.length;p++){var z=H[p];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Tl=!!Ko,Zo=Ko=null}finally{Oe=i,q.p=n,j.T=a}}e.current=t,et=2}}function Xd(){if(et===2){et=0;var e=Oa,t=Fn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var n=q.p;q.p=2;var i=Oe;Oe|=4;try{yd(e,t.alternate,t)}finally{Oe=i,q.p=n,j.T=a}}et=3}}function Vd(){if(et===4||et===3){et=0,Ql();var e=Oa,t=Fn,a=pa,n=Md;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,Fn=Oa=null,Qd(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ua=null),Il(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Za,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=j.T,i=q.p,q.p=2,j.T=null;try{for(var o=e.onRecoverableError,f=0;f<n.length;f++){var p=n[f];o(p.value,{componentStack:p.stack})}}finally{j.T=t,q.p=i}}(pa&3)!==0&&ul(),Jt(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Ao?Yr++:(Yr=0,Ao=e):Yr=0,Xr(0)}}function Qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cr(t)))}function ul(){return Yd(),Xd(),Vd(),Kd()}function Kd(){if(et!==5)return!1;var e=Oa,t=Uo;Uo=0;var a=Il(pa),n=j.T,i=q.p;try{q.p=32>a?32:a,j.T=null,a=Oo,Oo=null;var o=Oa,f=pa;if(et=0,Fn=Oa=null,pa=0,(Oe&6)!==0)throw Error(l(331));var p=Oe;if(Oe|=4,Ed(o.current),_d(o,o.current,f,a),Oe=p,Xr(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Za,o)}catch{}return!0}finally{q.p=i,j.T=n,Qd(e,t)}}function Zd(e,t,a){t=zt(a,t),t=uo(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(cr(e,2),Jt(e))}function De(e,t,a){if(e.tag===3)Zd(e,e,a);else for(;t!==null;){if(t.tag===3){Zd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){e=zt(a,e),a=Jf(2),n=ka(t,a,2),n!==null&&($f(a,n,t,e),cr(n,2),Jt(n));break}}t=t.return}}function Bo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new E0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(No=!0,i.add(a),e=O0.bind(null,e,t,a),t.then(e,e))}function O0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(Se&a)===a&&(Qe===4||Qe===3&&(Se&62914560)===Se&&300>ft()-rl?(Oe&2)===0&&In(e,0):jo|=a,Pn===Se&&(Pn=0)),Jt(e)}function Jd(e,t){t===0&&(t=$l()),e=Wa(e,t),e!==null&&(cr(e,t),Jt(e))}function A0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Jd(e,a)}function D0(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(l(314))}n!==null&&n.delete(t),Jd(e,a)}function z0(e,t){return or(e,t)}var fl=null,er=null,Ho=!1,dl=!1,wo=!1,Da=0;function Jt(e){e!==er&&e.next===null&&(er===null?fl=er=e:er=er.next=e),dl=!0,Ho||(Ho=!0,H0())}function Xr(e,t){if(!wo&&dl){wo=!0;do for(var a=!1,n=fl;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var f=n.suspendedLanes,p=n.pingedLanes;o=(1<<31-mt(42|e)+1)-1,o&=i&~(f&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,Id(n,o))}else o=Se,o=ga(n,n===qe?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||Ja(n,o)||(a=!0,Id(n,o));n=n.next}while(a);wo=!1}}function B0(){$d()}function $d(){dl=Ho=!1;var e=0;Da!==0&&Z0()&&(e=Da);for(var t=ft(),a=null,n=fl;n!==null;){var i=n.next,o=Pd(n,t);o===0?(n.next=null,a===null?fl=i:a.next=i,i===null&&(er=a)):(a=n,(e!==0||(o&3)!==0)&&(dl=!0)),n=i}et!==0&&et!==5||Xr(e),Da!==0&&(Da=0)}function Pd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var f=31-mt(o),p=1<<f,S=i[f];S===-1?((p&a)===0||(p&n)!==0)&&(i[f]=gi(p,t)):S<=t&&(e.expiredLanes|=p),o&=~p}if(t=qe,a=Se,a=ga(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&vn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ja(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&vn(n),Il(a)){case 2:case 8:a=di;break;case 32:a=xn;break;case 268435456:a=mi;break;default:a=xn}return n=Fd.bind(null,e),a=or(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&vn(n),e.callbackPriority=2,e.callbackNode=null,2}function Fd(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ul()&&e.callbackNode!==a)return null;var n=Se;return n=ga(e,e===qe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Od(e,n,t),Pd(e,ft()),e.callbackNode!=null&&e.callbackNode===a?Fd.bind(null,e):null)}function Id(e,t){if(ul())return null;Od(e,t,!0)}function H0(){$0(function(){(Oe&6)!==0?or(fi,B0):$d()})}function Lo(){if(Da===0){var e=Ln;e===0&&(e=ce,ce<<=1,(ce&261888)===0&&(ce=256)),Da=e}return Da}function Wd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xi(""+e)}function em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function w0(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var o=Wd((i[gt]||null).action),f=n.submitter;f&&(t=(t=f[gt]||null)?Wd(t.formAction):f.getAttribute("formAction"),t!==null&&(o=t,f=null));var p=new _i("action","action",null,n,i);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Da!==0){var S=f?em(i,f):new FormData(i);ro(a,{pending:!0,data:S,method:i.method,action:o},null,S)}}else typeof o=="function"&&(p.preventDefault(),S=f?em(i,f):new FormData(i),ro(a,{pending:!0,data:S,method:i.method,action:o},o,S))},currentTarget:i}]})}}for(var qo=0;qo<Ss.length;qo++){var Go=Ss[qo],L0=Go.toLowerCase(),q0=Go[0].toUpperCase()+Go.slice(1);Yt(L0,"on"+q0)}Yt(Mu,"onAnimationEnd"),Yt(Uu,"onAnimationIteration"),Yt(Ou,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(a0,"onTransitionRun"),Yt(n0,"onTransitionStart"),Yt(r0,"onTransitionCancel"),Yt(Au,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$a("onBeforeInput",["compositionend","keypress","textInput","paste"]),$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vr));function tm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var f=n.length-1;0<=f;f--){var p=n[f],S=p.instance,N=p.currentTarget;if(p=p.listener,S!==o&&i.isPropagationStopped())break e;o=p,i.currentTarget=N;try{o(i)}catch(A){Ei(A)}i.currentTarget=null,o=S}else for(f=0;f<n.length;f++){if(p=n[f],S=p.instance,N=p.currentTarget,p=p.listener,S!==o&&i.isPropagationStopped())break e;o=p,i.currentTarget=N;try{o(i)}catch(A){Ei(A)}i.currentTarget=null,o=S}}}}function ve(e,t){var a=t[Wl];a===void 0&&(a=t[Wl]=new Set);var n=e+"__bubble";a.has(n)||(am(t,e,2,!1),a.add(n))}function Yo(e,t,a){var n=0;t&&(n|=4),am(a,e,n,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[ml]){e[ml]=!0,Jc.forEach(function(a){a!=="selectionchange"&&(G0.has(a)||Yo(a,!1,e),Yo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,Yo("selectionchange",!1,t))}}function am(e,t,a,n){switch(Um(t)){case 2:var i=hg;break;case 8:i=gg;break;default:i=rc}a=i.bind(null,t,a,e),i=void 0,!os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Vo(e,t,a,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var f=n.tag;if(f===3||f===4){var p=n.stateNode.containerInfo;if(p===i)break;if(f===4)for(f=n.return;f!==null;){var S=f.tag;if((S===3||S===4)&&f.stateNode.containerInfo===i)return;f=f.return}for(;p!==null;){if(f=Tn(p),f===null)return;if(S=f.tag,S===5||S===6||S===26||S===27){n=o=f;continue e}p=p.parentNode}}n=n.return}lu(function(){var N=o,A=ls(a),H=[];e:{var M=Du.get(e);if(M!==void 0){var U=_i,Z=e;switch(e){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":U=Dh;break;case"focusin":Z="focus",U=ds;break;case"focusout":Z="blur",U=ds;break;case"beforeblur":case"afterblur":U=ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Hh;break;case Mu:case Uu:case Ou:U=kh;break;case Au:U=Lh;break;case"scroll":case"scrollend":U=xh;break;case"wheel":U=Gh;break;case"copy":case"cut":case"paste":U=Eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=fu;break;case"toggle":case"beforetoggle":U=Xh}var le=(t&4)!==0,we=!le&&(e==="scroll"||e==="scrollend"),k=le?M!==null?M+"Capture":null:M;le=[];for(var _=N,E;_!==null;){var z=_;if(E=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||E===null||k===null||(z=dr(_,k),z!=null&&le.push(Qr(_,z,E))),we)break;_=_.return}0<le.length&&(M=new U(M,Z,null,a,A),H.push({event:M,listeners:le}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",M&&a!==is&&(Z=a.relatedTarget||a.fromElement)&&(Tn(Z)||Z[Sn]))break e;if((U||M)&&(M=A.window===A?A:(M=A.ownerDocument)?M.defaultView||M.parentWindow:window,U?(Z=a.relatedTarget||a.toElement,U=N,Z=Z?Tn(Z):null,Z!==null&&(we=m(Z),le=Z.tag,Z!==we||le!==5&&le!==27&&le!==6)&&(Z=null)):(U=null,Z=N),U!==Z)){if(le=cu,z="onMouseLeave",k="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(le=fu,z="onPointerLeave",k="onPointerEnter",_="pointer"),we=U==null?M:fr(U),E=Z==null?M:fr(Z),M=new le(z,_+"leave",U,a,A),M.target=we,M.relatedTarget=E,z=null,Tn(A)===N&&(le=new le(k,_+"enter",Z,a,A),le.target=E,le.relatedTarget=we,z=le),we=z,U&&Z)t:{for(le=Y0,k=U,_=Z,E=0,z=k;z;z=le(z))E++;z=0;for(var ae=_;ae;ae=le(ae))z++;for(;0<E-z;)k=le(k),E--;for(;0<z-E;)_=le(_),z--;for(;E--;){if(k===_||_!==null&&k===_.alternate){le=k;break t}k=le(k),_=le(_)}le=null}else le=null;U!==null&&nm(H,M,U,le,!1),Z!==null&&we!==null&&nm(H,we,Z,le,!0)}}e:{if(M=N?fr(N):window,U=M.nodeName&&M.nodeName.toLowerCase(),U==="select"||U==="input"&&M.type==="file")var je=vu;else if(yu(M))if(xu)je=Wh;else{je=Fh;var I=Ph}else U=M.nodeName,!U||U.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?N&&rs(N.elementType)&&(je=vu):je=Ih;if(je&&(je=je(e,N))){bu(H,je,a,A);break e}I&&I(e,M,N),e==="focusout"&&N&&M.type==="number"&&N.memoizedProps.value!=null&&ns(M,"number",M.value)}switch(I=N?fr(N):window,e){case"focusin":(yu(I)||I.contentEditable==="true")&&(Un=I,bs=N,xr=null);break;case"focusout":xr=bs=Un=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Nu(H,a,A);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":Nu(H,a,A)}var he;if(ps)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Mn?hu(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(du&&a.locale!=="ko"&&(Mn||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Mn&&(he=su()):(ba=A,cs="value"in ba?ba.value:ba.textContent,Mn=!0)),I=pl(N,Te),0<I.length&&(Te=new uu(Te,e,null,a,A),H.push({event:Te,listeners:I}),he?Te.data=he:(he=gu(a),he!==null&&(Te.data=he)))),(he=Qh?Kh(e,a):Zh(e,a))&&(Te=pl(N,"onBeforeInput"),0<Te.length&&(I=new uu("onBeforeInput","beforeinput",null,a,A),H.push({event:I,listeners:Te}),I.data=he)),w0(H,e,N,a,A)}tm(H,t)})}function Qr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function pl(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=dr(e,a),i!=null&&n.unshift(Qr(e,i,o)),i=dr(e,t),i!=null&&n.push(Qr(e,i,o))),e.tag===3)return n;e=e.return}return[]}function Y0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,t,a,n,i){for(var o=t._reactName,f=[];a!==null&&a!==n;){var p=a,S=p.alternate,N=p.stateNode;if(p=p.tag,S!==null&&S===n)break;p!==5&&p!==26&&p!==27||N===null||(S=N,i?(N=dr(a,o),N!=null&&f.unshift(Qr(a,N,S))):i||(N=dr(a,o),N!=null&&f.push(Qr(a,N,S)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var X0=/\r\n?/g,V0=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(X0,`
`).replace(V0,"")}function im(e,t){return t=rm(t),rm(e)===t}function He(e,t,a,n,i,o){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||En(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&En(e,""+n);break;case"className":bi(e,"class",n);break;case"tabIndex":bi(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,a,n);break;case"style":ru(e,n,o);break;case"data":if(t!=="object"){bi(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&He(e,t,"name",i.name,i,null),He(e,t,"formEncType",i.formEncType,i,null),He(e,t,"formMethod",i.formMethod,i,null),He(e,t,"formTarget",i.formTarget,i,null)):(He(e,t,"encType",i.encType,i,null),He(e,t,"method",i.method,i,null),He(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=xi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"onScroll":n!=null&&ve("scroll",e);break;case"onScrollEnd":n!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=xi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ve("beforetoggle",e),ve("toggle",e),yi(e,"popover",n);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":yi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,yi(e,a,n))}}function Qo(e,t,a,n,i,o){switch(a){case"style":ru(e,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(l(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof n=="string"?En(e,n):(typeof n=="number"||typeof n=="bigint")&&En(e,""+n);break;case"onScroll":n!=null&&ve("scroll",e);break;case"onScrollEnd":n!=null&&ve("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$c.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),o=e[gt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):yi(e,a,n)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var n=!1,i=!1,o;for(o in a)if(a.hasOwnProperty(o)){var f=a[o];if(f!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:He(e,t,o,f,a,null)}}i&&He(e,t,"srcSet",a.srcSet,a,null),n&&He(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var p=o=f=i=null,S=null,N=null;for(n in a)if(a.hasOwnProperty(n)){var A=a[n];if(A!=null)switch(n){case"name":i=A;break;case"type":f=A;break;case"checked":S=A;break;case"defaultChecked":N=A;break;case"value":o=A;break;case"defaultValue":p=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,t));break;default:He(e,t,n,A,a,null)}}eu(e,o,p,S,N,f,i,!1);return;case"select":ve("invalid",e),n=f=o=null;for(i in a)if(a.hasOwnProperty(i)&&(p=a[i],p!=null))switch(i){case"value":o=p;break;case"defaultValue":f=p;break;case"multiple":n=p;default:He(e,t,i,p,a,null)}t=o,a=f,e.multiple=!!n,t!=null?Rn(e,!!n,t,!1):a!=null&&Rn(e,!!n,a,!0);return;case"textarea":ve("invalid",e),o=i=n=null;for(f in a)if(a.hasOwnProperty(f)&&(p=a[f],p!=null))switch(f){case"value":n=p;break;case"defaultValue":i=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(l(91));break;default:He(e,t,f,p,a,null)}au(e,n,i,o);return;case"option":for(S in a)a.hasOwnProperty(S)&&(n=a[S],n!=null)&&(S==="selected"?e.selected=n&&typeof n!="function"&&typeof n!="symbol":He(e,t,S,n,a,null));return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(n=0;n<Vr.length;n++)ve(Vr[n],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(n=a[N],n!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:He(e,t,N,n,a,null)}return;default:if(rs(t)){for(A in a)a.hasOwnProperty(A)&&(n=a[A],n!==void 0&&Qo(e,t,A,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&He(e,t,p,n,a,null))}function Q0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,f=null,p=null,S=null,N=null,A=null;for(U in a){var H=a[U];if(a.hasOwnProperty(U)&&H!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":S=H;default:n.hasOwnProperty(U)||He(e,t,U,null,n,H)}}for(var M in n){var U=n[M];if(H=a[M],n.hasOwnProperty(M)&&(U!=null||H!=null))switch(M){case"type":o=U;break;case"name":i=U;break;case"checked":N=U;break;case"defaultChecked":A=U;break;case"value":f=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==H&&He(e,t,M,U,n,H)}}as(e,f,p,S,N,A,o,i);return;case"select":U=f=p=M=null;for(o in a)if(S=a[o],a.hasOwnProperty(o)&&S!=null)switch(o){case"value":break;case"multiple":U=S;default:n.hasOwnProperty(o)||He(e,t,o,null,n,S)}for(i in n)if(o=n[i],S=a[i],n.hasOwnProperty(i)&&(o!=null||S!=null))switch(i){case"value":M=o;break;case"defaultValue":p=o;break;case"multiple":f=o;default:o!==S&&He(e,t,i,o,n,S)}t=p,a=f,n=U,M!=null?Rn(e,!!a,M,!1):!!n!=!!a&&(t!=null?Rn(e,!!a,t,!0):Rn(e,!!a,a?[]:"",!1));return;case"textarea":U=M=null;for(p in a)if(i=a[p],a.hasOwnProperty(p)&&i!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:He(e,t,p,null,n,i)}for(f in n)if(i=n[f],o=a[f],n.hasOwnProperty(f)&&(i!=null||o!=null))switch(f){case"value":M=i;break;case"defaultValue":U=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(l(91));break;default:i!==o&&He(e,t,f,i,n,o)}tu(e,M,U);return;case"option":for(var Z in a)M=a[Z],a.hasOwnProperty(Z)&&M!=null&&!n.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:He(e,t,Z,null,n,M));for(S in n)M=n[S],U=a[S],n.hasOwnProperty(S)&&M!==U&&(M!=null||U!=null)&&(S==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":He(e,t,S,M,n,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)M=a[le],a.hasOwnProperty(le)&&M!=null&&!n.hasOwnProperty(le)&&He(e,t,le,null,n,M);for(N in n)if(M=n[N],U=a[N],n.hasOwnProperty(N)&&M!==U&&(M!=null||U!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:He(e,t,N,M,n,U)}return;default:if(rs(t)){for(var we in a)M=a[we],a.hasOwnProperty(we)&&M!==void 0&&!n.hasOwnProperty(we)&&Qo(e,t,we,void 0,n,M);for(A in n)M=n[A],U=a[A],!n.hasOwnProperty(A)||M===U||M===void 0&&U===void 0||Qo(e,t,A,M,n,U);return}}for(var k in a)M=a[k],a.hasOwnProperty(k)&&M!=null&&!n.hasOwnProperty(k)&&He(e,t,k,null,n,M);for(H in n)M=n[H],U=a[H],!n.hasOwnProperty(H)||M===U||M==null&&U==null||He(e,t,H,M,n,U)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],o=i.transferSize,f=i.initiatorType,p=i.duration;if(o&&p&&lm(f)){for(f=0,p=i.responseEnd,n+=1;n<a.length;n++){var S=a[n],N=S.startTime;if(N>p)break;var A=S.transferSize,H=S.initiatorType;A&&lm(H)&&(S=S.responseEnd,f+=A*(S<p?1:(p-N)/(S-N)))}if(--n,t+=8*(o+f)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ko=null,Zo=null;function hl(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=null;function Z0(){var e=window.event;return e&&e.type==="popstate"?e===$o?!1:($o=e,!0):($o=null,!1)}var cm=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(e){return um.resolve(null).then(e).catch(P0)}:cm;function P0(e){setTimeout(function(){throw e})}function za(e){return e==="head"}function fm(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),rr(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Kr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Kr(a);for(var o=a.firstChild;o;){var f=o.nextSibling,p=o.nodeName;o[ur]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}else a==="body"&&Kr(e.ownerDocument.body);a=i}while(a);rr(t)}function dm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Po(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Po(a),es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function F0(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=qt(e.nextSibling),e===null)break}return null}function I0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qt(e.nextSibling),e===null))return null;return e}function mm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qt(e.nextSibling),e===null))return null;return e}function Fo(e){return e.data==="$?"||e.data==="$~"}function Io(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wo=null;function pm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return qt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function gm(e,t,a){switch(t=hl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Kr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);es(e)}var Gt=new Map,ym=new Set;function gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ha=q.d;q.d={f:eg,r:tg,D:ag,C:ng,L:rg,m:ig,X:sg,S:lg,M:og};function eg(){var e=ha.f(),t=sl();return e||t}function tg(e){var t=Cn(e);t!==null&&t.tag===5&&t.type==="form"?Df(t):ha.r(e)}var tr=typeof document>"u"?null:document;function bm(e,t,a){var n=tr;if(n&&typeof t=="string"&&t){var i=At(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),ym.has(i)||(ym.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),st(t,"link",e),tt(t),n.head.appendChild(t)))}}function ag(e){ha.D(e),bm("dns-prefetch",e,null)}function ng(e,t){ha.C(e,t),bm("preconnect",e,t)}function rg(e,t,a){ha.L(e,t,a);var n=tr;if(n&&e&&t){var i='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+At(a.imageSizes)+'"]')):i+='[href="'+At(e)+'"]';var o=i;switch(t){case"style":o=ar(e);break;case"script":o=nr(e)}Gt.has(o)||(e=C({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Gt.set(o,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Zr(o))||t==="script"&&n.querySelector(Jr(o))||(t=n.createElement("link"),st(t,"link",e),tt(t),n.head.appendChild(t)))}}function ig(e,t){ha.m(e,t);var a=tr;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+At(n)+'"][href="'+At(e)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=nr(e)}if(!Gt.has(o)&&(e=C({rel:"modulepreload",href:e},t),Gt.set(o,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jr(o)))return}n=a.createElement("link"),st(n,"link",e),tt(n),a.head.appendChild(n)}}}function lg(e,t,a){ha.S(e,t,a);var n=tr;if(n&&e){var i=_n(n).hoistableStyles,o=ar(e);t=t||"default";var f=i.get(o);if(!f){var p={loading:0,preload:null};if(f=n.querySelector(Zr(o)))p.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Gt.get(o))&&ec(e,a);var S=f=n.createElement("link");tt(S),st(S,"link",e),S._p=new Promise(function(N,A){S.onload=N,S.onerror=A}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,yl(f,t,n)}f={type:"stylesheet",instance:f,count:1,state:p},i.set(o,f)}}}function sg(e,t){ha.X(e,t);var a=tr;if(a&&e){var n=_n(a).hoistableScripts,i=nr(e),o=n.get(i);o||(o=a.querySelector(Jr(i)),o||(e=C({src:e,async:!0},t),(t=Gt.get(i))&&tc(e,t),o=a.createElement("script"),tt(o),st(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function og(e,t){ha.M(e,t);var a=tr;if(a&&e){var n=_n(a).hoistableScripts,i=nr(e),o=n.get(i);o||(o=a.querySelector(Jr(i)),o||(e=C({src:e,async:!0,type:"module"},t),(t=Gt.get(i))&&tc(e,t),o=a.createElement("script"),tt(o),st(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function vm(e,t,a,n){var i=(i=me.current)?gl(i):null;if(!i)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ar(a.href),a=_n(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ar(a.href);var o=_n(i).hoistableStyles,f=o.get(e);if(f||(i=i.ownerDocument||i,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,f),(o=i.querySelector(Zr(e)))&&!o._p&&(f.instance=o,f.state.loading=5),Gt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gt.set(e,a),o||cg(i,e,a,f.state))),t&&n===null)throw Error(l(528,""));return f}if(t&&n!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nr(a),a=_n(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ar(e){return'href="'+At(e)+'"'}function Zr(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function cg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),st(t,"link",a),tt(t),e.head.appendChild(t))}function nr(e){return'[src="'+At(e)+'"]'}function Jr(e){return"script[async]"+e}function Sm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+At(a.href)+'"]');if(n)return t.instance=n,tt(n),n;var i=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),tt(n),st(n,"style",i),yl(n,a.precedence,e),t.instance=n;case"stylesheet":i=ar(a.href);var o=e.querySelector(Zr(i));if(o)return t.state.loading|=4,t.instance=o,tt(o),o;n=xm(a),(i=Gt.get(i))&&ec(n,i),o=(e.ownerDocument||e).createElement("link"),tt(o);var f=o;return f._p=new Promise(function(p,S){f.onload=p,f.onerror=S}),st(o,"link",n),t.state.loading|=4,yl(o,a.precedence,e),t.instance=o;case"script":return o=nr(a.src),(i=e.querySelector(Jr(o)))?(t.instance=i,tt(i),i):(n=a,(i=Gt.get(o))&&(n=C({},a),tc(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),tt(i),st(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,yl(n,a.precedence,e));return t.instance}function yl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,f=0;f<n.length;f++){var p=n[f];if(p.dataset.precedence===t)o=p;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bl=null;function Tm(e,t,a){if(bl===null){var n=new Map,i=bl=new Map;i.set(a,n)}else i=bl,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var o=a[i];if(!(o[ur]||o[nt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var f=o.getAttribute(t)||"";f=e+f;var p=n.get(f);p?p.push(o):n.set(f,[o])}}return n}function Cm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ug(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fg(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=ar(n.href),o=t.querySelector(Zr(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,tt(o);return}o=t.ownerDocument||t,n=xm(n),(i=Gt.get(i))&&ec(n,i),o=o.createElement("link"),tt(o);var f=o;f._p=new Promise(function(p,S){f.onload=p,f.onerror=S}),st(o,"link",n),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ac=0;function dg(e,t){return e.stylesheets&&e.count===0&&Sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&ac===0&&(ac=62500*K0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>ac?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xl=null;function Sl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xl=new Map,t.forEach(mg,e),xl=null,vl.call(e))}function mg(e,t){if(!(t.state.loading&4)){var a=xl.get(e);if(a)var n=a.get(null);else{a=new Map,xl.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var f=i[o];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),n=f)}n&&a.set(null,n)}i=t.instance,f=i.getAttribute("data-precedence"),o=a.get(f)||n,o===n&&a.set(null,i),a.set(f,i),this.count++,n=vl.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $r={$$typeof:ue,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function pg(e,t,a,n,i,o,f,p,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.hiddenUpdates=Pl(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function km(e,t,a,n,i,o,f,p,S,N,A,H){return e=new pg(e,t,a,f,S,N,A,H,p),t=1,o===!0&&(t|=24),o=kt(3,null,null,t),e.current=o,o.stateNode=e,t=Ds(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:n,isDehydrated:a,cache:t},ws(o),e}function Rm(e){return e?(e=Dn,e):Dn}function Em(e,t,a,n,i,o){i=Rm(i),n.context===null?n.context=i:n.pendingContext=i,n=_a(t),n.payload={element:a},o=o===void 0?null:o,o!==null&&(n.callback=o),a=ka(e,n,t),a!==null&&(Tt(a,e,t),Er(a,e,t))}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function nc(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function jm(e){if(e.tag===13||e.tag===31){var t=Wa(e,67108864);t!==null&&Tt(t,e,67108864),nc(e,67108864)}}function Mm(e){if(e.tag===13||e.tag===31){var t=Mt();t=Fl(t);var a=Wa(e,t);a!==null&&Tt(a,e,t),nc(e,t)}}var Tl=!0;function hg(e,t,a,n){var i=j.T;j.T=null;var o=q.p;try{q.p=2,rc(e,t,a,n)}finally{q.p=o,j.T=i}}function gg(e,t,a,n){var i=j.T;j.T=null;var o=q.p;try{q.p=8,rc(e,t,a,n)}finally{q.p=o,j.T=i}}function rc(e,t,a,n){if(Tl){var i=ic(n);if(i===null)Vo(e,t,n,Cl,a),Om(e,n);else if(bg(i,e,t,a,n))n.stopPropagation();else if(Om(e,n),t&4&&-1<yg.indexOf(e)){for(;i!==null;){var o=Cn(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var f=Le(o.pendingLanes);if(f!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;f;){var S=1<<31-mt(f);p.entanglements[1]|=S,f&=~S}Jt(o),(Oe&6)===0&&(il=ft()+500,Xr(0))}}break;case 31:case 13:p=Wa(o,2),p!==null&&Tt(p,o,2),sl(),nc(o,2)}if(o=ic(n),o===null&&Vo(e,t,n,Cl,a),o===i)break;i=o}i!==null&&n.stopPropagation()}else Vo(e,t,n,null,a)}}function ic(e){return e=ls(e),lc(e)}var Cl=null;function lc(e){if(Cl=null,e=Tn(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cl=e,null}function Um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kl()){case fi:return 2;case di:return 8;case xn:case Zl:return 32;case mi:return 268435456;default:return 32}default:return 32}}var sc=!1,Ba=null,Ha=null,wa=null,Pr=new Map,Fr=new Map,La=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Ir(e,t,a,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Cn(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function bg(e,t,a,n,i){switch(t){case"focusin":return Ba=Ir(Ba,e,t,a,n,i),!0;case"dragenter":return Ha=Ir(Ha,e,t,a,n,i),!0;case"mouseover":return wa=Ir(wa,e,t,a,n,i),!0;case"pointerover":var o=i.pointerId;return Pr.set(o,Ir(Pr.get(o)||null,e,t,a,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Fr.set(o,Ir(Fr.get(o)||null,e,t,a,n,i)),!0}return!1}function Am(e){var t=Tn(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Kc(e.priority,function(){Mm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Kc(e.priority,function(){Mm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ic(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);is=n,a.target.dispatchEvent(n),is=null}else return t=Cn(a),t!==null&&jm(t),e.blockedOn=a,!1;t.shift()}return!0}function Dm(e,t,a){_l(e)&&a.delete(t)}function vg(){sc=!1,Ba!==null&&_l(Ba)&&(Ba=null),Ha!==null&&_l(Ha)&&(Ha=null),wa!==null&&_l(wa)&&(wa=null),Pr.forEach(Dm),Fr.forEach(Dm)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,vg)))}var Rl=null;function zm(e){Rl!==e&&(Rl=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Rl===e&&(Rl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(lc(n||a)===null)continue;break}var o=Cn(a);o!==null&&(e.splice(t,3),t-=3,ro(o,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function rr(e){function t(S){return kl(S,e)}Ba!==null&&kl(Ba,e),Ha!==null&&kl(Ha,e),wa!==null&&kl(wa,e),Pr.forEach(t),Fr.forEach(t);for(var a=0;a<La.length;a++){var n=La[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)Am(a),a.blockedOn===null&&La.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],o=a[n+1],f=i[gt]||null;if(typeof o=="function")f||zm(a);else if(f){var p=null;if(o&&o.hasAttribute("formAction")){if(i=o,f=o[gt]||null)p=f.formAction;else if(lc(i)!==null)continue}else p=f.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),zm(a)}}}function Bm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(f){return i=f})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function oc(e){this._internalRoot=e}El.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,n=Mt();Em(a,n,e,t,null,null)},El.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Em(e.current,2,null,e,null,null),sl(),t[Sn]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<La.length&&t!==0&&t<La[a].priority;a++);La.splice(a,0,e),a===0&&Am(e)}};var Hm=r.version;if(Hm!=="19.2.3")throw Error(l(527,Hm,"19.2.3"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var xg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Za=Nl.inject(xg),dt=Nl}catch{}}return ei.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,n="",i=Vf,o=Qf,f=Kf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=km(e,1,!1,null,null,a,n,null,i,o,f,Bm),e[Sn]=t.current,Xo(e),new oc(t)},ei.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var n=!1,i="",o=Vf,f=Qf,p=Kf,S=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=km(e,1,!0,t,a??null,n,i,S,o,f,p,Bm),t.context=Rm(null),a=t.current,n=Mt(),n=Fl(n),i=_a(n),i.callback=null,ka(a,i,n),a=n,t.current.lanes=a,cr(t,a),Jt(t),e[Sn]=t.current,Xo(e),new El(t)},ei.version="19.2.3",ei}var Zm;function Og(){if(Zm)return fc.exports;Zm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),fc.exports=Ug(),fc.exports}var Ag=Og();const $t={host:"0.peerjs.com",port:443,path:"/",secure:!0,debug:0},Ac={PEER_INIT:1e4,JOIN_RESPONSE:15e3,DATA_CONNECTION:1e4},ti={MAX_RECONNECT_ATTEMPTS:5,INITIAL_BACKOFF_MS:1e3,MAX_BACKOFF_MS:3e4,BACKOFF_MULTIPLIER:2},Dc={LENGTH:6,CHARSET:"ABCDEFGHJKLMNPQRSTUVWXYZ23456789",VALIDATION_PATTERN:/^[A-Z0-9]{6}$/},hc={MAX_SPECTATORS:50,MAX_PLAYERS_5V5:2,MAX_PLAYERS_3V3V3:3},Jm={VALIDATION_INTERVAL_MS:3e4},Dg={PEER_INIT_FAILED:"Failed to initialize connection. Please check your internet connection.",CONNECTION_TIMEOUT:"Connection timeout. Please try again.",INVALID_ROOM_CODE:"Invalid room code. Please check and try again.",ROOM_FULL:"Room is full. Cannot join.",ROOM_NOT_FOUND:"Room not found. The room may have been closed.",NETWORK_ERROR:"Network error occurred. Attempting to reconnect...",STATE_SYNC_FAILED:"Failed to synchronize draft state.",PERMISSION_DENIED:"You don't have permission to perform this action."},Ga=Dg;function up(){const{LENGTH:c,CHARSET:r}=Dc;let s="";for(let l=0;l<c;l++){const u=Math.floor(Math.random()*r.length);s+=r[u]}return s}function fp(c){return!c||typeof c!="string"?!1:Dc.VALIDATION_PATTERN.test(c)}function dp(c){return c.trim().toUpperCase()}function mp(c){return c.length!==Dc.LENGTH?c:`${c.slice(0,3)}-${c.slice(3)}`}function zg({onRoomCreated:c,onJoinRoom:r,onJoinAsSpectator:s,onBack:l,isProcessing:u=!1}){const[m,h]=D.useState(null),[g,y]=D.useState("5v5"),[b,v]=D.useState(""),[C,R]=D.useState(""),[w,Y]=D.useState(null),G=()=>{Y(null),c(b,g)},F=()=>{Y(null);const oe=dp(b);if(!fp(oe)){Y("Invalid room code. Must be 6 characters (letters and numbers).");return}if(!C.trim()){Y("Please enter your name.");return}m==="join"?r(oe,C.trim()):m==="spectate"&&s(oe,C.trim())},te=()=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-100",children:"Multiplayer Mode"}),d.jsx("button",{onClick:()=>h("host"),className:"w-full py-5 px-6 bg-purple-600/90 hover:bg-purple-600 text-white font-semibold rounded-xl transition-all transform hover:scale-[1.02] shadow-lg border border-purple-500/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg",children:"Host Room"}),d.jsx("span",{className:"text-sm text-purple-200 bg-purple-700/40 px-3 py-1 rounded-full",children:"Create Multiplayer"})]})}),d.jsx("button",{onClick:()=>h("join"),className:"w-full py-5 px-6 bg-green-600/90 hover:bg-green-600 text-white font-semibold rounded-xl transition-all transform hover:scale-[1.02] shadow-lg border border-green-500/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg",children:"Join Room"}),d.jsx("span",{className:"text-sm text-green-200 bg-green-700/40 px-3 py-1 rounded-full",children:"Play as Player"})]})}),d.jsx("button",{onClick:()=>h("spectate"),className:"w-full py-5 px-6 bg-gray-600/90 hover:bg-gray-600 text-white font-semibold rounded-xl transition-all transform hover:scale-[1.02] shadow-lg border border-gray-500/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-lg",children:"Spectate"}),d.jsx("span",{className:"text-sm text-gray-300 bg-gray-700/40 px-3 py-1 rounded-full",children:"Watch Only"})]})}),l&&d.jsx("button",{onClick:l,className:"w-full mt-6 py-3 px-4 text-gray-400 hover:text-gray-200 transition-colors text-sm",children:" Back to Format Selection"})]}),Ue=()=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:"Host Room"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Draft Format"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>y("5v5"),className:`py-3 px-4 rounded-lg font-semibold transition-colors ${g==="5v5"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["5v5",d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"2 Players"})]}),d.jsxs("button",{disabled:!0,className:"py-3 px-4 rounded-lg font-semibold transition-colors bg-gray-800 text-gray-500 cursor-not-allowed opacity-50",children:["3v3v3",d.jsx("div",{className:"text-xs mt-1 opacity-80",children:"Coming Soon"})]})]})]}),d.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:d.jsx("p",{className:"text-sm text-gray-300",children:"You will receive a room code to share with other players after creating the room."})}),w&&d.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800 rounded text-sm text-red-300",children:w}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>h(null),disabled:u,className:"flex-1 py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),d.jsx("button",{onClick:G,disabled:u,className:"flex-1 py-3 px-4 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Room"})]})]}),ue=()=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-white",children:m==="join"?"Join Room":"Spectate Room"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Room Code"}),d.jsx("input",{type:"text",value:b,onChange:oe=>v(oe.target.value.toUpperCase()),placeholder:"ABC123",maxLength:6,className:"w-full py-3 px-4 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none font-mono text-lg text-center",disabled:u})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Name"}),d.jsx("input",{type:"text",value:C,onChange:oe=>R(oe.target.value),placeholder:m==="join"?"Player 1":"Spectator",maxLength:20,className:"w-full py-3 px-4 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",disabled:u})]}),w&&d.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800 rounded text-sm text-red-300",children:w}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>{h(null),Y(null),v(""),R("")},disabled:u,className:"flex-1 py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),d.jsx("button",{onClick:F,disabled:u,className:`flex-1 py-3 px-4 ${m==="join"?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"} text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:u?"Joining...":m==="join"?"Join":"Spectate"})]})]});return d.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-gray-800 rounded-2xl p-10 max-w-md w-full border-2 border-gray-700 shadow-2xl",children:[!m&&te(),m==="host"&&Ue(),(m==="join"||m==="spectate")&&ue()]})})}function Bg({onSelectFormat:c}){const[r,s]=D.useState(!1),[l,u]=D.useState(null),m=v=>{c(v)},h=v=>{u(v),s(!0)},g=(v,C)=>{c(C,{roomCode:v,playerName:"Host",isHost:!0,isSpectator:!1})},y=(v,C)=>{l&&c(l,{roomCode:v,playerName:C,isHost:!1,isSpectator:!1})},b=(v,C)=>{l&&c(l,{roomCode:v,playerName:C,isHost:!1,isSpectator:!0})};return r?d.jsx(zg,{onRoomCreated:g,onJoinRoom:y,onJoinAsSpectator:b,onBack:()=>{s(!1),u(null)}}):d.jsx("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex items-center justify-center px-6",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-12 border-2 border-gray-700 max-w-3xl w-full",children:[d.jsx("h1",{className:"text-5xl font-bold text-center mb-4 text-gray-100",children:"Uma Drafter"}),d.jsx("p",{className:"text-center text-gray-400 mb-12 text-lg",children:"Select your draft format to begin"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsx("div",{className:"space-y-4",children:d.jsxs("button",{onClick:()=>m("5v5"),className:"w-full group bg-gray-700 hover:bg-gray-600 border-2 border-gray-600 hover:border-blue-500 rounded-xl p-6 transition-all transform hover:scale-105 shadow-lg",children:[d.jsx("div",{className:"text-4xl font-bold text-blue-500 mb-2",children:"5v5"}),d.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"2 Teams  Local Draft"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Single Device"})]})}),d.jsx("div",{className:"space-y-4",children:d.jsxs("button",{onClick:()=>m("3v3v3"),className:"w-full group bg-gray-700 hover:bg-gray-600 border-2 border-gray-600 hover:border-purple-500 rounded-xl p-6 transition-all transform hover:scale-105 shadow-lg",children:[d.jsx("div",{className:"text-4xl font-bold text-purple-500 mb-2",children:"3v3v3"}),d.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"3 Teams  Local Draft"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Single Device"})]})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>h("5v5"),className:"w-full group bg-purple-900/30 hover:bg-purple-900/50 border-2 border-purple-700 hover:border-purple-500 rounded-xl p-6 transition-all transform hover:scale-105 shadow-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:"Multiplayer"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Host or Join Online (5v5)"})]})}),d.jsxs("div",{className:"mt-8 text-center text-xs text-gray-500",children:["Made by"," ",d.jsx("a",{href:"https://github.com/xancia",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400 transition-colors",children:"Terumi (xancia)"})," ","and"," ",d.jsx("a",{href:"https://discord.gg/CWEgfQBRSK",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400 transition-colors",children:"Umamusume Tournaments Discord"})]})]})})}const pp=[{id:"1",name:"Tosen Jordan",imageUrl:"./uma-portraits/tosen-jordan.png"},{id:"2",name:"Symboli Rudolf (Festival)",imageUrl:"./uma-portraits/symboli-rudolf-festival.png"},{id:"3",name:"Gold City (Festival)",imageUrl:"./uma-portraits/gold-city-festival.png"},{id:"4",name:"Manhattan Cafe",imageUrl:"./uma-portraits/manhattan-cafe.png"},{id:"5",name:"Kawakami Princess",imageUrl:"./uma-portraits/kawakami-princess.png"},{id:"6",name:"Rice Shower (Halloween)",imageUrl:"./uma-portraits/rice-shower-halloween.png"},{id:"7",name:"Super Creek (Halloween)",imageUrl:"./uma-portraits/super-creek-halloween.png"},{id:"8",name:"Agnes Digital",imageUrl:"./uma-portraits/agnes-digital.png"},{id:"9",name:"Hishi Akebono",imageUrl:"./uma-portraits/hishi-akebono.png"},{id:"10",name:"Matifuku (Full Armor)",imageUrl:"./uma-portraits/matikanefukukitaru-fullarmor.png"},{id:"11",name:"Eishin Flash",imageUrl:"./uma-portraits/eishin-flash.png"},{id:"12",name:"Meisho Doto",imageUrl:"./uma-portraits/meisho-doto.png"},{id:"13",name:"Special Week (Summer)",imageUrl:"./uma-portraits/special-week-summer.png"},{id:"14",name:"Maruzensky (Summer)",imageUrl:"./uma-portraits/maruzensky-summer.png"},{id:"15",name:"Gold City",imageUrl:"./uma-portraits/gold-city.png"},{id:"16",name:"Fuji Kiseki",imageUrl:"./uma-portraits/fuji-kiseki.png"},{id:"17",name:"Grass Wonder (Fantasy)",imageUrl:"./uma-portraits/grass-wonder-fantasy.png"},{id:"18",name:"El Condor Pasa (Fantasy)",imageUrl:"./uma-portraits/el-condor-pasa-fantasy.png"},{id:"19",name:"Hishi Amazon",imageUrl:"./uma-portraits/hishi-amazon.png"},{id:"20",name:"Seiun Sky",imageUrl:"./uma-portraits/seiun-sky.png"},{id:"21",name:"Air Groove (Wedding)",imageUrl:"./uma-portraits/air-groove-wedding.png"},{id:"22",name:"Mayano Top Gun (Wedding)",imageUrl:"./uma-portraits/mayano-top-gun-wedding.png"},{id:"23",name:"Narita Brian",imageUrl:"./uma-portraits/narita-brian.png"},{id:"24",name:"Smart Falcon",imageUrl:"./uma-portraits/smart-falcon.png"},{id:"25",name:"Narita Taishin",imageUrl:"./uma-portraits/narita-taishin.png"},{id:"26",name:"Curren Chan",imageUrl:"./uma-portraits/curren-chan.png"},{id:"27",name:"Tokai Teio (Anime Collab)",imageUrl:"./uma-portraits/tokai-teio-anime.png"},{id:"28",name:"Mejiro McQueen (Anime Collab)",imageUrl:"./uma-portraits/mejiro-mcqueen-anime.png"},{id:"29",name:"Biwa Hayahide",imageUrl:"./uma-portraits/biwa-hayahide.png"},{id:"30",name:"Mihono Bourbon",imageUrl:"./uma-portraits/mihono-bourbon.png"},{id:"31",name:"TM Opera O",imageUrl:"./uma-portraits/tm-opera-o.png"},{id:"32",name:"Special Week",imageUrl:"./uma-portraits/special-week.png"},{id:"33",name:"Silence Suzuka",imageUrl:"./uma-portraits/silence-suzuka.png"},{id:"34",name:"Tokai Teio",imageUrl:"./uma-portraits/tokai-teio.png"},{id:"35",name:"Maruzensky",imageUrl:"./uma-portraits/maruzensky.png"},{id:"36",name:"Oguri Cap",imageUrl:"./uma-portraits/oguri-cap.png"},{id:"37",name:"Taiki Shuttle",imageUrl:"./uma-portraits/taiki-shuttle.png"},{id:"38",name:"Mejiro McQueen",imageUrl:"./uma-portraits/mejiro-mcqueen.png"},{id:"39",name:"Symboli Rudolf",imageUrl:"./uma-portraits/symboli-rudolf.png"},{id:"40",name:"Rice Shower",imageUrl:"./uma-portraits/rice-shower.png"},{id:"41",name:"Gold Ship",imageUrl:"./uma-portraits/gold-ship.png"},{id:"42",name:"Vodka",imageUrl:"./uma-portraits/vodka.png"},{id:"43",name:"Daiwa Scarlet",imageUrl:"./uma-portraits/daiwa-scarlet.png"},{id:"44",name:"Grass Wonder",imageUrl:"./uma-portraits/grass-wonder.png"},{id:"45",name:"El Condor Pasa",imageUrl:"./uma-portraits/el-condor-pasa.png"},{id:"46",name:"Air Groove",imageUrl:"./uma-portraits/air-groove.png"},{id:"47",name:"Mayano Top Gun",imageUrl:"./uma-portraits/mayano-top-gun.png"},{id:"48",name:"Super Creek",imageUrl:"./uma-portraits/super-creek.png"},{id:"49",name:"Mejiro Ryan",imageUrl:"./uma-portraits/mejiro-ryan.png"},{id:"50",name:"Agnes Tachyon",imageUrl:"./uma-portraits/agnes-tachyon.png"},{id:"51",name:"Winning Ticket",imageUrl:"./uma-portraits/winning-ticket.png"},{id:"52",name:"Sakura Bakushin O",imageUrl:"./uma-portraits/sakura-bakushin-o.png"},{id:"53",name:"Haru Urara",imageUrl:"./uma-portraits/haru-urara.png"},{id:"54",name:"Matifuku",imageUrl:"./uma-portraits/matikanefukukitaru.png"},{id:"55",name:"Nice Nature",imageUrl:"./uma-portraits/nice-nature.png"},{id:"56",name:"King Halo",imageUrl:"./uma-portraits/king-halo.png"},{id:"57",name:"Mejiro Dober",imageUrl:"./uma-portraits/mejiro-dober.png"},{id:"58",name:"Oguri Cap (Christmas)",imageUrl:"./uma-portraits/oguri-cap-christmas.png"},{id:"59",name:"Biwa Hayahide (Christmas)",imageUrl:"./uma-portraits/biwa-hayahide-christmas.png"}],li=[{id:"sapporo-1200-turf",track:"Sapporo",distance:1200,surface:"Turf",name:"Sapporo - 1200m Turf"},{id:"sapporo-1500-turf",track:"Sapporo",distance:1500,surface:"Turf",name:"Sapporo - 1500m Turf"},{id:"sapporo-1800-turf",track:"Sapporo",distance:1800,surface:"Turf",name:"Sapporo - 1800m Turf"},{id:"sapporo-2000-turf",track:"Sapporo",distance:2e3,surface:"Turf",name:"Sapporo - 2000m Turf"},{id:"sapporo-2600-turf",track:"Sapporo",distance:2600,surface:"Turf",name:"Sapporo - 2600m Turf"},{id:"sapporo-1700-dirt",track:"Sapporo",distance:1700,surface:"Dirt",name:"Sapporo - 1700m Dirt"},{id:"hakodate-1000-turf",track:"Hakodate",distance:1e3,surface:"Turf",name:"Hakodate - 1000m Turf"},{id:"hakodate-1200-turf",track:"Hakodate",distance:1200,surface:"Turf",name:"Hakodate - 1200m Turf"},{id:"hakodate-1800-turf",track:"Hakodate",distance:1800,surface:"Turf",name:"Hakodate - 1800m Turf"},{id:"hakodate-2000-turf",track:"Hakodate",distance:2e3,surface:"Turf",name:"Hakodate - 2000m Turf"},{id:"hakodate-2600-turf",track:"Hakodate",distance:2600,surface:"Turf",name:"Hakodate - 2600m Turf"},{id:"hakodate-1700-dirt",track:"Hakodate",distance:1700,surface:"Dirt",name:"Hakodate - 1700m Dirt"},{id:"niigata-1000-turf",track:"Niigata",distance:1e3,surface:"Turf",name:"Niigata - 1000m Turf"},{id:"niigata-1200-turf-inner",track:"Niigata",distance:1200,surface:"Turf",variant:"Inner",name:"Niigata - 1200m Turf (Inner)"},{id:"niigata-1400-turf-inner",track:"Niigata",distance:1400,surface:"Turf",variant:"Inner",name:"Niigata - 1400m Turf (Inner)"},{id:"niigata-1600-turf-outer",track:"Niigata",distance:1600,surface:"Turf",variant:"Outer",name:"Niigata - 1600m Turf (Outer)"},{id:"niigata-1800-turf-outer",track:"Niigata",distance:1800,surface:"Turf",variant:"Outer",name:"Niigata - 1800m Turf (Outer)"},{id:"niigata-2000-turf-inner",track:"Niigata",distance:2e3,surface:"Turf",variant:"Inner",name:"Niigata - 2000m Turf (Inner)"},{id:"niigata-2000-turf-outer",track:"Niigata",distance:2e3,surface:"Turf",variant:"Outer",name:"Niigata - 2000m Turf (Outer)"},{id:"niigata-2200-turf-inner",track:"Niigata",distance:2200,surface:"Turf",variant:"Inner",name:"Niigata - 2200m Turf (Inner)"},{id:"niigata-2400-turf-inner",track:"Niigata",distance:2400,surface:"Turf",variant:"Inner",name:"Niigata - 2400m Turf (Inner)"},{id:"niigata-1200-dirt",track:"Niigata",distance:1200,surface:"Dirt",name:"Niigata - 1200m Dirt"},{id:"niigata-1800-dirt",track:"Niigata",distance:1800,surface:"Dirt",name:"Niigata - 1800m Dirt"},{id:"fukushima-1200-turf",track:"Fukushima",distance:1200,surface:"Turf",name:"Fukushima - 1200m Turf"},{id:"fukushima-1800-turf",track:"Fukushima",distance:1800,surface:"Turf",name:"Fukushima - 1800m Turf"},{id:"fukushima-2000-turf",track:"Fukushima",distance:2e3,surface:"Turf",name:"Fukushima - 2000m Turf"},{id:"fukushima-2600-turf",track:"Fukushima",distance:2600,surface:"Turf",name:"Fukushima - 2600m Turf"},{id:"fukushima-1150-dirt",track:"Fukushima",distance:1150,surface:"Dirt",name:"Fukushima - 1150m Dirt"},{id:"fukushima-1700-dirt",track:"Fukushima",distance:1700,surface:"Dirt",name:"Fukushima - 1700m Dirt"},{id:"nakayama-1200-turf-outer",track:"Nakayama",distance:1200,surface:"Turf",variant:"Outer",name:"Nakayama - 1200m Turf (Outer)"},{id:"nakayama-1600-turf-outer",track:"Nakayama",distance:1600,surface:"Turf",variant:"Outer",name:"Nakayama - 1600m Turf (Outer)"},{id:"nakayama-1800-turf-inner",track:"Nakayama",distance:1800,surface:"Turf",variant:"Inner",name:"Nakayama - 1800m Turf (Inner)"},{id:"nakayama-2000-turf-inner",track:"Nakayama",distance:2e3,surface:"Turf",variant:"Inner",name:"Nakayama - 2000m Turf (Inner)"},{id:"nakayama-2200-turf-outer",track:"Nakayama",distance:2200,surface:"Turf",variant:"Outer",name:"Nakayama - 2200m Turf (Outer)"},{id:"nakayama-2500-turf-inner",track:"Nakayama",distance:2500,surface:"Turf",variant:"Inner",name:"Nakayama - 2500m Turf (Inner)"},{id:"nakayama-3600-turf-inner",track:"Nakayama",distance:3600,surface:"Turf",variant:"Inner",name:"Nakayama - 3600m Turf (Inner)"},{id:"nakayama-1200-dirt",track:"Nakayama",distance:1200,surface:"Dirt",name:"Nakayama - 1200m Dirt"},{id:"nakayama-1800-dirt",track:"Nakayama",distance:1800,surface:"Dirt",name:"Nakayama - 1800m Dirt"},{id:"tokyo-1400-turf",track:"Tokyo",distance:1400,surface:"Turf",name:"Tokyo - 1400m Turf"},{id:"tokyo-1600-turf",track:"Tokyo",distance:1600,surface:"Turf",name:"Tokyo - 1600m Turf"},{id:"tokyo-1800-turf",track:"Tokyo",distance:1800,surface:"Turf",name:"Tokyo - 1800m Turf"},{id:"tokyo-2000-turf",track:"Tokyo",distance:2e3,surface:"Turf",name:"Tokyo - 2000m Turf"},{id:"tokyo-2300-turf",track:"Tokyo",distance:2300,surface:"Turf",name:"Tokyo - 2300m Turf"},{id:"tokyo-2400-turf",track:"Tokyo",distance:2400,surface:"Turf",name:"Tokyo - 2400m Turf"},{id:"tokyo-2500-turf",track:"Tokyo",distance:2500,surface:"Turf",name:"Tokyo - 2500m Turf"},{id:"tokyo-3400-turf",track:"Tokyo",distance:3400,surface:"Turf",name:"Tokyo - 3400m Turf"},{id:"tokyo-1300-dirt",track:"Tokyo",distance:1300,surface:"Dirt",name:"Tokyo - 1300m Dirt"},{id:"tokyo-1400-dirt",track:"Tokyo",distance:1400,surface:"Dirt",name:"Tokyo - 1400m Dirt"},{id:"tokyo-1600-dirt",track:"Tokyo",distance:1600,surface:"Dirt",name:"Tokyo - 1600m Dirt"},{id:"tokyo-2100-dirt",track:"Tokyo",distance:2100,surface:"Dirt",name:"Tokyo - 2100m Dirt"},{id:"chukyo-1200-turf",track:"Chukyo",distance:1200,surface:"Turf",name:"Chukyo - 1200m Turf"},{id:"chukyo-1400-turf",track:"Chukyo",distance:1400,surface:"Turf",name:"Chukyo - 1400m Turf"},{id:"chukyo-1600-turf",track:"Chukyo",distance:1600,surface:"Turf",name:"Chukyo - 1600m Turf"},{id:"chukyo-2000-turf",track:"Chukyo",distance:2e3,surface:"Turf",name:"Chukyo - 2000m Turf"},{id:"chukyo-2200-turf",track:"Chukyo",distance:2200,surface:"Turf",name:"Chukyo - 2200m Turf"},{id:"chukyo-1400-dirt",track:"Chukyo",distance:1400,surface:"Dirt",name:"Chukyo - 1400m Dirt"},{id:"chukyo-1800-dirt",track:"Chukyo",distance:1800,surface:"Dirt",name:"Chukyo - 1800m Dirt"},{id:"kyoto-1200-turf-inner",track:"Kyoto",distance:1200,surface:"Turf",variant:"Inner",name:"Kyoto - 1200m Turf (Inner)"},{id:"kyoto-1400-turf-inner",track:"Kyoto",distance:1400,surface:"Turf",variant:"Inner",name:"Kyoto - 1400m Turf (Inner)"},{id:"kyoto-1400-turf-outer",track:"Kyoto",distance:1400,surface:"Turf",variant:"Outer",name:"Kyoto - 1400m Turf (Outer)"},{id:"kyoto-1600-turf-inner",track:"Kyoto",distance:1600,surface:"Turf",variant:"Inner",name:"Kyoto - 1600m Turf (Inner)"},{id:"kyoto-1600-turf-outer",track:"Kyoto",distance:1600,surface:"Turf",variant:"Outer",name:"Kyoto - 1600m Turf (Outer)"},{id:"kyoto-1800-turf-outer",track:"Kyoto",distance:1800,surface:"Turf",variant:"Outer",name:"Kyoto - 1800m Turf (Outer)"},{id:"kyoto-2000-turf-inner",track:"Kyoto",distance:2e3,surface:"Turf",variant:"Inner",name:"Kyoto - 2000m Turf (Inner)"},{id:"kyoto-2200-turf-outer",track:"Kyoto",distance:2200,surface:"Turf",variant:"Outer",name:"Kyoto - 2200m Turf (Outer)"},{id:"kyoto-2400-turf-outer",track:"Kyoto",distance:2400,surface:"Turf",variant:"Outer",name:"Kyoto - 2400m Turf (Outer)"},{id:"kyoto-3000-turf-outer",track:"Kyoto",distance:3e3,surface:"Turf",variant:"Outer",name:"Kyoto - 3000m Turf (Outer)"},{id:"kyoto-3200-turf-outer",track:"Kyoto",distance:3200,surface:"Turf",variant:"Outer",name:"Kyoto - 3200m Turf (Outer)"},{id:"kyoto-1200-dirt",track:"Kyoto",distance:1200,surface:"Dirt",name:"Kyoto - 1200m Dirt"},{id:"kyoto-1400-dirt",track:"Kyoto",distance:1400,surface:"Dirt",name:"Kyoto - 1400m Dirt"},{id:"kyoto-1800-dirt",track:"Kyoto",distance:1800,surface:"Dirt",name:"Kyoto - 1800m Dirt"},{id:"kyoto-1900-dirt",track:"Kyoto",distance:1900,surface:"Dirt",name:"Kyoto - 1900m Dirt"},{id:"hanshin-1200-turf-inner",track:"Hanshin",distance:1200,surface:"Turf",variant:"Inner",name:"Hanshin - 1200m Turf (Inner)"},{id:"hanshin-1400-turf-inner",track:"Hanshin",distance:1400,surface:"Turf",variant:"Inner",name:"Hanshin - 1400m Turf (Inner)"},{id:"hanshin-1600-turf-outer",track:"Hanshin",distance:1600,surface:"Turf",variant:"Outer",name:"Hanshin - 1600m Turf (Outer)"},{id:"hanshin-1800-turf-outer",track:"Hanshin",distance:1800,surface:"Turf",variant:"Outer",name:"Hanshin - 1800m Turf (Outer)"},{id:"hanshin-2000-turf-inner",track:"Hanshin",distance:2e3,surface:"Turf",variant:"Inner",name:"Hanshin - 2000m Turf (Inner)"},{id:"hanshin-2200-turf-inner",track:"Hanshin",distance:2200,surface:"Turf",variant:"Inner",name:"Hanshin - 2200m Turf (Inner)"},{id:"hanshin-2400-turf-outer",track:"Hanshin",distance:2400,surface:"Turf",variant:"Outer",name:"Hanshin - 2400m Turf (Outer)"},{id:"hanshin-2600-turf-outer",track:"Hanshin",distance:2600,surface:"Turf",variant:"Outer",name:"Hanshin - 2600m Turf (Outer)"},{id:"hanshin-3000-turf-inner",track:"Hanshin",distance:3e3,surface:"Turf",variant:"Inner",name:"Hanshin - 3000m Turf (Inner)"},{id:"hanshin-3200-turf-outer-to-inner",track:"Hanshin",distance:3200,surface:"Turf",variant:"Outer to Inner",name:"Hanshin - 3200m Turf (Outer to Inner)"},{id:"hanshin-1400-dirt",track:"Hanshin",distance:1400,surface:"Dirt",name:"Hanshin - 1400m Dirt"},{id:"hanshin-1800-dirt",track:"Hanshin",distance:1800,surface:"Dirt",name:"Hanshin - 1800m Dirt"},{id:"hanshin-2000-dirt",track:"Hanshin",distance:2e3,surface:"Dirt",name:"Hanshin - 2000m Dirt"},{id:"kokura-1200-turf",track:"Kokura",distance:1200,surface:"Turf",name:"Kokura - 1200m Turf"},{id:"kokura-1800-turf",track:"Kokura",distance:1800,surface:"Turf",name:"Kokura - 1800m Turf"},{id:"kokura-2000-turf",track:"Kokura",distance:2e3,surface:"Turf",name:"Kokura - 2000m Turf"},{id:"kokura-2600-turf",track:"Kokura",distance:2600,surface:"Turf",name:"Kokura - 2600m Turf"},{id:"kokura-1700-dirt",track:"Kokura",distance:1700,surface:"Dirt",name:"Kokura - 1700m Dirt"},{id:"ooi-1200-dirt",track:"Ooi",distance:1200,surface:"Dirt",name:"Ooi - 1200m Dirt"},{id:"ooi-1800-dirt",track:"Ooi",distance:1800,surface:"Dirt",name:"Ooi - 1800m Dirt"},{id:"ooi-2000-dirt",track:"Ooi",distance:2e3,surface:"Dirt",name:"Ooi - 2000m Dirt"}];function ni(){const c=["Spring","Summer","Fall","Winter"],r=["Sunny","Cloudy","Rainy","Snowy"],s=c[Math.floor(Math.random()*c.length)],l=r[Math.floor(Math.random()*r.length)];let u;return l==="Sunny"||l==="Cloudy"?u=Math.random()<.5?"Firm":"Good":l==="Rainy"?u=Math.random()<.5?"Soft":"Heavy":u=Math.random()<.5?"Good":"Soft",{season:s,ground:u,weather:l}}function $m(c){return c.replace(/\s*\([^)]+\)\s*$/,"").trim()}function Hg(c,r){const s=$m(c);return r.filter(l=>$m(l.name)===s)}const jl=()=>{const r={...li[Math.floor(Math.random()*li.length)],conditions:ni()};return{phase:"map-pick",currentTeam:"team1",team1:{pickedUmas:[],bannedUmas:[],pickedMaps:[],bannedMaps:[]},team2:{pickedUmas:[],bannedUmas:[],pickedMaps:[],bannedMaps:[]},availableUmas:[...pp],availableMaps:[...li],wildcardMap:r}},hp=c=>c==="team1"?"team2":"team1",gp=c=>{const{phase:r,team1:s,team2:l}=c;if(r==="map-pick"){if(s.pickedMaps.length+l.pickedMaps.length>=8)return"map-ban"}else if(r==="map-ban"){if(s.bannedMaps.length+l.bannedMaps.length>=2)return"uma-pick"}else if(r==="uma-pick"){if(s.pickedUmas.length+l.pickedUmas.length>=12)return"uma-ban"}else if(r==="uma-ban"&&s.bannedUmas.length+l.bannedUmas.length>=2)return"complete";return r},yp=c=>c<=1400?"sprint":c<=1800?"mile":c<=2400?"medium":"long",si=c=>c.reduce((r,s)=>{const l=yp(s.distance);return r[l]=(r[l]||0)+1,r},{}),zc=(c,r)=>{const s=yp(r);return(si(c)[s]||0)<2},oi=c=>c.filter(r=>r.surface==="Dirt").length,Bc=c=>oi(c)<2,Ml=(c,r)=>{const{phase:s,currentTeam:l}=c,u={...c};if(s==="uma-pick"){u[l]={...u[l],pickedUmas:[...u[l].pickedUmas,r]};const h=Hg(r.name,u.availableUmas);u.availableUmas=u.availableUmas.filter(g=>!h.some(y=>y.id===g.id))}else if(s==="uma-ban"){const h=l==="team1"?"team2":"team1",g=u[h].pickedUmas.find(y=>y.id===r.id);g&&(u[h]={...u[h],pickedUmas:u[h].pickedUmas.filter(y=>y.id!==r.id),bannedUmas:[...u[h].bannedUmas,g]})}const m=gp(u);if(s==="uma-pick"&&m==="uma-pick"){const h=u.team1.pickedUmas.length,g=u.team2.pickedUmas.length;h===1&&g===0||h===1&&g===1?u.currentTeam="team2":h===1&&g===2||h===2&&g===2?u.currentTeam="team1":h===3&&g===2||h===3&&g===3?u.currentTeam="team2":h===3&&g===4||h===4&&g===4?u.currentTeam="team1":h===5&&g===4||h===5&&g===5?u.currentTeam="team2":h===5&&g===6&&(u.currentTeam="team1")}else s==="uma-pick"&&m==="uma-ban"?u.currentTeam="team2":u.currentTeam=hp(l);return u.phase=m,u},Ul=(c,r)=>{const{phase:s,currentTeam:l}=c,u={...c};if(s==="map-pick"){const h=u[l].pickedMaps;if(!zc(h,r.distance))return console.warn(`Cannot pick ${r.distance}m - already at maximum (2)`),c;if(r.surface==="Dirt"&&!Bc(h))return console.warn("Cannot pick dirt track - already at maximum (2)"),c;u[l]={...u[l],pickedMaps:[...u[l].pickedMaps,r]},u.availableMaps=u.availableMaps.filter(g=>g.id!==r.id)}else if(s==="map-ban"){const h=l==="team1"?"team2":"team1";u[h]={...u[h],pickedMaps:u[h].pickedMaps.filter(g=>g.id!==r.id),bannedMaps:[...u[h].bannedMaps,r]}}const m=gp(u);return s==="map-pick"&&m==="map-ban"||s==="map-ban"&&m==="uma-pick"?u.currentTeam="team1":u.currentTeam=hp(l),u.phase=m,u},bp=(c,r)=>{if(!c.multiplayer?.enabled)return!0;if(c.multiplayer.connectionType==="spectator")return!1;const s=c.multiplayer.localTeam===r,l=c.currentTeam===r;return s&&l},wg=(c,r,s)=>bp(c,s)?Ml(c,r):(console.warn("Action not allowed: not your turn or team"),c),Lg=(c,r,s)=>bp(c,s)?Ul(c,r):(console.warn("Action not allowed: not your turn or team"),c),Gl=c=>{if(c.length!==0)return c[Math.floor(Math.random()*c.length)]},qg=c=>Gl(c.availableUmas),Gg=c=>{const r=c.currentTeam==="team1"?"team2":"team1",s=c[r].pickedUmas;return Gl(s)},Yg=c=>{const r=c[c.currentTeam].pickedMaps,s=c.availableMaps.filter(l=>!(!zc(r,l.distance)||l.surface==="Dirt"&&!Bc(r)));return Gl(s)},Xg=c=>{const r=c.currentTeam==="team1"?"team2":"team1",s=c[r].pickedMaps;return Gl(s)},Vg=c=>{const{phase:r}=c;switch(r){case"uma-pick":{const s=qg(c);if(s)return{type:"uma",item:s};break}case"uma-ban":{const s=Gg(c);if(s)return{type:"uma",item:s};break}case"map-pick":{const s=Yg(c);if(s)return{type:"map",item:s};break}case"map-ban":{const s=Xg(c);if(s)return{type:"map",item:s};break}}};function vp({phase:c,currentTeam:r,onUndo:s,onReset:l,onBackToMenu:u,canUndo:m,team1Name:h="Team 1",team2Name:g="Team 2",wildcardMap:y,isMultiplayer:b=!1,connectionStatus:v="disconnected",roomCode:C,playerCount:R=0,isHost:w=!1,isSpectator:Y=!1,timeRemaining:G,timerEnabled:F=!0}){const te=F&&G!==void 0&&["map-pick","map-ban","uma-pick","uma-ban"].includes(c),Ue=te&&G<=10&&G>5,ue=te&&G<=5,oe=ie=>{const Re=Math.floor(ie/60),ze=ie%60;return Re>0?`${Re}:${ze.toString().padStart(2,"0")}`:`${ze}s`},x=()=>{switch(c){case"lobby":return"Waiting for Players";case"wildcard-reveal":return"Revealing Tiebreaker Map";case"uma-pick":return"Umamusume Picking Phase";case"uma-ban":return"Umamusume Banning Phase";case"map-pick":return"Map Picking Phase";case"map-ban":return"Map Banning Phase";case"complete":return"Draft Complete!";default:return""}},K=ie=>ie==="team1"?"text-blue-500":"text-red-500",V=()=>{switch(v){case"connected":return d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-400 animate-pulse"});case"connecting":case"reconnecting":return d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-400 animate-pulse"});case"error":return d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-400"});default:return d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-400"})}},ne=async()=>{if(C)try{await navigator.clipboard.writeText(C)}catch(ie){console.error("Failed to copy room code:",ie)}};return d.jsx("div",{className:"bg-gray-800 text-gray-100 p-6 rounded-lg shadow-lg border border-gray-700",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Uma Drafting"}),d.jsx("p",{className:"text-xl mb-1 text-gray-300",children:x()}),c!=="complete"&&d.jsxs("p",{className:"text-lg text-gray-300",children:["Current Turn:"," ",d.jsx("span",{className:`font-bold ${K(r)}`,children:r==="team1"?h:g})]}),y&&d.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Tiebreaker: ",d.jsxs("span",{className:`font-semibold ${y.surface?.toLowerCase()==="turf"?"text-green-400":"text-amber-500"}`,children:[y.track," (",y.distance,"m)"]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-3",children:[d.jsxs("div",{className:"flex gap-3",children:[!Y&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:s,disabled:!m,className:"bg-gray-700 text-gray-100 font-semibold py-2 px-6 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-700 border border-gray-600",children:" Undo"}),d.jsx("button",{onClick:l,className:"bg-gray-700 text-gray-100 font-semibold py-2 px-6 rounded-lg hover:bg-gray-600 transition-colors border border-gray-600",children:"Reset"})]}),d.jsx("button",{onClick:u,className:"bg-gray-700 text-gray-100 font-semibold py-2 px-6 rounded-lg hover:bg-gray-600 transition-colors border border-gray-600",children:Y?"Leave":"Format Selection"})]}),b&&C&&d.jsxs("div",{className:`group flex items-center gap-2 px-3 py-1.5 rounded-lg ${Y?"bg-purple-900/30 border border-purple-700/50":"bg-gray-700/50"}`,children:[Y?d.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}):V(),d.jsxs("span",{className:`text-sm ${Y?"text-purple-300":"text-gray-300"}`,children:[Y?"Spectating":w?"Hosting":"Room",":"]}),d.jsx("button",{onClick:ne,className:`font-mono text-sm transition-all duration-200 blur-sm group-hover:blur-none ${Y?"text-purple-400 hover:text-purple-300":"text-blue-400 hover:text-blue-300"}`,title:"Hover to reveal, click to copy",children:mp(C)}),!Y&&d.jsxs("span",{className:"text-xs text-gray-400",children:["(",R," player",R!==1?"s":"",")"]})]}),te&&G!==void 0&&d.jsxs("div",{className:`px-4 py-2 rounded-lg font-mono text-xl font-bold transition-colors ${ue?"bg-red-900/50 text-red-400 animate-pulse":Ue?"bg-yellow-900/50 text-yellow-400":"bg-gray-700/50 text-gray-300"}`,children:[" ",oe(G)]})]})]})})}function wl({team:c,teamName:r,pickedUmas:s,bannedUmas:l,pickedMaps:u,bannedMaps:m,isCurrentTurn:h=!1,distanceCounts:g={},dirtCount:y=0,pulsingBorder:b=!1,showMapOrder:v=!1}){const C=c==="team1",R=C?"text-blue-500":"text-red-500",w=h?C?"border-blue-500 shadow-blue-500/50":"border-red-500 shadow-red-500/50":"border-gray-700",Y=b&&h?C?"animate-pulse-blue":"animate-pulse-red":"",F=r||(C?"Team 1":"Team 2"),te=[...s,...l],Ue=[...u,...m];return d.jsxs("div",{className:`bg-linear-to-br from-gray-900 to-gray-800 rounded-xl p-6 text-gray-100 h-full flex flex-col border-2 transition-all overflow-y-auto hide-scrollbar ${w} ${Y} ${h?"shadow-lg":"shadow-2xl"}`,children:[d.jsx("div",{className:"text-center mb-6 pb-4 border-b-2 border-gray-700 shrink-0",children:d.jsx("h2",{className:`text-3xl font-bold tracking-wide ${R}`,children:F})}),d.jsxs("div",{className:"mb-6 shrink-0 min-w-0",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2 text-gray-300 uppercase tracking-wider",children:["Maps ",d.jsxs("span",{className:"text-sm",children:["(",Ue.length,"/4)"]})]}),(Object.keys(g).length>0||y>0)&&d.jsxs("div",{className:"mb-3 p-2 bg-gray-800/50 rounded-lg border border-gray-700",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-400 mb-1",children:"CONSTRAINTS:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[["sprint","mile","medium","long"].map(ue=>{const oe=g[ue]||0;return oe===0?null:d.jsxs("span",{className:`text-xs px-2 py-1 rounded capitalize ${oe>=2?"bg-red-900/50 text-red-300 font-bold":"bg-gray-700 text-gray-300"}`,children:[ue,": ",oe,"/2"]},ue)}),y>0&&d.jsxs("span",{className:`text-xs px-2 py-1 rounded ${y>=2?"bg-red-900/50 text-red-300 font-bold":"bg-gray-700 text-gray-300"}`,children:["Dirt: ",y,"/2"]})]})]}),d.jsx("div",{className:"space-y-1.5",children:[...Array(4)].map((ue,oe)=>{const x=Ue[oe],K=x&&m.some(Re=>Re.id===x.id),V=u.findIndex(Re=>x&&Re.id===x.id),ne=V!==-1?C?V*2+1:V*2+2:null,ie=x?x.surface.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800":"";return x?d.jsxs("div",{className:`px-3 py-2 rounded-lg border min-w-0 relative flex gap-3 items-center ${K?`${ie}/30 border-gray-700`:`${ie} border-gray-700`}`,children:[v&&!K&&d.jsx("div",{className:"w-7 h-7 shrink-0 bg-black/30 rounded-md flex items-center justify-center border border-white/20",children:d.jsx("span",{className:"text-sm font-bold text-white",children:ne})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`text-sm font-semibold truncate ${K?"text-gray-400 line-through":"text-white"}`,children:x.track}),d.jsxs("div",{className:`text-xs truncate ${K?"text-gray-500 line-through":"text-gray-100"}`,children:[x.distance,"  ",x.surface,x.variant&&`  ${x.variant}`]}),x.conditions&&d.jsxs("div",{className:`text-xs truncate ${K?"text-gray-500 line-through":"text-gray-300"}`,children:[x.conditions.season,"  ",x.conditions.ground," "," ",x.conditions.weather]})]}),K&&d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500 text-xl font-bold",children:""})]},x.id):d.jsx("div",{className:"bg-gray-800/50 px-3 py-2 rounded-lg border border-gray-700",children:d.jsx("div",{className:"text-xs text-gray-600",children:"Empty slot"})},`empty-${oe}`)})})]}),d.jsxs("div",{className:"mt-3 shrink-0",children:[d.jsxs("h3",{className:"text-lg font-bold mb-2 text-gray-300 uppercase tracking-wider",children:["Umamusume ",d.jsxs("span",{className:"text-sm",children:["(",te.length,"/6)"]})]}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:[...Array(6)].map((ue,oe)=>{const x=te[oe],K=x&&l.some(V=>V.id===x.id);return d.jsx("div",{className:`aspect-square rounded-lg border-3 overflow-hidden ${x?"border-gray-600 bg-gray-600 shadow-lg":"bg-gray-800 border-gray-700"}`,children:x?d.jsxs("div",{className:"relative w-full h-full group",children:[d.jsx("img",{src:x.imageUrl,alt:x.name,className:`w-full h-full object-cover ${K?"grayscale opacity-30":""}`,onError:V=>{const ne=V.target;ne.style.display="none",ne.nextElementSibling?.classList.remove("hidden")}}),d.jsx("div",{className:"hidden text-xl text-gray-400 w-full h-full items-center justify-center",children:"?"}),K&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red-500 text-4xl font-bold",children:""}),d.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-2",children:d.jsx("span",{className:"text-sm font-semibold text-center wrap-break-word text-white",children:x.name})})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600 text-xl shrink-0",children:"?"})},oe)})})]})]})}function xp({uma:c,onSelect:r,disabled:s}){return d.jsxs("button",{onClick:()=>r(c),disabled:s,className:"p-2 bg-gray-700 border-2 border-gray-600 rounded-lg hover:border-gray-500 hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:border-gray-600",children:[d.jsx("div",{className:"aspect-square bg-gray-600 rounded mb-1 flex items-center justify-center overflow-hidden",children:c.imageUrl?d.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"}):d.jsx("span",{className:"text-xl text-gray-400",children:"?"})}),d.jsx("p",{className:"text-xs font-semibold text-gray-100 text-center",children:c.name})]})}function Pm({map:c,onSelect:r,disabled:s}){const l=c.surface.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800";return d.jsxs("button",{onClick:()=>r(c),disabled:s,className:"p-3 bg-gray-700 border-2 border-gray-600 rounded-lg hover:border-gray-500 hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:border-gray-600",children:[d.jsx("div",{className:`${l} rounded px-2 py-3 mb-2 flex flex-col items-center justify-center`,children:d.jsx("span",{className:"text-xs font-semibold text-gray-100",children:c.surface})}),d.jsx("p",{className:"text-sm font-bold text-gray-100 text-center mb-1",children:c.track}),d.jsxs("p",{className:"text-xs text-gray-300 text-center",children:[c.distance,"m",c.variant?` (${c.variant})`:""]}),c.conditions&&d.jsxs("p",{className:"text-xs text-gray-400 text-center mt-1",children:[c.conditions.season,"  ",c.conditions.ground," "," ",c.conditions.weather]})]})}function Qg({draftState:c,roomCode:r,team1Name:s="Team 1",team2Name:l="Team 2",connectionStatus:u="connected",onBackToMenu:m,timeRemaining:h}){const{phase:g,currentTeam:y,team1:b,team2:v,wildcardMap:C}=c,R=si(b.pickedMaps),w=si(v.pickedMaps);return d.jsxs("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex gap-6 px-6 py-6 overflow-hidden",children:[d.jsx("div",{className:"w-96 shrink-0 flex flex-col min-h-0",children:d.jsx(wl,{team:"team1",teamName:s,pickedUmas:b.pickedUmas,bannedUmas:b.bannedUmas,pickedMaps:b.pickedMaps,bannedMaps:b.bannedMaps,distanceCounts:R,dirtCount:oi(b.pickedMaps),isCurrentTurn:g!=="complete"&&y==="team1",pulsingBorder:!0,showMapOrder:g==="uma-pick"||g==="uma-ban"||g==="complete"})}),d.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[d.jsx("div",{className:"shrink-0",children:d.jsx(vp,{phase:g,currentTeam:y,onUndo:()=>{},onReset:()=>{},onBackToMenu:m||(()=>{}),canUndo:!1,team1Name:s,team2Name:l,wildcardMap:C,isMultiplayer:!0,connectionStatus:u,roomCode:r,playerCount:2,isHost:!1,isSpectator:!0,timeRemaining:h,timerEnabled:!0})}),d.jsx("div",{className:"flex-1 flex items-center justify-center",children:C?d.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-8 text-center border border-gray-700",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-6",children:"Tiebreaker Map"}),d.jsx("div",{className:"flex justify-center",children:d.jsxs("div",{className:"bg-gray-700 border-4 border-blue-500 rounded-xl p-6 max-w-sm",children:[d.jsx("div",{className:"aspect-video bg-gray-600 rounded-lg mb-4 overflow-hidden",children:d.jsx("img",{src:`./racetrack-portraits/${C.track?.toLowerCase()}.png`,alt:C.track,className:"w-full h-full object-cover",onError:Y=>{const G=Y.target;G.style.display="none"}})}),d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:C.track}),d.jsx("div",{className:`inline-block px-4 py-2 rounded-lg mb-2 ${C.surface?.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800"}`,children:d.jsx("span",{className:"text-lg font-semibold text-white",children:C.surface})}),d.jsxs("p",{className:"text-xl text-gray-200",children:[C.distance,"m",C.variant&&` (${C.variant})`]}),C.conditions&&d.jsxs("p",{className:"text-lg text-gray-300 mt-2",children:[C.conditions.season," "," ",C.conditions.ground," "," ",C.conditions.weather]})]})})]}):d.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-6 text-center",children:d.jsx("p",{className:"text-gray-400",children:"Waiting for draft to start..."})})})]}),d.jsx("div",{className:"w-96 shrink-0 flex flex-col min-h-0",children:d.jsx(wl,{team:"team2",teamName:l,pickedUmas:v.pickedUmas,bannedUmas:v.bannedUmas,pickedMaps:v.pickedMaps,bannedMaps:v.bannedMaps,distanceCounts:w,dirtCount:oi(v.pickedMaps),isCurrentTurn:g!=="complete"&&y==="team2",pulsingBorder:!0,showMapOrder:g==="uma-pick"||g==="uma-ban"||g==="complete"})})]})}function Kg({roomCode:c,team1Name:r,team2Name:s,isHost:l,playerCount:u,spectatorCount:m,onStartDraft:h,onLeave:g}){const[y,b]=D.useState(!1),v=u>=2,C=async()=>{try{await navigator.clipboard.writeText(c),b(!0),setTimeout(()=>b(!1),2e3)}catch(R){console.error("Failed to copy room code:",R)}};return d.jsx("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex items-center justify-center px-6",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-10 border-2 border-gray-700 max-w-lg w-full text-center",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2 text-gray-100",children:"Waiting Room"}),d.jsx("p",{className:"text-gray-400 mb-8",children:"Share the room code with your opponent"}),d.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 mb-8 border border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Room Code"}),d.jsx("button",{onClick:C,className:`text-5xl font-mono font-bold transition-colors tracking-wider ${y?"text-green-400":"text-blue-400 hover:text-blue-300"}`,title:"Click to copy",children:mp(c)}),d.jsx("p",{className:`text-xs mt-2 transition-colors ${y?"text-green-400":"text-gray-500"}`,children:y?" Copied!":"Click to copy"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[d.jsx("p",{className:"text-xs text-blue-400 mb-1",children:"Team 1"}),d.jsx("p",{className:"font-semibold text-blue-300",children:r})]}),d.jsxs("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-4",children:[d.jsx("p",{className:"text-xs text-red-400 mb-1",children:"Team 2"}),d.jsx("p",{className:"font-semibold text-red-300",children:s})]})]}),d.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 mb-8 border border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-3 h-3 rounded-full ${u>=2?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),d.jsxs("span",{className:"text-gray-300",children:[u,"/2 Players"]})]}),m>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-purple-400"}),d.jsxs("span",{className:"text-gray-300",children:[m," Spectator",m!==1?"s":""]})]})]}),u<2&&d.jsx("p",{className:"text-sm text-yellow-400/80 mt-3",children:"Waiting for opponent to join..."})]}),l?d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:h,disabled:!v,className:`w-full py-4 px-6 rounded-xl font-bold text-lg transition-all transform ${v?"bg-green-600 hover:bg-green-500 text-white hover:scale-[1.02] shadow-lg":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:v?"Start Draft":"Waiting for Players..."}),g&&d.jsx("button",{onClick:g,className:"w-full py-3 px-4 text-gray-400 hover:text-gray-200 transition-colors text-sm",children:"Cancel"})]}):d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"bg-gray-700/50 rounded-xl p-4",children:d.jsx("p",{className:"text-gray-300",children:"Waiting for host to start the draft..."})}),g&&d.jsx("button",{onClick:g,className:"w-full py-3 px-4 text-gray-400 hover:text-gray-200 transition-colors text-sm",children:"Leave Room"})]})]})})}class Zg{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(r){this.flush(),this._parts.push(r)}append(r){this._pieces.push(r)}flush(){if(this._pieces.length>0){const r=new Uint8Array(this._pieces);this._parts.push(r),this._pieces=[]}}toArrayBuffer(){const r=[];for(const s of this._parts)r.push(s);return Jg(r).buffer}}function Jg(c){let r=0;for(const u of c)r+=u.byteLength;const s=new Uint8Array(r);let l=0;for(const u of c){const m=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);s.set(m,l),l+=u.byteLength}return s}function Sp(c){return new $g(c).unpack()}function Tp(c){const r=new Pg,s=r.pack(c);return s instanceof Promise?s.then(()=>r.getBuffer()):r.getBuffer()}class $g{constructor(r){this.index=0,this.dataBuffer=r,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const r=this.unpack_uint8();if(r<128)return r;if((r^224)<32)return(r^224)-32;let s;if((s=r^160)<=15)return this.unpack_raw(s);if((s=r^176)<=15)return this.unpack_string(s);if((s=r^144)<=15)return this.unpack_array(s);if((s=r^128)<=15)return this.unpack_map(s);switch(r){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return s=this.unpack_uint16(),this.unpack_string(s);case 217:return s=this.unpack_uint32(),this.unpack_string(s);case 218:return s=this.unpack_uint16(),this.unpack_raw(s);case 219:return s=this.unpack_uint32(),this.unpack_raw(s);case 220:return s=this.unpack_uint16(),this.unpack_array(s);case 221:return s=this.unpack_uint32(),this.unpack_array(s);case 222:return s=this.unpack_uint16(),this.unpack_map(s);case 223:return s=this.unpack_uint32(),this.unpack_map(s)}}unpack_uint8(){const r=this.dataView[this.index]&255;return this.index++,r}unpack_uint16(){const r=this.read(2),s=(r[0]&255)*256+(r[1]&255);return this.index+=2,s}unpack_uint32(){const r=this.read(4),s=((r[0]*256+r[1])*256+r[2])*256+r[3];return this.index+=4,s}unpack_uint64(){const r=this.read(8),s=((((((r[0]*256+r[1])*256+r[2])*256+r[3])*256+r[4])*256+r[5])*256+r[6])*256+r[7];return this.index+=8,s}unpack_int8(){const r=this.unpack_uint8();return r<128?r:r-256}unpack_int16(){const r=this.unpack_uint16();return r<32768?r:r-65536}unpack_int32(){const r=this.unpack_uint32();return r<2**31?r:r-2**32}unpack_int64(){const r=this.unpack_uint64();return r<2**63?r:r-2**64}unpack_raw(r){if(this.length<this.index+r)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${r} ${this.length}`);const s=this.dataBuffer.slice(this.index,this.index+r);return this.index+=r,s}unpack_string(r){const s=this.read(r);let l=0,u="",m,h;for(;l<r;)m=s[l],m<160?(h=m,l++):(m^192)<32?(h=(m&31)<<6|s[l+1]&63,l+=2):(m^224)<16?(h=(m&15)<<12|(s[l+1]&63)<<6|s[l+2]&63,l+=3):(h=(m&7)<<18|(s[l+1]&63)<<12|(s[l+2]&63)<<6|s[l+3]&63,l+=4),u+=String.fromCodePoint(h);return this.index+=r,u}unpack_array(r){const s=new Array(r);for(let l=0;l<r;l++)s[l]=this.unpack();return s}unpack_map(r){const s={};for(let l=0;l<r;l++){const u=this.unpack();s[u]=this.unpack()}return s}unpack_float(){const r=this.unpack_uint32(),s=r>>31,l=(r>>23&255)-127,u=r&8388607|8388608;return(s===0?1:-1)*u*2**(l-23)}unpack_double(){const r=this.unpack_uint32(),s=this.unpack_uint32(),l=r>>31,u=(r>>20&2047)-1023,h=(r&1048575|1048576)*2**(u-20)+s*2**(u-52);return(l===0?1:-1)*h}read(r){const s=this.index;if(s+r<=this.length)return this.dataView.subarray(s,s+r);throw new Error("BinaryPackFailure: read index out of range")}}class Pg{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(r){if(typeof r=="string")this.pack_string(r);else if(typeof r=="number")Math.floor(r)===r?this.pack_integer(r):this.pack_double(r);else if(typeof r=="boolean")r===!0?this._bufferBuilder.append(195):r===!1&&this._bufferBuilder.append(194);else if(r===void 0)this._bufferBuilder.append(192);else if(typeof r=="object")if(r===null)this._bufferBuilder.append(192);else{const s=r.constructor;if(r instanceof Array){const l=this.pack_array(r);if(l instanceof Promise)return l.then(()=>this._bufferBuilder.flush())}else if(r instanceof ArrayBuffer)this.pack_bin(new Uint8Array(r));else if("BYTES_PER_ELEMENT"in r){const l=r;this.pack_bin(new Uint8Array(l.buffer,l.byteOffset,l.byteLength))}else if(r instanceof Date)this.pack_string(r.toString());else{if(r instanceof Blob)return r.arrayBuffer().then(l=>{this.pack_bin(new Uint8Array(l)),this._bufferBuilder.flush()});if(s==Object||s.toString().startsWith("class")){const l=this.pack_object(r);if(l instanceof Promise)return l.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${s.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof r}" not yet supported`);this._bufferBuilder.flush()}pack_bin(r){const s=r.length;if(s<=15)this.pack_uint8(160+s);else if(s<=65535)this._bufferBuilder.append(218),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(r)}pack_string(r){const s=this._textEncoder.encode(r),l=s.length;if(l<=15)this.pack_uint8(176+l);else if(l<=65535)this._bufferBuilder.append(216),this.pack_uint16(l);else if(l<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(l);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(s)}pack_array(r){const s=r.length;if(s<=15)this.pack_uint8(144+s);else if(s<=65535)this._bufferBuilder.append(220),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<s){const m=this.pack(r[u]);return m instanceof Promise?m.then(()=>l(u+1)):l(u+1)}};return l(0)}pack_integer(r){if(r>=-32&&r<=127)this._bufferBuilder.append(r&255);else if(r>=0&&r<=255)this._bufferBuilder.append(204),this.pack_uint8(r);else if(r>=-128&&r<=127)this._bufferBuilder.append(208),this.pack_int8(r);else if(r>=0&&r<=65535)this._bufferBuilder.append(205),this.pack_uint16(r);else if(r>=-32768&&r<=32767)this._bufferBuilder.append(209),this.pack_int16(r);else if(r>=0&&r<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(r);else if(r>=-2147483648&&r<=2147483647)this._bufferBuilder.append(210),this.pack_int32(r);else if(r>=-9223372036854776e3&&r<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(r);else if(r>=0&&r<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(r);else throw new Error("Invalid integer")}pack_double(r){let s=0;r<0&&(s=1,r=-r);const l=Math.floor(Math.log(r)/Math.LN2),u=r/2**l-1,m=Math.floor(u*2**52),h=2**32,g=s<<31|l+1023<<20|m/h&1048575,y=m%h;this._bufferBuilder.append(203),this.pack_int32(g),this.pack_int32(y)}pack_object(r){const s=Object.keys(r),l=s.length;if(l<=15)this.pack_uint8(128+l);else if(l<=65535)this._bufferBuilder.append(222),this.pack_uint16(l);else if(l<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(l);else throw new Error("Invalid length");const u=m=>{if(m<s.length){const h=s[m];if(r.hasOwnProperty(h)){this.pack(h);const g=this.pack(r[h]);if(g instanceof Promise)return g.then(()=>u(m+1))}return u(m+1)}};return u(0)}pack_uint8(r){this._bufferBuilder.append(r)}pack_uint16(r){this._bufferBuilder.append(r>>8),this._bufferBuilder.append(r&255)}pack_uint32(r){const s=r&4294967295;this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_uint64(r){const s=r/4294967296,l=r%2**32;this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255),this._bufferBuilder.append((l&4278190080)>>>24),this._bufferBuilder.append((l&16711680)>>>16),this._bufferBuilder.append((l&65280)>>>8),this._bufferBuilder.append(l&255)}pack_int8(r){this._bufferBuilder.append(r&255)}pack_int16(r){this._bufferBuilder.append((r&65280)>>8),this._bufferBuilder.append(r&255)}pack_int32(r){this._bufferBuilder.append(r>>>24&255),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int64(r){const s=Math.floor(r/4294967296),l=r%2**32;this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255),this._bufferBuilder.append((l&4278190080)>>>24),this._bufferBuilder.append((l&16711680)>>>16),this._bufferBuilder.append((l&65280)>>>8),this._bufferBuilder.append(l&255)}constructor(){this._bufferBuilder=new Zg,this._textEncoder=new TextEncoder}}let Cp=!0,_p=!0;function ri(c,r,s){const l=c.match(r);return l&&l.length>=s&&parseFloat(l[s],10)}function mn(c,r,s){if(!c.RTCPeerConnection)return;const l=c.RTCPeerConnection.prototype,u=l.addEventListener;l.addEventListener=function(h,g){if(h!==r)return u.apply(this,arguments);const y=b=>{const v=s(b);v&&(g.handleEvent?g.handleEvent(v):g(v))};return this._eventMap=this._eventMap||{},this._eventMap[r]||(this._eventMap[r]=new Map),this._eventMap[r].set(g,y),u.apply(this,[h,y])};const m=l.removeEventListener;l.removeEventListener=function(h,g){if(h!==r||!this._eventMap||!this._eventMap[r])return m.apply(this,arguments);if(!this._eventMap[r].has(g))return m.apply(this,arguments);const y=this._eventMap[r].get(g);return this._eventMap[r].delete(g),this._eventMap[r].size===0&&delete this._eventMap[r],Object.keys(this._eventMap).length===0&&delete this._eventMap,m.apply(this,[h,y])},Object.defineProperty(l,"on"+r,{get(){return this["_on"+r]},set(h){this["_on"+r]&&(this.removeEventListener(r,this["_on"+r]),delete this["_on"+r]),h&&this.addEventListener(r,this["_on"+r]=h)},enumerable:!0,configurable:!0})}function Fg(c){return typeof c!="boolean"?new Error("Argument type: "+typeof c+". Please use a boolean."):(Cp=c,c?"adapter.js logging disabled":"adapter.js logging enabled")}function Ig(c){return typeof c!="boolean"?new Error("Argument type: "+typeof c+". Please use a boolean."):(_p=!c,"adapter.js deprecation warnings "+(c?"disabled":"enabled"))}function kp(){if(typeof window=="object"){if(Cp)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Hc(c,r){_p&&console.warn(c+" is deprecated, please use "+r+" instead.")}function Wg(c){const r={browser:null,version:null};if(typeof c>"u"||!c.navigator||!c.navigator.userAgent)return r.browser="Not a browser.",r;const{navigator:s}=c;if(s.userAgentData&&s.userAgentData.brands){const l=s.userAgentData.brands.find(u=>u.brand==="Chromium");if(l)return{browser:"chrome",version:parseInt(l.version,10)}}if(s.mozGetUserMedia)r.browser="firefox",r.version=parseInt(ri(s.userAgent,/Firefox\/(\d+)\./,1));else if(s.webkitGetUserMedia||c.isSecureContext===!1&&c.webkitRTCPeerConnection)r.browser="chrome",r.version=parseInt(ri(s.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(c.RTCPeerConnection&&s.userAgent.match(/AppleWebKit\/(\d+)\./))r.browser="safari",r.version=parseInt(ri(s.userAgent,/AppleWebKit\/(\d+)\./,1)),r.supportsUnifiedPlan=c.RTCRtpTransceiver&&"currentDirection"in c.RTCRtpTransceiver.prototype,r._safariVersion=ri(s.userAgent,/Version\/(\d+(\.?\d+))/,1);else return r.browser="Not a supported browser.",r;return r}function Fm(c){return Object.prototype.toString.call(c)==="[object Object]"}function Rp(c){return Fm(c)?Object.keys(c).reduce(function(r,s){const l=Fm(c[s]),u=l?Rp(c[s]):c[s],m=l&&!Object.keys(u).length;return u===void 0||m?r:Object.assign(r,{[s]:u})},{}):c}function _c(c,r,s){!r||s.has(r.id)||(s.set(r.id,r),Object.keys(r).forEach(l=>{l.endsWith("Id")?_c(c,c.get(r[l]),s):l.endsWith("Ids")&&r[l].forEach(u=>{_c(c,c.get(u),s)})}))}function Im(c,r,s){const l=s?"outbound-rtp":"inbound-rtp",u=new Map;if(r===null)return u;const m=[];return c.forEach(h=>{h.type==="track"&&h.trackIdentifier===r.id&&m.push(h)}),m.forEach(h=>{c.forEach(g=>{g.type===l&&g.trackId===h.id&&_c(c,g,u)})}),u}const Wm=kp;function Ep(c,r){const s=c&&c.navigator;if(!s.mediaDevices)return;const l=function(g){if(typeof g!="object"||g.mandatory||g.optional)return g;const y={};return Object.keys(g).forEach(b=>{if(b==="require"||b==="advanced"||b==="mediaSource")return;const v=typeof g[b]=="object"?g[b]:{ideal:g[b]};v.exact!==void 0&&typeof v.exact=="number"&&(v.min=v.max=v.exact);const C=function(R,w){return R?R+w.charAt(0).toUpperCase()+w.slice(1):w==="deviceId"?"sourceId":w};if(v.ideal!==void 0){y.optional=y.optional||[];let R={};typeof v.ideal=="number"?(R[C("min",b)]=v.ideal,y.optional.push(R),R={},R[C("max",b)]=v.ideal,y.optional.push(R)):(R[C("",b)]=v.ideal,y.optional.push(R))}v.exact!==void 0&&typeof v.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[C("",b)]=v.exact):["min","max"].forEach(R=>{v[R]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[C(R,b)]=v[R])})}),g.advanced&&(y.optional=(y.optional||[]).concat(g.advanced)),y},u=function(g,y){if(r.version>=61)return y(g);if(g=JSON.parse(JSON.stringify(g)),g&&typeof g.audio=="object"){const b=function(v,C,R){C in v&&!(R in v)&&(v[R]=v[C],delete v[C])};g=JSON.parse(JSON.stringify(g)),b(g.audio,"autoGainControl","googAutoGainControl"),b(g.audio,"noiseSuppression","googNoiseSuppression"),g.audio=l(g.audio)}if(g&&typeof g.video=="object"){let b=g.video.facingMode;b=b&&(typeof b=="object"?b:{ideal:b});const v=r.version<66;if(b&&(b.exact==="user"||b.exact==="environment"||b.ideal==="user"||b.ideal==="environment")&&!(s.mediaDevices.getSupportedConstraints&&s.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete g.video.facingMode;let C;if(b.exact==="environment"||b.ideal==="environment"?C=["back","rear"]:(b.exact==="user"||b.ideal==="user")&&(C=["front"]),C)return s.mediaDevices.enumerateDevices().then(R=>{R=R.filter(Y=>Y.kind==="videoinput");let w=R.find(Y=>C.some(G=>Y.label.toLowerCase().includes(G)));return!w&&R.length&&C.includes("back")&&(w=R[R.length-1]),w&&(g.video.deviceId=b.exact?{exact:w.deviceId}:{ideal:w.deviceId}),g.video=l(g.video),Wm("chrome: "+JSON.stringify(g)),y(g)})}g.video=l(g.video)}return Wm("chrome: "+JSON.stringify(g)),y(g)},m=function(g){return r.version>=64?g:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[g.name]||g.name,message:g.message,constraint:g.constraint||g.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},h=function(g,y,b){u(g,v=>{s.webkitGetUserMedia(v,y,C=>{b&&b(m(C))})})};if(s.getUserMedia=h.bind(s),s.mediaDevices.getUserMedia){const g=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(y){return u(y,b=>g(b).then(v=>{if(b.audio&&!v.getAudioTracks().length||b.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(C=>{C.stop()}),new DOMException("","NotFoundError");return v},v=>Promise.reject(m(v))))}}}function Np(c){c.MediaStream=c.MediaStream||c.webkitMediaStream}function jp(c){if(typeof c=="object"&&c.RTCPeerConnection&&!("ontrack"in c.RTCPeerConnection.prototype)){Object.defineProperty(c.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(s){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=s)},enumerable:!0,configurable:!0});const r=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=l=>{l.stream.addEventListener("addtrack",u=>{let m;c.RTCPeerConnection.prototype.getReceivers?m=this.getReceivers().find(g=>g.track&&g.track.id===u.track.id):m={track:u.track};const h=new Event("track");h.track=u.track,h.receiver=m,h.transceiver={receiver:m},h.streams=[l.stream],this.dispatchEvent(h)}),l.stream.getTracks().forEach(u=>{let m;c.RTCPeerConnection.prototype.getReceivers?m=this.getReceivers().find(g=>g.track&&g.track.id===u.id):m={track:u};const h=new Event("track");h.track=u,h.receiver=m,h.transceiver={receiver:m},h.streams=[l.stream],this.dispatchEvent(h)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}else mn(c,"track",r=>(r.transceiver||Object.defineProperty(r,"transceiver",{value:{receiver:r.receiver}}),r))}function Mp(c){if(typeof c=="object"&&c.RTCPeerConnection&&!("getSenders"in c.RTCPeerConnection.prototype)&&"createDTMFSender"in c.RTCPeerConnection.prototype){const r=function(u,m){return{track:m,get dtmf(){return this._dtmf===void 0&&(m.kind==="audio"?this._dtmf=u.createDTMFSender(m):this._dtmf=null),this._dtmf},_pc:u}};if(!c.RTCPeerConnection.prototype.getSenders){c.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const u=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addTrack=function(g,y){let b=u.apply(this,arguments);return b||(b=r(this,g),this._senders.push(b)),b};const m=c.RTCPeerConnection.prototype.removeTrack;c.RTCPeerConnection.prototype.removeTrack=function(g){m.apply(this,arguments);const y=this._senders.indexOf(g);y!==-1&&this._senders.splice(y,1)}}const s=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(m){this._senders=this._senders||[],s.apply(this,[m]),m.getTracks().forEach(h=>{this._senders.push(r(this,h))})};const l=c.RTCPeerConnection.prototype.removeStream;c.RTCPeerConnection.prototype.removeStream=function(m){this._senders=this._senders||[],l.apply(this,[m]),m.getTracks().forEach(h=>{const g=this._senders.find(y=>y.track===h);g&&this._senders.splice(this._senders.indexOf(g),1)})}}else if(typeof c=="object"&&c.RTCPeerConnection&&"getSenders"in c.RTCPeerConnection.prototype&&"createDTMFSender"in c.RTCPeerConnection.prototype&&c.RTCRtpSender&&!("dtmf"in c.RTCRtpSender.prototype)){const r=c.RTCPeerConnection.prototype.getSenders;c.RTCPeerConnection.prototype.getSenders=function(){const l=r.apply(this,[]);return l.forEach(u=>u._pc=this),l},Object.defineProperty(c.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Up(c){if(!(typeof c=="object"&&c.RTCPeerConnection&&c.RTCRtpSender&&c.RTCRtpReceiver))return;if(!("getStats"in c.RTCRtpSender.prototype)){const s=c.RTCPeerConnection.prototype.getSenders;s&&(c.RTCPeerConnection.prototype.getSenders=function(){const m=s.apply(this,[]);return m.forEach(h=>h._pc=this),m});const l=c.RTCPeerConnection.prototype.addTrack;l&&(c.RTCPeerConnection.prototype.addTrack=function(){const m=l.apply(this,arguments);return m._pc=this,m}),c.RTCRtpSender.prototype.getStats=function(){const m=this;return this._pc.getStats().then(h=>Im(h,m.track,!0))}}if(!("getStats"in c.RTCRtpReceiver.prototype)){const s=c.RTCPeerConnection.prototype.getReceivers;s&&(c.RTCPeerConnection.prototype.getReceivers=function(){const u=s.apply(this,[]);return u.forEach(m=>m._pc=this),u}),mn(c,"track",l=>(l.receiver._pc=l.srcElement,l)),c.RTCRtpReceiver.prototype.getStats=function(){const u=this;return this._pc.getStats().then(m=>Im(m,u.track,!1))}}if(!("getStats"in c.RTCRtpSender.prototype&&"getStats"in c.RTCRtpReceiver.prototype))return;const r=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof c.MediaStreamTrack){const l=arguments[0];let u,m,h;return this.getSenders().forEach(g=>{g.track===l&&(u?h=!0:u=g)}),this.getReceivers().forEach(g=>(g.track===l&&(m?h=!0:m=g),g.track===l)),h||u&&m?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):u?u.getStats():m?m.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}function Op(c){c.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(h=>this._shimmedLocalStreams[h][0])};const r=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addTrack=function(h,g){if(!g)return r.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const y=r.apply(this,arguments);return this._shimmedLocalStreams[g.id]?this._shimmedLocalStreams[g.id].indexOf(y)===-1&&this._shimmedLocalStreams[g.id].push(y):this._shimmedLocalStreams[g.id]=[g,y],y};const s=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(h){this._shimmedLocalStreams=this._shimmedLocalStreams||{},h.getTracks().forEach(b=>{if(this.getSenders().find(C=>C.track===b))throw new DOMException("Track already exists.","InvalidAccessError")});const g=this.getSenders();s.apply(this,arguments);const y=this.getSenders().filter(b=>g.indexOf(b)===-1);this._shimmedLocalStreams[h.id]=[h].concat(y)};const l=c.RTCPeerConnection.prototype.removeStream;c.RTCPeerConnection.prototype.removeStream=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[h.id],l.apply(this,arguments)};const u=c.RTCPeerConnection.prototype.removeTrack;c.RTCPeerConnection.prototype.removeTrack=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},h&&Object.keys(this._shimmedLocalStreams).forEach(g=>{const y=this._shimmedLocalStreams[g].indexOf(h);y!==-1&&this._shimmedLocalStreams[g].splice(y,1),this._shimmedLocalStreams[g].length===1&&delete this._shimmedLocalStreams[g]}),u.apply(this,arguments)}}function Ap(c,r){if(!c.RTCPeerConnection)return;if(c.RTCPeerConnection.prototype.addTrack&&r.version>=65)return Op(c);const s=c.RTCPeerConnection.prototype.getLocalStreams;c.RTCPeerConnection.prototype.getLocalStreams=function(){const v=s.apply(this);return this._reverseStreams=this._reverseStreams||{},v.map(C=>this._reverseStreams[C.id])};const l=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(v){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.getTracks().forEach(C=>{if(this.getSenders().find(w=>w.track===C))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[v.id]){const C=new c.MediaStream(v.getTracks());this._streams[v.id]=C,this._reverseStreams[C.id]=v,v=C}l.apply(this,[v])};const u=c.RTCPeerConnection.prototype.removeStream;c.RTCPeerConnection.prototype.removeStream=function(v){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.apply(this,[this._streams[v.id]||v]),delete this._reverseStreams[this._streams[v.id]?this._streams[v.id].id:v.id],delete this._streams[v.id]},c.RTCPeerConnection.prototype.addTrack=function(v,C){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const R=[].slice.call(arguments,1);if(R.length!==1||!R[0].getTracks().find(G=>G===v))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(G=>G.track===v))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Y=this._streams[C.id];if(Y)Y.addTrack(v),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const G=new c.MediaStream([v]);this._streams[C.id]=G,this._reverseStreams[G.id]=C,this.addStream(G)}return this.getSenders().find(G=>G.track===v)};function m(b,v){let C=v.sdp;return Object.keys(b._reverseStreams||[]).forEach(R=>{const w=b._reverseStreams[R],Y=b._streams[w.id];C=C.replace(new RegExp(Y.id,"g"),w.id)}),new RTCSessionDescription({type:v.type,sdp:C})}function h(b,v){let C=v.sdp;return Object.keys(b._reverseStreams||[]).forEach(R=>{const w=b._reverseStreams[R],Y=b._streams[w.id];C=C.replace(new RegExp(w.id,"g"),Y.id)}),new RTCSessionDescription({type:v.type,sdp:C})}["createOffer","createAnswer"].forEach(function(b){const v=c.RTCPeerConnection.prototype[b],C={[b](){const R=arguments;return arguments.length&&typeof arguments[0]=="function"?v.apply(this,[Y=>{const G=m(this,Y);R[0].apply(null,[G])},Y=>{R[1]&&R[1].apply(null,Y)},arguments[2]]):v.apply(this,arguments).then(Y=>m(this,Y))}};c.RTCPeerConnection.prototype[b]=C[b]});const g=c.RTCPeerConnection.prototype.setLocalDescription;c.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?g.apply(this,arguments):(arguments[0]=h(this,arguments[0]),g.apply(this,arguments))};const y=Object.getOwnPropertyDescriptor(c.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(c.RTCPeerConnection.prototype,"localDescription",{get(){const b=y.get.apply(this);return b.type===""?b:m(this,b)}}),c.RTCPeerConnection.prototype.removeTrack=function(v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!v._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(v._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let R;Object.keys(this._streams).forEach(w=>{this._streams[w].getTracks().find(G=>v.track===G)&&(R=this._streams[w])}),R&&(R.getTracks().length===1?this.removeStream(this._reverseStreams[R.id]):R.removeTrack(v.track),this.dispatchEvent(new Event("negotiationneeded")))}}function kc(c,r){!c.RTCPeerConnection&&c.webkitRTCPeerConnection&&(c.RTCPeerConnection=c.webkitRTCPeerConnection),c.RTCPeerConnection&&r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const l=c.RTCPeerConnection.prototype[s],u={[s](){return arguments[0]=new(s==="addIceCandidate"?c.RTCIceCandidate:c.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};c.RTCPeerConnection.prototype[s]=u[s]})}function Dp(c,r){mn(c,"negotiationneeded",s=>{const l=s.target;if(!((r.version<72||l.getConfiguration&&l.getConfiguration().sdpSemantics==="plan-b")&&l.signalingState!=="stable"))return s})}const ep=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Dp,shimAddTrackRemoveTrack:Ap,shimAddTrackRemoveTrackWithNative:Op,shimGetSendersWithDtmf:Mp,shimGetUserMedia:Ep,shimMediaStream:Np,shimOnTrack:jp,shimPeerConnection:kc,shimSenderReceiverGetStats:Up},Symbol.toStringTag,{value:"Module"}));function zp(c,r){const s=c&&c.navigator,l=c&&c.MediaStreamTrack;if(s.getUserMedia=function(u,m,h){Hc("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),s.mediaDevices.getUserMedia(u).then(m,h)},!(r.version>55&&"autoGainControl"in s.mediaDevices.getSupportedConstraints())){const u=function(h,g,y){g in h&&!(y in h)&&(h[y]=h[g],delete h[g])},m=s.mediaDevices.getUserMedia.bind(s.mediaDevices);if(s.mediaDevices.getUserMedia=function(h){return typeof h=="object"&&typeof h.audio=="object"&&(h=JSON.parse(JSON.stringify(h)),u(h.audio,"autoGainControl","mozAutoGainControl"),u(h.audio,"noiseSuppression","mozNoiseSuppression")),m(h)},l&&l.prototype.getSettings){const h=l.prototype.getSettings;l.prototype.getSettings=function(){const g=h.apply(this,arguments);return u(g,"mozAutoGainControl","autoGainControl"),u(g,"mozNoiseSuppression","noiseSuppression"),g}}if(l&&l.prototype.applyConstraints){const h=l.prototype.applyConstraints;l.prototype.applyConstraints=function(g){return this.kind==="audio"&&typeof g=="object"&&(g=JSON.parse(JSON.stringify(g)),u(g,"autoGainControl","mozAutoGainControl"),u(g,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[g])}}}}function ey(c,r){c.navigator.mediaDevices&&"getDisplayMedia"in c.navigator.mediaDevices||c.navigator.mediaDevices&&(c.navigator.mediaDevices.getDisplayMedia=function(l){if(!(l&&l.video)){const u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return l.video===!0?l.video={mediaSource:r}:l.video.mediaSource=r,c.navigator.mediaDevices.getUserMedia(l)})}function Bp(c){typeof c=="object"&&c.RTCTrackEvent&&"receiver"in c.RTCTrackEvent.prototype&&!("transceiver"in c.RTCTrackEvent.prototype)&&Object.defineProperty(c.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Rc(c,r){if(typeof c!="object"||!(c.RTCPeerConnection||c.mozRTCPeerConnection))return;!c.RTCPeerConnection&&c.mozRTCPeerConnection&&(c.RTCPeerConnection=c.mozRTCPeerConnection),r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(u){const m=c.RTCPeerConnection.prototype[u],h={[u](){return arguments[0]=new(u==="addIceCandidate"?c.RTCIceCandidate:c.RTCSessionDescription)(arguments[0]),m.apply(this,arguments)}};c.RTCPeerConnection.prototype[u]=h[u]});const s={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},l=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){const[m,h,g]=arguments;return l.apply(this,[m||null]).then(y=>{if(r.version<53&&!h)try{y.forEach(b=>{b.type=s[b.type]||b.type})}catch(b){if(b.name!=="TypeError")throw b;y.forEach((v,C)=>{y.set(C,Object.assign({},v,{type:s[v.type]||v.type}))})}return y}).then(h,g)}}function Hp(c){if(!(typeof c=="object"&&c.RTCPeerConnection&&c.RTCRtpSender)||c.RTCRtpSender&&"getStats"in c.RTCRtpSender.prototype)return;const r=c.RTCPeerConnection.prototype.getSenders;r&&(c.RTCPeerConnection.prototype.getSenders=function(){const u=r.apply(this,[]);return u.forEach(m=>m._pc=this),u});const s=c.RTCPeerConnection.prototype.addTrack;s&&(c.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),c.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function wp(c){if(!(typeof c=="object"&&c.RTCPeerConnection&&c.RTCRtpSender)||c.RTCRtpSender&&"getStats"in c.RTCRtpReceiver.prototype)return;const r=c.RTCPeerConnection.prototype.getReceivers;r&&(c.RTCPeerConnection.prototype.getReceivers=function(){const l=r.apply(this,[]);return l.forEach(u=>u._pc=this),l}),mn(c,"track",s=>(s.receiver._pc=s.srcElement,s)),c.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Lp(c){!c.RTCPeerConnection||"removeStream"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.removeStream=function(s){Hc("removeStream","removeTrack"),this.getSenders().forEach(l=>{l.track&&s.getTracks().includes(l.track)&&this.removeTrack(l)})})}function qp(c){c.DataChannel&&!c.RTCDataChannel&&(c.RTCDataChannel=c.DataChannel)}function Gp(c){if(!(typeof c=="object"&&c.RTCPeerConnection))return;const r=c.RTCPeerConnection.prototype.addTransceiver;r&&(c.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let l=arguments[1]&&arguments[1].sendEncodings;l===void 0&&(l=[]),l=[...l];const u=l.length>0;u&&l.forEach(h=>{if("rid"in h&&!/^[a-z0-9]{0,16}$/i.test(h.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in h&&!(parseFloat(h.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in h&&!(parseFloat(h.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const m=r.apply(this,arguments);if(u){const{sender:h}=m,g=h.getParameters();(!("encodings"in g)||g.encodings.length===1&&Object.keys(g.encodings[0]).length===0)&&(g.encodings=l,h.sendEncodings=l,this.setParametersPromises.push(h.setParameters(g).then(()=>{delete h.sendEncodings}).catch(()=>{delete h.sendEncodings})))}return m})}function Yp(c){if(!(typeof c=="object"&&c.RTCRtpSender))return;const r=c.RTCRtpSender.prototype.getParameters;r&&(c.RTCRtpSender.prototype.getParameters=function(){const l=r.apply(this,arguments);return"encodings"in l||(l.encodings=[].concat(this.sendEncodings||[{}])),l})}function Xp(c){if(!(typeof c=="object"&&c.RTCPeerConnection))return;const r=c.RTCPeerConnection.prototype.createOffer;c.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function Vp(c){if(!(typeof c=="object"&&c.RTCPeerConnection))return;const r=c.RTCPeerConnection.prototype.createAnswer;c.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}const tp=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Gp,shimCreateAnswer:Vp,shimCreateOffer:Xp,shimGetDisplayMedia:ey,shimGetParameters:Yp,shimGetUserMedia:zp,shimOnTrack:Bp,shimPeerConnection:Rc,shimRTCDataChannel:qp,shimReceiverGetStats:wp,shimRemoveStream:Lp,shimSenderGetStats:Hp},Symbol.toStringTag,{value:"Module"}));function Qp(c){if(!(typeof c!="object"||!c.RTCPeerConnection)){if("getLocalStreams"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in c.RTCPeerConnection.prototype)){const r=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addStream=function(l){this._localStreams||(this._localStreams=[]),this._localStreams.includes(l)||this._localStreams.push(l),l.getAudioTracks().forEach(u=>r.call(this,u,l)),l.getVideoTracks().forEach(u=>r.call(this,u,l))},c.RTCPeerConnection.prototype.addTrack=function(l,...u){return u&&u.forEach(m=>{this._localStreams?this._localStreams.includes(m)||this._localStreams.push(m):this._localStreams=[m]}),r.apply(this,arguments)}}"removeStream"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.removeStream=function(s){this._localStreams||(this._localStreams=[]);const l=this._localStreams.indexOf(s);if(l===-1)return;this._localStreams.splice(l,1);const u=s.getTracks();this.getSenders().forEach(m=>{u.includes(m.track)&&this.removeTrack(m)})})}}function Kp(c){if(!(typeof c!="object"||!c.RTCPeerConnection)&&("getRemoteStreams"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in c.RTCPeerConnection.prototype))){Object.defineProperty(c.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(s){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=s),this.addEventListener("track",this._onaddstreampoly=l=>{l.streams.forEach(u=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(u))return;this._remoteStreams.push(u);const m=new Event("addstream");m.stream=u,this.dispatchEvent(m)})})}});const r=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){const l=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(m=>{if(l._remoteStreams||(l._remoteStreams=[]),l._remoteStreams.indexOf(m)>=0)return;l._remoteStreams.push(m);const h=new Event("addstream");h.stream=m,l.dispatchEvent(h)})}),r.apply(l,arguments)}}}function Zp(c){if(typeof c!="object"||!c.RTCPeerConnection)return;const r=c.RTCPeerConnection.prototype,s=r.createOffer,l=r.createAnswer,u=r.setLocalDescription,m=r.setRemoteDescription,h=r.addIceCandidate;r.createOffer=function(b,v){const C=arguments.length>=2?arguments[2]:arguments[0],R=s.apply(this,[C]);return v?(R.then(b,v),Promise.resolve()):R},r.createAnswer=function(b,v){const C=arguments.length>=2?arguments[2]:arguments[0],R=l.apply(this,[C]);return v?(R.then(b,v),Promise.resolve()):R};let g=function(y,b,v){const C=u.apply(this,[y]);return v?(C.then(b,v),Promise.resolve()):C};r.setLocalDescription=g,g=function(y,b,v){const C=m.apply(this,[y]);return v?(C.then(b,v),Promise.resolve()):C},r.setRemoteDescription=g,g=function(y,b,v){const C=h.apply(this,[y]);return v?(C.then(b,v),Promise.resolve()):C},r.addIceCandidate=g}function Jp(c){const r=c&&c.navigator;if(r.mediaDevices&&r.mediaDevices.getUserMedia){const s=r.mediaDevices,l=s.getUserMedia.bind(s);r.mediaDevices.getUserMedia=u=>l($p(u))}!r.getUserMedia&&r.mediaDevices&&r.mediaDevices.getUserMedia&&(r.getUserMedia=(function(l,u,m){r.mediaDevices.getUserMedia(l).then(u,m)}).bind(r))}function $p(c){return c&&c.video!==void 0?Object.assign({},c,{video:Rp(c.video)}):c}function Pp(c){if(!c.RTCPeerConnection)return;const r=c.RTCPeerConnection;c.RTCPeerConnection=function(l,u){if(l&&l.iceServers){const m=[];for(let h=0;h<l.iceServers.length;h++){let g=l.iceServers[h];g.urls===void 0&&g.url?(Hc("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,delete g.url,m.push(g)):m.push(l.iceServers[h])}l.iceServers=m}return new r(l,u)},c.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(c.RTCPeerConnection,"generateCertificate",{get(){return r.generateCertificate}})}function Fp(c){typeof c=="object"&&c.RTCTrackEvent&&"receiver"in c.RTCTrackEvent.prototype&&!("transceiver"in c.RTCTrackEvent.prototype)&&Object.defineProperty(c.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ip(c){const r=c.RTCPeerConnection.prototype.createOffer;c.RTCPeerConnection.prototype.createOffer=function(l){if(l){typeof l.offerToReceiveAudio<"u"&&(l.offerToReceiveAudio=!!l.offerToReceiveAudio);const u=this.getTransceivers().find(h=>h.receiver.track.kind==="audio");l.offerToReceiveAudio===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):l.offerToReceiveAudio===!0&&!u&&this.addTransceiver("audio",{direction:"recvonly"}),typeof l.offerToReceiveVideo<"u"&&(l.offerToReceiveVideo=!!l.offerToReceiveVideo);const m=this.getTransceivers().find(h=>h.receiver.track.kind==="video");l.offerToReceiveVideo===!1&&m?m.direction==="sendrecv"?m.setDirection?m.setDirection("sendonly"):m.direction="sendonly":m.direction==="recvonly"&&(m.setDirection?m.setDirection("inactive"):m.direction="inactive"):l.offerToReceiveVideo===!0&&!m&&this.addTransceiver("video",{direction:"recvonly"})}return r.apply(this,arguments)}}function Wp(c){typeof c!="object"||c.AudioContext||(c.AudioContext=c.webkitAudioContext)}const ap=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Wp,shimCallbacksAPI:Zp,shimConstraints:$p,shimCreateOfferLegacy:Ip,shimGetUserMedia:Jp,shimLocalStreamsAPI:Qp,shimRTCIceServerUrls:Pp,shimRemoteStreamsAPI:Kp,shimTrackEventTransceiver:Fp},Symbol.toStringTag,{value:"Module"}));var gc={exports:{}},np;function ty(){return np||(np=1,(function(c){const r={};r.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},r.localCName=r.generateIdentifier(),r.splitLines=function(s){return s.trim().split(`
`).map(l=>l.trim())},r.splitSections=function(s){return s.split(`
m=`).map((u,m)=>(m>0?"m="+u:u).trim()+`\r
`)},r.getDescription=function(s){const l=r.splitSections(s);return l&&l[0]},r.getMediaSections=function(s){const l=r.splitSections(s);return l.shift(),l},r.matchPrefix=function(s,l){return r.splitLines(s).filter(u=>u.indexOf(l)===0)},r.parseCandidate=function(s){let l;s.indexOf("a=candidate:")===0?l=s.substring(12).split(" "):l=s.substring(10).split(" ");const u={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let m=8;m<l.length;m+=2)switch(l[m]){case"raddr":u.relatedAddress=l[m+1];break;case"rport":u.relatedPort=parseInt(l[m+1],10);break;case"tcptype":u.tcpType=l[m+1];break;case"ufrag":u.ufrag=l[m+1],u.usernameFragment=l[m+1];break;default:u[l[m]]===void 0&&(u[l[m]]=l[m+1]);break}return u},r.writeCandidate=function(s){const l=[];l.push(s.foundation);const u=s.component;u==="rtp"?l.push(1):u==="rtcp"?l.push(2):l.push(u),l.push(s.protocol.toUpperCase()),l.push(s.priority),l.push(s.address||s.ip),l.push(s.port);const m=s.type;return l.push("typ"),l.push(m),m!=="host"&&s.relatedAddress&&s.relatedPort&&(l.push("raddr"),l.push(s.relatedAddress),l.push("rport"),l.push(s.relatedPort)),s.tcpType&&s.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(s.tcpType)),(s.usernameFragment||s.ufrag)&&(l.push("ufrag"),l.push(s.usernameFragment||s.ufrag)),"candidate:"+l.join(" ")},r.parseIceOptions=function(s){return s.substring(14).split(" ")},r.parseRtpMap=function(s){let l=s.substring(9).split(" ");const u={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),u.name=l[0],u.clockRate=parseInt(l[1],10),u.channels=l.length===3?parseInt(l[2],10):1,u.numChannels=u.channels,u},r.writeRtpMap=function(s){let l=s.payloadType;s.preferredPayloadType!==void 0&&(l=s.preferredPayloadType);const u=s.channels||s.numChannels||1;return"a=rtpmap:"+l+" "+s.name+"/"+s.clockRate+(u!==1?"/"+u:"")+`\r
`},r.parseExtmap=function(s){const l=s.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},r.writeExtmap=function(s){return"a=extmap:"+(s.id||s.preferredId)+(s.direction&&s.direction!=="sendrecv"?"/"+s.direction:"")+" "+s.uri+(s.attributes?" "+s.attributes:"")+`\r
`},r.parseFmtp=function(s){const l={};let u;const m=s.substring(s.indexOf(" ")+1).split(";");for(let h=0;h<m.length;h++)u=m[h].trim().split("="),l[u[0].trim()]=u[1];return l},r.writeFmtp=function(s){let l="",u=s.payloadType;if(s.preferredPayloadType!==void 0&&(u=s.preferredPayloadType),s.parameters&&Object.keys(s.parameters).length){const m=[];Object.keys(s.parameters).forEach(h=>{s.parameters[h]!==void 0?m.push(h+"="+s.parameters[h]):m.push(h)}),l+="a=fmtp:"+u+" "+m.join(";")+`\r
`}return l},r.parseRtcpFb=function(s){const l=s.substring(s.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},r.writeRtcpFb=function(s){let l="",u=s.payloadType;return s.preferredPayloadType!==void 0&&(u=s.preferredPayloadType),s.rtcpFeedback&&s.rtcpFeedback.length&&s.rtcpFeedback.forEach(m=>{l+="a=rtcp-fb:"+u+" "+m.type+(m.parameter&&m.parameter.length?" "+m.parameter:"")+`\r
`}),l},r.parseSsrcMedia=function(s){const l=s.indexOf(" "),u={ssrc:parseInt(s.substring(7,l),10)},m=s.indexOf(":",l);return m>-1?(u.attribute=s.substring(l+1,m),u.value=s.substring(m+1)):u.attribute=s.substring(l+1),u},r.parseSsrcGroup=function(s){const l=s.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(u=>parseInt(u,10))}},r.getMid=function(s){const l=r.matchPrefix(s,"a=mid:")[0];if(l)return l.substring(6)},r.parseFingerprint=function(s){const l=s.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},r.getDtlsParameters=function(s,l){return{role:"auto",fingerprints:r.matchPrefix(s+l,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(s,l){let u="a=setup:"+l+`\r
`;return s.fingerprints.forEach(m=>{u+="a=fingerprint:"+m.algorithm+" "+m.value+`\r
`}),u},r.parseCryptoLine=function(s){const l=s.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},r.writeCryptoLine=function(s){return"a=crypto:"+s.tag+" "+s.cryptoSuite+" "+(typeof s.keyParams=="object"?r.writeCryptoKeyParams(s.keyParams):s.keyParams)+(s.sessionParams?" "+s.sessionParams.join(" "):"")+`\r
`},r.parseCryptoKeyParams=function(s){if(s.indexOf("inline:")!==0)return null;const l=s.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(s){return s.keyMethod+":"+s.keySalt+(s.lifeTime?"|"+s.lifeTime:"")+(s.mkiValue&&s.mkiLength?"|"+s.mkiValue+":"+s.mkiLength:"")},r.getCryptoParameters=function(s,l){return r.matchPrefix(s+l,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(s,l){const u=r.matchPrefix(s+l,"a=ice-ufrag:")[0],m=r.matchPrefix(s+l,"a=ice-pwd:")[0];return u&&m?{usernameFragment:u.substring(12),password:m.substring(10)}:null},r.writeIceParameters=function(s){let l="a=ice-ufrag:"+s.usernameFragment+`\r
a=ice-pwd:`+s.password+`\r
`;return s.iceLite&&(l+=`a=ice-lite\r
`),l},r.parseRtpParameters=function(s){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},m=r.splitLines(s)[0].split(" ");l.profile=m[2];for(let g=3;g<m.length;g++){const y=m[g],b=r.matchPrefix(s,"a=rtpmap:"+y+" ")[0];if(b){const v=r.parseRtpMap(b),C=r.matchPrefix(s,"a=fmtp:"+y+" ");switch(v.parameters=C.length?r.parseFmtp(C[0]):{},v.rtcpFeedback=r.matchPrefix(s,"a=rtcp-fb:"+y+" ").map(r.parseRtcpFb),l.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(v.name.toUpperCase());break}}}r.matchPrefix(s,"a=extmap:").forEach(g=>{l.headerExtensions.push(r.parseExtmap(g))});const h=r.matchPrefix(s,"a=rtcp-fb:* ").map(r.parseRtcpFb);return l.codecs.forEach(g=>{h.forEach(y=>{g.rtcpFeedback.find(v=>v.type===y.type&&v.parameter===y.parameter)||g.rtcpFeedback.push(y)})}),l},r.writeRtpDescription=function(s,l){let u="";u+="m="+s+" ",u+=l.codecs.length>0?"9":"0",u+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",u+=l.codecs.map(h=>h.preferredPayloadType!==void 0?h.preferredPayloadType:h.payloadType).join(" ")+`\r
`,u+=`c=IN IP4 0.0.0.0\r
`,u+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(h=>{u+=r.writeRtpMap(h),u+=r.writeFmtp(h),u+=r.writeRtcpFb(h)});let m=0;return l.codecs.forEach(h=>{h.maxptime>m&&(m=h.maxptime)}),m>0&&(u+="a=maxptime:"+m+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(h=>{u+=r.writeExtmap(h)}),u},r.parseRtpEncodingParameters=function(s){const l=[],u=r.parseRtpParameters(s),m=u.fecMechanisms.indexOf("RED")!==-1,h=u.fecMechanisms.indexOf("ULPFEC")!==-1,g=r.matchPrefix(s,"a=ssrc:").map(R=>r.parseSsrcMedia(R)).filter(R=>R.attribute==="cname"),y=g.length>0&&g[0].ssrc;let b;const v=r.matchPrefix(s,"a=ssrc-group:FID").map(R=>R.substring(17).split(" ").map(Y=>parseInt(Y,10)));v.length>0&&v[0].length>1&&v[0][0]===y&&(b=v[0][1]),u.codecs.forEach(R=>{if(R.name.toUpperCase()==="RTX"&&R.parameters.apt){let w={ssrc:y,codecPayloadType:parseInt(R.parameters.apt,10)};y&&b&&(w.rtx={ssrc:b}),l.push(w),m&&(w=JSON.parse(JSON.stringify(w)),w.fec={ssrc:y,mechanism:h?"red+ulpfec":"red"},l.push(w))}}),l.length===0&&y&&l.push({ssrc:y});let C=r.matchPrefix(s,"b=");return C.length&&(C[0].indexOf("b=TIAS:")===0?C=parseInt(C[0].substring(7),10):C[0].indexOf("b=AS:")===0?C=parseInt(C[0].substring(5),10)*1e3*.95-2e3*8:C=void 0,l.forEach(R=>{R.maxBitrate=C})),l},r.parseRtcpParameters=function(s){const l={},u=r.matchPrefix(s,"a=ssrc:").map(g=>r.parseSsrcMedia(g)).filter(g=>g.attribute==="cname")[0];u&&(l.cname=u.value,l.ssrc=u.ssrc);const m=r.matchPrefix(s,"a=rtcp-rsize");l.reducedSize=m.length>0,l.compound=m.length===0;const h=r.matchPrefix(s,"a=rtcp-mux");return l.mux=h.length>0,l},r.writeRtcpParameters=function(s){let l="";return s.reducedSize&&(l+=`a=rtcp-rsize\r
`),s.mux&&(l+=`a=rtcp-mux\r
`),s.ssrc!==void 0&&s.cname&&(l+="a=ssrc:"+s.ssrc+" cname:"+s.cname+`\r
`),l},r.parseMsid=function(s){let l;const u=r.matchPrefix(s,"a=msid:");if(u.length===1)return l=u[0].substring(7).split(" "),{stream:l[0],track:l[1]};const m=r.matchPrefix(s,"a=ssrc:").map(h=>r.parseSsrcMedia(h)).filter(h=>h.attribute==="msid");if(m.length>0)return l=m[0].value.split(" "),{stream:l[0],track:l[1]}},r.parseSctpDescription=function(s){const l=r.parseMLine(s),u=r.matchPrefix(s,"a=max-message-size:");let m;u.length>0&&(m=parseInt(u[0].substring(19),10)),isNaN(m)&&(m=65536);const h=r.matchPrefix(s,"a=sctp-port:");if(h.length>0)return{port:parseInt(h[0].substring(12),10),protocol:l.fmt,maxMessageSize:m};const g=r.matchPrefix(s,"a=sctpmap:");if(g.length>0){const y=g[0].substring(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:m}}},r.writeSctpDescription=function(s,l){let u=[];return s.protocol!=="DTLS/SCTP"?u=["m="+s.kind+" 9 "+s.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:u=["m="+s.kind+" 9 "+s.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&u.push("a=max-message-size:"+l.maxMessageSize+`\r
`),u.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,22)},r.writeSessionBoilerplate=function(s,l,u){let m;const h=l!==void 0?l:2;return s?m=s:m=r.generateSessionId(),`v=0\r
o=`+(u||"thisisadapterortc")+" "+m+" "+h+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},r.getDirection=function(s,l){const u=r.splitLines(s);for(let m=0;m<u.length;m++)switch(u[m]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return u[m].substring(2)}return l?r.getDirection(l):"sendrecv"},r.getKind=function(s){return r.splitLines(s)[0].split(" ")[0].substring(2)},r.isRejected=function(s){return s.split(" ",2)[1]==="0"},r.parseMLine=function(s){const u=r.splitLines(s)[0].substring(2).split(" ");return{kind:u[0],port:parseInt(u[1],10),protocol:u[2],fmt:u.slice(3).join(" ")}},r.parseOLine=function(s){const u=r.matchPrefix(s,"o=")[0].substring(2).split(" ");return{username:u[0],sessionId:u[1],sessionVersion:parseInt(u[2],10),netType:u[3],addressType:u[4],address:u[5]}},r.isValidSDP=function(s){if(typeof s!="string"||s.length===0)return!1;const l=r.splitLines(s);for(let u=0;u<l.length;u++)if(l[u].length<2||l[u].charAt(1)!=="=")return!1;return!0},c.exports=r})(gc)),gc.exports}var eh=ty();const ir=Cg(eh),ay=Tg({__proto__:null,default:ir},[eh]);function Ol(c){if(!c.RTCIceCandidate||c.RTCIceCandidate&&"foundation"in c.RTCIceCandidate.prototype)return;const r=c.RTCIceCandidate;c.RTCIceCandidate=function(l){if(typeof l=="object"&&l.candidate&&l.candidate.indexOf("a=")===0&&(l=JSON.parse(JSON.stringify(l)),l.candidate=l.candidate.substring(2)),l.candidate&&l.candidate.length){const u=new r(l),m=ir.parseCandidate(l.candidate);for(const h in m)h in u||Object.defineProperty(u,h,{value:m[h]});return u.toJSON=function(){return{candidate:u.candidate,sdpMid:u.sdpMid,sdpMLineIndex:u.sdpMLineIndex,usernameFragment:u.usernameFragment}},u}return new r(l)},c.RTCIceCandidate.prototype=r.prototype,mn(c,"icecandidate",s=>(s.candidate&&Object.defineProperty(s,"candidate",{value:new c.RTCIceCandidate(s.candidate),writable:"false"}),s))}function Ec(c){!c.RTCIceCandidate||c.RTCIceCandidate&&"relayProtocol"in c.RTCIceCandidate.prototype||mn(c,"icecandidate",r=>{if(r.candidate){const s=ir.parseCandidate(r.candidate.candidate);s.type==="relay"&&(r.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[s.priority>>24])}return r})}function Al(c,r){if(!c.RTCPeerConnection)return;"sctp"in c.RTCPeerConnection.prototype||Object.defineProperty(c.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const s=function(g){if(!g||!g.sdp)return!1;const y=ir.splitSections(g.sdp);return y.shift(),y.some(b=>{const v=ir.parseMLine(b);return v&&v.kind==="application"&&v.protocol.indexOf("SCTP")!==-1})},l=function(g){const y=g.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(y===null||y.length<2)return-1;const b=parseInt(y[1],10);return b!==b?-1:b},u=function(g){let y=65536;return r.browser==="firefox"&&(r.version<57?g===-1?y=16384:y=2147483637:r.version<60?y=r.version===57?65535:65536:y=2147483637),y},m=function(g,y){let b=65536;r.browser==="firefox"&&r.version===57&&(b=65535);const v=ir.matchPrefix(g.sdp,"a=max-message-size:");return v.length>0?b=parseInt(v[0].substring(19),10):r.browser==="firefox"&&y!==-1&&(b=2147483637),b},h=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,r.browser==="chrome"&&r.version>=76){const{sdpSemantics:y}=this.getConfiguration();y==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(s(arguments[0])){const y=l(arguments[0]),b=u(y),v=m(arguments[0],y);let C;b===0&&v===0?C=Number.POSITIVE_INFINITY:b===0||v===0?C=Math.max(b,v):C=Math.min(b,v);const R={};Object.defineProperty(R,"maxMessageSize",{get(){return C}}),this._sctp=R}return h.apply(this,arguments)}}function Dl(c){if(!(c.RTCPeerConnection&&"createDataChannel"in c.RTCPeerConnection.prototype))return;function r(l,u){const m=l.send;l.send=function(){const g=arguments[0],y=g.length||g.size||g.byteLength;if(l.readyState==="open"&&u.sctp&&y>u.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+u.sctp.maxMessageSize+" bytes)");return m.apply(l,arguments)}}const s=c.RTCPeerConnection.prototype.createDataChannel;c.RTCPeerConnection.prototype.createDataChannel=function(){const u=s.apply(this,arguments);return r(u,this),u},mn(c,"datachannel",l=>(r(l.channel,l.target),l))}function Nc(c){if(!c.RTCPeerConnection||"connectionState"in c.RTCPeerConnection.prototype)return;const r=c.RTCPeerConnection.prototype;Object.defineProperty(r,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(r,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(s){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),s&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=s)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(s=>{const l=r[s];r[s]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=u=>{const m=u.target;if(m._lastConnectionState!==m.connectionState){m._lastConnectionState=m.connectionState;const h=new Event("connectionstatechange",u);m.dispatchEvent(h)}return u},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}function jc(c,r){if(!c.RTCPeerConnection||r.browser==="chrome"&&r.version>=71||r.browser==="safari"&&r._safariVersion>=13.1)return;const s=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(u){if(u&&u.sdp&&u.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const m=u.sdp.split(`
`).filter(h=>h.trim()!=="a=extmap-allow-mixed").join(`
`);c.RTCSessionDescription&&u instanceof c.RTCSessionDescription?arguments[0]=new c.RTCSessionDescription({type:u.type,sdp:m}):u.sdp=m}return s.apply(this,arguments)}}function zl(c,r){if(!(c.RTCPeerConnection&&c.RTCPeerConnection.prototype))return;const s=c.RTCPeerConnection.prototype.addIceCandidate;!s||s.length===0||(c.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(r.browser==="chrome"&&r.version<78||r.browser==="firefox"&&r.version<68||r.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():s.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Bl(c,r){if(!(c.RTCPeerConnection&&c.RTCPeerConnection.prototype))return;const s=c.RTCPeerConnection.prototype.setLocalDescription;!s||s.length===0||(c.RTCPeerConnection.prototype.setLocalDescription=function(){let u=arguments[0]||{};if(typeof u!="object"||u.type&&u.sdp)return s.apply(this,arguments);if(u={type:u.type,sdp:u.sdp},!u.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":u.type="offer";break;default:u.type="answer";break}return u.sdp||u.type!=="offer"&&u.type!=="answer"?s.apply(this,[u]):(u.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(h=>s.apply(this,[h]))})}const ny=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:jc,shimAddIceCandidateNullOrEmpty:zl,shimConnectionState:Nc,shimMaxMessageSize:Al,shimParameterlessSetLocalDescription:Bl,shimRTCIceCandidate:Ol,shimRTCIceCandidateRelayProtocol:Ec,shimSendThrowTypeError:Dl},Symbol.toStringTag,{value:"Module"}));function ry({window:c}={},r={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const s=kp,l=Wg(c),u={browserDetails:l,commonShim:ny,extractVersion:ri,disableLog:Fg,disableWarnings:Ig,sdp:ay};switch(l.browser){case"chrome":if(!ep||!kc||!r.shimChrome)return s("Chrome shim is not included in this adapter release."),u;if(l.version===null)return s("Chrome shim can not determine version, not shimming."),u;s("adapter.js shimming chrome."),u.browserShim=ep,zl(c,l),Bl(c),Ep(c,l),Np(c),kc(c,l),jp(c),Ap(c,l),Mp(c),Up(c),Dp(c,l),Ol(c),Ec(c),Nc(c),Al(c,l),Dl(c),jc(c,l);break;case"firefox":if(!tp||!Rc||!r.shimFirefox)return s("Firefox shim is not included in this adapter release."),u;s("adapter.js shimming firefox."),u.browserShim=tp,zl(c,l),Bl(c),zp(c,l),Rc(c,l),Bp(c),Lp(c),Hp(c),wp(c),qp(c),Gp(c),Yp(c),Xp(c),Vp(c),Ol(c),Nc(c),Al(c,l),Dl(c);break;case"safari":if(!ap||!r.shimSafari)return s("Safari shim is not included in this adapter release."),u;s("adapter.js shimming safari."),u.browserShim=ap,zl(c,l),Bl(c),Pp(c),Ip(c),Zp(c),Qp(c),Kp(c),Fp(c),Jp(c),Wp(c),Ol(c),Ec(c),Al(c,l),Dl(c),jc(c,l);break;default:s("Unsupported browser!");break}return u}const rp=ry({window:typeof window>"u"?void 0:window});function pn(c,r,s,l){Object.defineProperty(c,r,{get:s,set:l,enumerable:!0,configurable:!0})}class th{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=r=>{const s=[],l=r.byteLength,u=Math.ceil(l/this.chunkedMTU);let m=0,h=0;for(;h<l;){const g=Math.min(l,h+this.chunkedMTU),y=r.slice(h,g),b={__peerData:this._dataCount,n:m,data:y,total:u};s.push(b),h=g,m++}return this._dataCount++,s}}}function iy(c){let r=0;for(const u of c)r+=u.byteLength;const s=new Uint8Array(r);let l=0;for(const u of c)s.set(u,l),l+=u.byteLength;return s}const yc=rp.default||rp,ai=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const c=this.getBrowser(),r=this.getVersion();return this.supportedBrowsers.includes(c)?c==="chrome"?r>=this.minChromeVersion:c==="firefox"?r>=this.minFirefoxVersion:c==="safari"?!this.isIOS&&r>=this.minSafariVersion:!1:!1}getBrowser(){return yc.browserDetails.browser}getVersion(){return yc.browserDetails.version||0}isUnifiedPlanSupported(){const c=this.getBrowser(),r=yc.browserDetails.version||0;if(c==="chrome"&&r<this.minChromeVersion)return!1;if(c==="firefox"&&r>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let s,l=!1;try{s=new RTCPeerConnection,s.addTransceiver("audio"),l=!0}catch{}finally{s&&s.close()}return l}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},ly=c=>!c||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(c),ah=()=>Math.random().toString(36).slice(2),ip={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class sy extends th{noop(){}blobToArrayBuffer(r,s){const l=new FileReader;return l.onload=function(u){u.target&&s(u.target.result)},l.readAsArrayBuffer(r),l}binaryStringToArrayBuffer(r){const s=new Uint8Array(r.length);for(let l=0;l<r.length;l++)s[l]=r.charCodeAt(l)&255;return s.buffer}isSecure(){return location.protocol==="https:"}constructor(...r){super(...r),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=ip,this.browser=ai.getBrowser(),this.browserVersion=ai.getVersion(),this.pack=Tp,this.unpack=Sp,this.supports=(function(){const s={browser:ai.isBrowserSupported(),webRTC:ai.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!s.webRTC)return s;let l;try{l=new RTCPeerConnection(ip),s.audioVideo=!0;let u;try{u=l.createDataChannel("_PEERJSTEST",{ordered:!0}),s.data=!0,s.reliable=!!u.ordered;try{u.binaryType="blob",s.binaryBlob=!ai.isIOS}catch{}}catch{}finally{u&&u.close()}}catch{}finally{l&&l.close()}return s})(),this.validateId=ly,this.randomToken=ah}}const Ct=new sy,oy="PeerJS: ";class cy{get logLevel(){return this._logLevel}set logLevel(r){this._logLevel=r}log(...r){this._logLevel>=3&&this._print(3,...r)}warn(...r){this._logLevel>=2&&this._print(2,...r)}error(...r){this._logLevel>=1&&this._print(1,...r)}setLogFunction(r){this._print=r}_print(r,...s){const l=[oy,...s];for(const u in l)l[u]instanceof Error&&(l[u]="("+l[u].name+") "+l[u].message);r>=3?console.log(...l):r>=2?console.warn("WARNING",...l):r>=1&&console.error("ERROR",...l)}constructor(){this._logLevel=0}}var P=new cy,wc={},uy=Object.prototype.hasOwnProperty,ht="~";function ci(){}Object.create&&(ci.prototype=Object.create(null),new ci().__proto__||(ht=!1));function fy(c,r,s){this.fn=c,this.context=r,this.once=s||!1}function nh(c,r,s,l,u){if(typeof s!="function")throw new TypeError("The listener must be a function");var m=new fy(s,l||c,u),h=ht?ht+r:r;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],m]:c._events[h].push(m):(c._events[h]=m,c._eventsCount++),c}function Hl(c,r){--c._eventsCount===0?c._events=new ci:delete c._events[r]}function ut(){this._events=new ci,this._eventsCount=0}ut.prototype.eventNames=function(){var r=[],s,l;if(this._eventsCount===0)return r;for(l in s=this._events)uy.call(s,l)&&r.push(ht?l.slice(1):l);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(s)):r};ut.prototype.listeners=function(r){var s=ht?ht+r:r,l=this._events[s];if(!l)return[];if(l.fn)return[l.fn];for(var u=0,m=l.length,h=new Array(m);u<m;u++)h[u]=l[u].fn;return h};ut.prototype.listenerCount=function(r){var s=ht?ht+r:r,l=this._events[s];return l?l.fn?1:l.length:0};ut.prototype.emit=function(r,s,l,u,m,h){var g=ht?ht+r:r;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,v,C;if(y.fn){switch(y.once&&this.removeListener(r,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,s),!0;case 3:return y.fn.call(y.context,s,l),!0;case 4:return y.fn.call(y.context,s,l,u),!0;case 5:return y.fn.call(y.context,s,l,u,m),!0;case 6:return y.fn.call(y.context,s,l,u,m,h),!0}for(C=1,v=new Array(b-1);C<b;C++)v[C-1]=arguments[C];y.fn.apply(y.context,v)}else{var R=y.length,w;for(C=0;C<R;C++)switch(y[C].once&&this.removeListener(r,y[C].fn,void 0,!0),b){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,s);break;case 3:y[C].fn.call(y[C].context,s,l);break;case 4:y[C].fn.call(y[C].context,s,l,u);break;default:if(!v)for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y[C].fn.apply(y[C].context,v)}}return!0};ut.prototype.on=function(r,s,l){return nh(this,r,s,l,!1)};ut.prototype.once=function(r,s,l){return nh(this,r,s,l,!0)};ut.prototype.removeListener=function(r,s,l,u){var m=ht?ht+r:r;if(!this._events[m])return this;if(!s)return Hl(this,m),this;var h=this._events[m];if(h.fn)h.fn===s&&(!u||h.once)&&(!l||h.context===l)&&Hl(this,m);else{for(var g=0,y=[],b=h.length;g<b;g++)(h[g].fn!==s||u&&!h[g].once||l&&h[g].context!==l)&&y.push(h[g]);y.length?this._events[m]=y.length===1?y[0]:y:Hl(this,m)}return this};ut.prototype.removeAllListeners=function(r){var s;return r?(s=ht?ht+r:r,this._events[s]&&Hl(this,s)):(this._events=new ci,this._eventsCount=0),this};ut.prototype.off=ut.prototype.removeListener;ut.prototype.addListener=ut.prototype.on;ut.prefixed=ht;ut.EventEmitter=ut;wc=ut;var hn={};pn(hn,"ConnectionType",()=>Ka);pn(hn,"PeerErrorType",()=>We);pn(hn,"BaseConnectionErrorType",()=>Mc);pn(hn,"DataConnectionErrorType",()=>Lc);pn(hn,"SerializationType",()=>Yl);pn(hn,"SocketEventType",()=>Qa);pn(hn,"ServerMessageType",()=>ct);var Ka=(function(c){return c.Data="data",c.Media="media",c})({}),We=(function(c){return c.BrowserIncompatible="browser-incompatible",c.Disconnected="disconnected",c.InvalidID="invalid-id",c.InvalidKey="invalid-key",c.Network="network",c.PeerUnavailable="peer-unavailable",c.SslUnavailable="ssl-unavailable",c.ServerError="server-error",c.SocketError="socket-error",c.SocketClosed="socket-closed",c.UnavailableID="unavailable-id",c.WebRTC="webrtc",c})({}),Mc=(function(c){return c.NegotiationFailed="negotiation-failed",c.ConnectionClosed="connection-closed",c})({}),Lc=(function(c){return c.NotOpenYet="not-open-yet",c.MessageToBig="message-too-big",c})({}),Yl=(function(c){return c.Binary="binary",c.BinaryUTF8="binary-utf8",c.JSON="json",c.None="raw",c})({}),Qa=(function(c){return c.Message="message",c.Disconnected="disconnected",c.Error="error",c.Close="close",c})({}),ct=(function(c){return c.Heartbeat="HEARTBEAT",c.Candidate="CANDIDATE",c.Offer="OFFER",c.Answer="ANSWER",c.Open="OPEN",c.Error="ERROR",c.IdTaken="ID-TAKEN",c.InvalidKey="INVALID-KEY",c.Leave="LEAVE",c.Expire="EXPIRE",c})({});const rh="1.5.5";class dy extends wc.EventEmitter{constructor(r,s,l,u,m,h=5e3){super(),this.pingInterval=h,this._disconnected=!0,this._messagesQueue=[];const g=r?"wss://":"ws://";this._baseUrl=g+s+":"+l+u+"peerjs?key="+m}start(r,s){this._id=r;const l=`${this._baseUrl}&id=${r}&token=${s}`;this._socket||!this._disconnected||(this._socket=new WebSocket(l+"&version="+rh),this._disconnected=!1,this._socket.onmessage=u=>{let m;try{m=JSON.parse(u.data),P.log("Server message received:",m)}catch{P.log("Invalid server message",u.data);return}this.emit(Qa.Message,m)},this._socket.onclose=u=>{this._disconnected||(P.log("Socket closed.",u),this._cleanup(),this._disconnected=!0,this.emit(Qa.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),P.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){P.log("Cannot send heartbeat, because socket closed");return}const r=JSON.stringify({type:ct.Heartbeat});this._socket.send(r),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const r=[...this._messagesQueue];this._messagesQueue=[];for(const s of r)this.send(s)}send(r){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(r);return}if(!r.type){this.emit(Qa.Error,"Invalid message");return}if(!this._wsOpen())return;const s=JSON.stringify(r);this._socket.send(s)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class ih{constructor(r){this.connection=r}startConnection(r){const s=this._startPeerConnection();if(this.connection.peerConnection=s,this.connection.type===Ka.Media&&r._stream&&this._addTracksToConnection(r._stream,s),r.originator){const l=this.connection,u={ordered:!!r.reliable},m=s.createDataChannel(l.label,u);l._initializeDataChannel(m),this._makeOffer()}else this.handleSDP("OFFER",r.sdp)}_startPeerConnection(){P.log("Creating RTCPeerConnection.");const r=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(r),r}_setupListeners(r){const s=this.connection.peer,l=this.connection.connectionId,u=this.connection.type,m=this.connection.provider;P.log("Listening for ICE candidates."),r.onicecandidate=h=>{!h.candidate||!h.candidate.candidate||(P.log(`Received ICE candidates for ${s}:`,h.candidate),m.socket.send({type:ct.Candidate,payload:{candidate:h.candidate,type:u,connectionId:l},dst:s}))},r.oniceconnectionstatechange=()=>{switch(r.iceConnectionState){case"failed":P.log("iceConnectionState is failed, closing connections to "+s),this.connection.emitError(Mc.NegotiationFailed,"Negotiation of connection to "+s+" failed."),this.connection.close();break;case"closed":P.log("iceConnectionState is closed, closing connections to "+s),this.connection.emitError(Mc.ConnectionClosed,"Connection to "+s+" closed."),this.connection.close();break;case"disconnected":P.log("iceConnectionState changed to disconnected on the connection with "+s);break;case"completed":r.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",r.iceConnectionState)},P.log("Listening for data channel"),r.ondatachannel=h=>{P.log("Received data channel");const g=h.channel;m.getConnection(s,l)._initializeDataChannel(g)},P.log("Listening for remote stream"),r.ontrack=h=>{P.log("Received remote stream");const g=h.streams[0],y=m.getConnection(s,l);if(y.type===Ka.Media){const b=y;this._addStreamToMediaConnection(g,b)}}}cleanup(){P.log("Cleaning up PeerConnection to "+this.connection.peer);const r=this.connection.peerConnection;if(!r)return;this.connection.peerConnection=null,r.onicecandidate=r.oniceconnectionstatechange=r.ondatachannel=r.ontrack=()=>{};const s=r.signalingState!=="closed";let l=!1;const u=this.connection.dataChannel;u&&(l=!!u.readyState&&u.readyState!=="closed"),(s||l)&&r.close()}async _makeOffer(){const r=this.connection.peerConnection,s=this.connection.provider;try{const l=await r.createOffer(this.connection.options.constraints);P.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp);try{await r.setLocalDescription(l),P.log("Set localDescription:",l,`for:${this.connection.peer}`);let u={sdp:l,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Ka.Data){const m=this.connection;u={...u,label:m.label,reliable:m.reliable,serialization:m.serialization}}s.socket.send({type:ct.Offer,payload:u,dst:this.connection.peer})}catch(u){u!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(s.emitError(We.WebRTC,u),P.log("Failed to setLocalDescription, ",u))}}catch(l){s.emitError(We.WebRTC,l),P.log("Failed to createOffer, ",l)}}async _makeAnswer(){const r=this.connection.peerConnection,s=this.connection.provider;try{const l=await r.createAnswer();P.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp);try{await r.setLocalDescription(l),P.log("Set localDescription:",l,`for:${this.connection.peer}`),s.socket.send({type:ct.Answer,payload:{sdp:l,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(u){s.emitError(We.WebRTC,u),P.log("Failed to setLocalDescription, ",u)}}catch(l){s.emitError(We.WebRTC,l),P.log("Failed to create answer, ",l)}}async handleSDP(r,s){s=new RTCSessionDescription(s);const l=this.connection.peerConnection,u=this.connection.provider;P.log("Setting remote description",s);const m=this;try{await l.setRemoteDescription(s),P.log(`Set remoteDescription:${r} for:${this.connection.peer}`),r==="OFFER"&&await m._makeAnswer()}catch(h){u.emitError(We.WebRTC,h),P.log("Failed to setRemoteDescription, ",h)}}async handleCandidate(r){P.log("handleCandidate:",r);try{await this.connection.peerConnection.addIceCandidate(r),P.log(`Added ICE candidate for:${this.connection.peer}`)}catch(s){this.connection.provider.emitError(We.WebRTC,s),P.log("Failed to handleCandidate, ",s)}}_addTracksToConnection(r,s){if(P.log(`add tracks from stream ${r.id} to peer connection`),!s.addTrack)return P.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");r.getTracks().forEach(l=>{s.addTrack(l,r)})}_addStreamToMediaConnection(r,s){P.log(`add stream ${r.id} to media connection ${s.connectionId}`),s.addStream(r)}}class lh extends wc.EventEmitter{emitError(r,s){P.error("Error:",s),this.emit("error",new my(`${r}`,s))}}class my extends Error{constructor(r,s){typeof s=="string"?super(s):(super(),Object.assign(this,s)),this.type=r}}class sh extends lh{get open(){return this._open}constructor(r,s,l){super(),this.peer=r,this.provider=s,this.options=l,this._open=!1,this.metadata=l.metadata}}class Ll extends sh{static#e=this.ID_PREFIX="mc_";get type(){return Ka.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(r,s,l){super(r,s,l),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ll.ID_PREFIX+Ct.randomToken(),this._negotiator=new ih(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(r){this.dataChannel=r,this.dataChannel.onopen=()=>{P.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{P.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(r){P.log("Receiving stream",r),this._remoteStream=r,super.emit("stream",r)}handleMessage(r){const s=r.type,l=r.payload;switch(r.type){case ct.Answer:this._negotiator.handleSDP(s,l.sdp),this._open=!0;break;case ct.Candidate:this._negotiator.handleCandidate(l.candidate);break;default:P.warn(`Unrecognized message type:${s} from peer:${this.peer}`);break}}answer(r,s={}){if(this._localStream){P.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=r,s&&s.sdpTransform&&(this.options.sdpTransform=s.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:r});const l=this.provider._getMessages(this.connectionId);for(const u of l)this.handleMessage(u);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class py{constructor(r){this._options=r}_buildRequest(r){const s=this._options.secure?"https":"http",{host:l,port:u,path:m,key:h}=this._options,g=new URL(`${s}://${l}:${u}${m}${h}/${r}`);return g.searchParams.set("ts",`${Date.now()}${Math.random()}`),g.searchParams.set("version",rh),fetch(g.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const r=await this._buildRequest("id");if(r.status!==200)throw new Error(`Error. Status:${r.status}`);return r.text()}catch(r){P.error("Error retrieving ID",r);let s="";throw this._options.path==="/"&&this._options.host!==Ct.CLOUD_HOST&&(s=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+s)}}async listAllPeers(){try{const r=await this._buildRequest("peers");if(r.status!==200){if(r.status===401){let s="";throw this._options.host===Ct.CLOUD_HOST?s="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":s="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+s)}throw new Error(`Error. Status:${r.status}`)}return r.json()}catch(r){throw P.error("Error retrieving list peers",r),new Error("Could not get list peers from the server."+r)}}}class ql extends sh{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Ka.Data}constructor(r,s,l){super(r,s,l),this.connectionId=this.options.connectionId||ql.ID_PREFIX+ah(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new ih(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(r){this.dataChannel=r,this.dataChannel.onopen=()=>{P.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=s=>{P.log(`DC#${this.connectionId} dc onmessage:`,s.data)},this.dataChannel.onclose=()=>{P.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(r){if(r?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(r,s=!1){if(!this.open){this.emitError(Lc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(r,s)}async handleMessage(r){const s=r.payload;switch(r.type){case ct.Answer:await this._negotiator.handleSDP(r.type,s.sdp);break;case ct.Candidate:await this._negotiator.handleCandidate(s.candidate);break;default:P.warn("Unrecognized message type:",r.type,"from peer:",this.peer);break}}}class qc extends ql{get bufferSize(){return this._bufferSize}_initializeDataChannel(r){super._initializeDataChannel(r),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",s=>this._handleDataMessage(s))}_bufferedSend(r){(this._buffering||!this._trySend(r))&&(this._buffer.push(r),this._bufferSize=this._buffer.length)}_trySend(r){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ql.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(r)}catch(s){return P.error(`DC#:${this.connectionId} Error when sending:`,s),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const r=this._buffer[0];this._trySend(r)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(r){if(r?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...r){super(...r),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class bc extends qc{close(r){super.close(r),this._chunkedData={}}constructor(r,s,l){super(r,s,l),this.chunker=new th,this.serialization=Yl.Binary,this._chunkedData={}}_handleDataMessage({data:r}){const s=Sp(r),l=s.__peerData;if(l){if(l.type==="close"){this.close();return}this._handleChunk(s);return}this.emit("data",s)}_handleChunk(r){const s=r.__peerData,l=this._chunkedData[s]||{data:[],count:0,total:r.total};if(l.data[r.n]=new Uint8Array(r.data),l.count++,this._chunkedData[s]=l,l.total===l.count){delete this._chunkedData[s];const u=iy(l.data);this._handleDataMessage({data:u})}}_send(r,s){const l=Tp(r);if(l instanceof Promise)return this._send_blob(l);if(!s&&l.byteLength>this.chunker.chunkedMTU){this._sendChunks(l);return}this._bufferedSend(l)}async _send_blob(r){const s=await r;if(s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}_sendChunks(r){const s=this.chunker.chunk(r);P.log(`DC#${this.connectionId} Try to send ${s.length} chunks...`);for(const l of s)this.send(l,!0)}}class hy extends qc{_handleDataMessage({data:r}){super.emit("data",r)}_send(r,s){this._bufferedSend(r)}constructor(...r){super(...r),this.serialization=Yl.None}}class gy extends qc{_handleDataMessage({data:r}){const s=this.parse(this.decoder.decode(r)),l=s.__peerData;if(l&&l.type==="close"){this.close();return}this.emit("data",s)}_send(r,s){const l=this.encoder.encode(this.stringify(r));if(l.byteLength>=Ct.chunkedMTU){this.emitError(Lc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(l)}constructor(...r){super(...r),this.serialization=Yl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Gc extends lh{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const r=Object.create(null);for(const[s,l]of this._connections)r[s]=l;return r}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(r,s){super(),this._serializers={raw:hy,json:gy,binary:bc,"binary-utf8":bc,default:bc},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let l;if(r&&r.constructor==Object?s=r:r&&(l=r.toString()),s={debug:0,host:Ct.CLOUD_HOST,port:Ct.CLOUD_PORT,path:"/",key:Gc.DEFAULT_KEY,token:Ct.randomToken(),config:Ct.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...s},this._options=s,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ct.CLOUD_HOST?this._options.secure=Ct.isSecure():this._options.host==Ct.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&P.setLogFunction(this._options.logFunction),P.logLevel=this._options.debug||0,this._api=new py(s),this._socket=this._createServerConnection(),!Ct.supports.audioVideo&&!Ct.supports.data){this._delayedAbort(We.BrowserIncompatible,"The current browser does not support WebRTC");return}if(l&&!Ct.validateId(l)){this._delayedAbort(We.InvalidID,`ID "${l}" is invalid`);return}l?this._initialize(l):this._api.retrieveId().then(u=>this._initialize(u)).catch(u=>this._abort(We.ServerError,u))}_createServerConnection(){const r=new dy(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return r.on(Qa.Message,s=>{this._handleMessage(s)}),r.on(Qa.Error,s=>{this._abort(We.SocketError,s)}),r.on(Qa.Disconnected,()=>{this.disconnected||(this.emitError(We.Network,"Lost connection to server."),this.disconnect())}),r.on(Qa.Close,()=>{this.disconnected||this._abort(We.SocketClosed,"Underlying socket is already closed.")}),r}_initialize(r){this._id=r,this.socket.start(r,this._options.token)}_handleMessage(r){const s=r.type,l=r.payload,u=r.src;switch(s){case ct.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case ct.Error:this._abort(We.ServerError,l.msg);break;case ct.IdTaken:this._abort(We.UnavailableID,`ID "${this.id}" is taken`);break;case ct.InvalidKey:this._abort(We.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case ct.Leave:P.log(`Received leave message from ${u}`),this._cleanupPeer(u),this._connections.delete(u);break;case ct.Expire:this.emitError(We.PeerUnavailable,`Could not connect to peer ${u}`);break;case ct.Offer:{const m=l.connectionId;let h=this.getConnection(u,m);if(h&&(h.close(),P.warn(`Offer received for existing Connection ID:${m}`)),l.type===Ka.Media){const y=new Ll(u,this,{connectionId:m,_payload:l,metadata:l.metadata});h=y,this._addConnection(u,h),this.emit("call",y)}else if(l.type===Ka.Data){const y=new this._serializers[l.serialization](u,this,{connectionId:m,_payload:l,metadata:l.metadata,label:l.label,serialization:l.serialization,reliable:l.reliable});h=y,this._addConnection(u,h),this.emit("connection",y)}else{P.warn(`Received malformed connection type:${l.type}`);return}const g=this._getMessages(m);for(const y of g)h.handleMessage(y);break}default:{if(!l){P.warn(`You received a malformed message from ${u} of type ${s}`);return}const m=l.connectionId,h=this.getConnection(u,m);h&&h.peerConnection?h.handleMessage(r):m?this._storeMessage(m,r):P.warn("You received an unrecognized message:",r);break}}}_storeMessage(r,s){this._lostMessages.has(r)||this._lostMessages.set(r,[]),this._lostMessages.get(r).push(s)}_getMessages(r){const s=this._lostMessages.get(r);return s?(this._lostMessages.delete(r),s):[]}connect(r,s={}){if(s={serialization:"default",...s},this.disconnected){P.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(We.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const l=new this._serializers[s.serialization](r,this,s);return this._addConnection(r,l),l}call(r,s,l={}){if(this.disconnected){P.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(We.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!s){P.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const u=new Ll(r,this,{...l,_stream:s});return this._addConnection(r,u),u}_addConnection(r,s){P.log(`add connection ${s.type}:${s.connectionId} to peerId:${r}`),this._connections.has(r)||this._connections.set(r,[]),this._connections.get(r).push(s)}_removeConnection(r){const s=this._connections.get(r.peer);if(s){const l=s.indexOf(r);l!==-1&&s.splice(l,1)}this._lostMessages.delete(r.connectionId)}getConnection(r,s){const l=this._connections.get(r);if(!l)return null;for(const u of l)if(u.connectionId===s)return u;return null}_delayedAbort(r,s){setTimeout(()=>{this._abort(r,s)},0)}_abort(r,s){P.error("Aborting!"),this.emitError(r,s),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(P.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const r of this._connections.keys())this._cleanupPeer(r),this._connections.delete(r);this.socket.removeAllListeners()}_cleanupPeer(r){const s=this._connections.get(r);if(s)for(const l of s)l.close()}disconnect(){if(this.disconnected)return;const r=this.id;P.log(`Disconnect peer with ID:${r}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=r,this._id=null,this.emit("disconnected",r)}reconnect(){if(this.disconnected&&!this.destroyed)P.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)P.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(r=s=>{}){this._api.listAllPeers().then(s=>r(s)).catch(s=>this._abort(We.ServerError,s))}}var lp=Gc;const vc={PEER_INIT_FAILED:"peer-init-failed",CONNECTION_TIMEOUT:"connection-timeout",INVALID_ROOM_CODE:"invalid-room-code",ROOM_FULL:"room-full",HOST_DISCONNECTED:"host-disconnected",NETWORK_ERROR:"network-error",INVALID_STATE:"invalid-state"};async function sp(c){return new Promise((r,s)=>{const l=c?new lp(c,{host:$t.host,port:$t.port,path:$t.path,secure:$t.secure,debug:$t.debug}):new lp({host:$t.host,port:$t.port,path:$t.path,secure:$t.secure,debug:$t.debug}),u=setTimeout(()=>{l.destroy(),s(new Error("Peer initialization timeout"))},Ac.PEER_INIT);l.on("open",()=>{clearTimeout(u),r(l)}),l.on("error",m=>{clearTimeout(u),s(m)})})}function xc(c,r){if(c&&!c.destroyed)try{c.destroy()}catch(s){console.error("Error destroying peer:",s)}}async function oh(c,r=1){try{return await c()}catch(s){if(r>=ti.MAX_RECONNECT_ATTEMPTS)throw new Error(`Failed to reconnect after ${ti.MAX_RECONNECT_ATTEMPTS} attempts`);const l=ti.INITIAL_BACKOFF_MS,u=Math.pow(ti.BACKOFF_MULTIPLIER,r-1),m=Math.min(l*u,ti.MAX_BACKOFF_MS);return console.log(`Reconnection attempt ${r} failed. Retrying in ${m}ms...`,s),await new Promise(h=>setTimeout(h,m)),oh(c,r+1)}}function op(c,r){const s=[];return c.forEach(l=>{try{l.connection&&l.connection.open?l.connection.send(r):s.push(l.id)}catch(u){console.error(`Failed to send to peer ${l.id}:`,u),s.push(l.id)}}),s}async function yy(c,r=Ac.DATA_CONNECTION){return c.open?Promise.resolve():new Promise((s,l)=>{const u=setTimeout(()=>{l(new Error("Connection open timeout"))},r);c.on("open",()=>{clearTimeout(u),s()}),c.on("error",m=>{clearTimeout(u),l(m)})})}function ii(c,r){return c.filter(s=>s.type===r)}function lr(c){return c.connection!==null&&c.connection!==void 0&&c.connection.open===!0}function by(){const[c,r]=D.useState(null),[s,l]=D.useState(void 0),[u,m]=D.useState("disconnected"),[h,g]=D.useState(null),[y,b]=D.useState(null),v=D.useRef(!1),C=D.useRef(void 0),R=D.useCallback(async G=>{if(v.current){console.warn("Peer already initializing, skipping duplicate call");return}if(c&&!c.destroyed){console.warn("Peer already initialized");return}v.current=!0,C.current=G,m("connecting"),g(null),b(null),console.log("Initializing peer connection...");try{const F=await sp(G);console.log("Peer connection opened:",F.id),l(F.id),m("connected"),v.current=!1,F.on("disconnected",()=>{console.log("Peer disconnected"),m("disconnected")}),F.on("close",()=>{console.log("Peer connection closed"),m("disconnected"),l(void 0)}),F.on("error",te=>{console.error("Peer error:",te),g("network-error"),b(te.message||"An unknown error occurred"),m("error"),v.current=!1}),r(F)}catch(F){console.error("Failed to initialize peer:",F),g(vc.PEER_INIT_FAILED),b(F instanceof Error?F.message:"Failed to initialize connection"),m("error"),v.current=!1}},[c]),w=D.useCallback(()=>{c&&(xc(c),r(null),l(void 0),m("disconnected"),g(null),b(null))},[c]),Y=D.useCallback(async()=>{m("reconnecting"),g(null),b(null);try{c&&(xc(c),r(null));const G=await oh(()=>sp(C.current));console.log("Peer reconnected:",G.id),l(G.id),m("connected"),G.on("disconnected",()=>{m("disconnected")}),G.on("close",()=>{m("disconnected"),l(void 0)}),G.on("error",F=>{console.error("Peer error:",F),g(vc.NETWORK_ERROR),b(F.message||"An unknown error occurred"),m("error")}),r(G)}catch(G){console.error("Failed to reconnect:",G),g(vc.NETWORK_ERROR),b(G instanceof Error?G.message:"Failed to reconnect"),m("error")}},[c]);return D.useEffect(()=>()=>{c&&!c.destroyed&&xc(c)},[c]),{peer:c,peerId:s,status:u,error:h,errorMessage:y,initialize:R,disconnect:w,reconnect:Y}}function Xa(c){try{return JSON.stringify(c)}catch(r){throw new Error(`Failed to serialize message: ${r instanceof Error?r.message:"Unknown error"}`)}}function Uc(c){try{const r=JSON.parse(c);if(!vy(r))throw new Error("Invalid message structure");return r}catch(r){throw new Error(`Failed to deserialize message: ${r instanceof Error?r.message:"Unknown error"}`)}}function vy(c){if(!c||typeof c!="object")return!1;const r=c;return typeof r.type=="string"&&r.payload!==void 0&&typeof r.timestamp=="number"&&typeof r.senderId=="string"}function xy(c){if(!c||typeof c!="object")return!1;const r=c;return(r.action==="pick"||r.action==="ban")&&(r.itemType==="uma"||r.itemType==="map")&&typeof r.itemId=="string"}function Sy(c){if(!c||typeof c!="object")return!1;const r=c;return(r.connectionType==="host"||r.connectionType==="player"||r.connectionType==="spectator")&&typeof r.label=="string"}function Ty(c){if(!c||typeof c!="object")return!1;const r=c;return r.roomState!==void 0&&typeof r.yourId=="string"}function Cy(c){return!c||typeof c!="object"?!1:typeof c.reason=="string"}function _y(c){if(!c||typeof c!="object")return!1;const r=c;return r.draftState!==void 0&&typeof r.version=="number"}function Va(c,r,s){return{type:c,payload:r,timestamp:Date.now(),senderId:s}}function ky(c,r){const[s,l]=D.useState(null),[u,m]=D.useState(null),h=D.useRef(null),g=D.useRef([]),y=D.useRef(null),b=D.useRef(new Set),v=D.useCallback((x,K)=>{b.current.forEach(V=>{try{V(x,K)}catch(ne){console.error("Error in room message handler:",ne)}})},[]),C=D.useCallback(x=>(b.current.add(x),()=>{b.current.delete(x)}),[]);D.useEffect(()=>{h.current=s},[s]);const R=D.useCallback(x=>{h.current&&(h.current={...h.current,draftState:x},l(h.current))},[]),w=D.useCallback(async(x,K)=>{if(!c)throw new Error("Peer not initialized");const V=r||up(),ne=K||jl(),ie={roomId:V,hostId:V,connections:[],draftState:ne,draftFormat:x,status:"waiting",version:1};return l(ie),m("host"),c.on("connection",Re=>{const ze=h.current||ie;Y(Re,ze)}),h.current=ie,console.log("Room created:",V),V},[c,r]),Y=D.useCallback((x,K)=>{console.log("Incoming connection from:",x.peer),x.on("open",()=>{console.log("Connection opened with:",x.peer)}),x.on("data",V=>{try{const ne=Uc(V);if(console.log("Host received message:",ne.type,"from:",x.peer),ne.type==="join-request"){if(console.log("Processing join request:",ne.payload),!Sy(ne.payload)){x.send(Xa(Va("join-rejected",{reason:"Invalid join request"},r||""))),x.close();return}const{connectionType:ie,label:Re}=ne.payload,ze=ii(g.current,"player"),J=ii(g.current,"spectator"),ye=K.draftFormat==="5v5"?hc.MAX_PLAYERS_5V5:hc.MAX_PLAYERS_3V3V3;if(ie==="player"&&ze.length>=ye){x.send(Xa(Va("join-rejected",{reason:"Room is full (players)"},r||""))),x.close();return}if(ie==="spectator"&&J.length>=hc.MAX_SPECTATORS){x.send(Xa(Va("join-rejected",{reason:"Too many spectators"},r||""))),x.close();return}const de={id:x.peer,type:ie,label:Re,connection:x};g.current.push(de);const Ce={...K,connections:g.current.map(j=>({id:j.id,type:j.type,label:j.label}))};x.send(Xa(Va("join-accepted",{roomState:Ce,yourId:x.peer},r||""))),l(j=>j&&{...j,connections:[...g.current]}),console.log(`${ie} joined:`,Re)}else v(ne,x.peer)}catch(ne){console.error("Error handling incoming data:",ne)}}),x.on("close",()=>{console.log("Connection closed:",x.peer),g.current=g.current.filter(V=>V.id!==x.peer),l(V=>V&&{...V,connections:[...g.current]})}),x.on("error",V=>{console.error("Connection error:",x.peer,V)})},[r]),G=D.useCallback(async(x,K,V=!1)=>{if(!c||!r)throw new Error("Peer not initialized");console.log(`Joining room ${x} as ${V?"spectator":"player"} with label: ${K}`);const ne=dp(x);if(!fp(ne))throw new Error("Invalid room code format");const ie=c.connect(ne);y.current=ie,await yy(ie);const Re=Va("join-request",{connectionType:V?"spectator":"player",label:K},r);return ie.send(Xa(Re)),new Promise((ze,J)=>{const ye=setTimeout(()=>{ie.close(),J(new Error("Join request timeout"))},Ac.JOIN_RESPONSE);let de=!1;ie.on("data",Ce=>{try{const j=Uc(Ce);if(j.type==="join-accepted"){if(clearTimeout(ye),!Ty(j.payload)){J(new Error("Invalid join accepted payload"));return}const{roomState:q}=j.payload;l(q),m(V?"spectator":"player"),de=!0,console.log("Joined room:",ne),ze()}else if(j.type==="join-rejected"){if(clearTimeout(ye),!Cy(j.payload)){J(new Error("Join rejected"));return}ie.close(),J(new Error(j.payload.reason))}else de&&v(j,j.senderId||ne)}catch(j){de?console.error("Error handling message after join:",j):(clearTimeout(ye),ie.close(),J(j))}}),ie.on("error",Ce=>{clearTimeout(ye),J(Ce)}),ie.on("close",()=>{de?console.log("Host connection closed"):(clearTimeout(ye),J(new Error("Connection closed unexpectedly")))})})},[c,r,v]),F=D.useCallback(()=>{if(u==="host")g.current.forEach(x=>{try{x.connection.close()}catch(K){console.error("Error closing connection:",K)}}),g.current=[];else if(y.current){try{y.current.close()}catch(x){console.error("Error closing host connection:",x)}y.current=null}s&&(l(null),m(null),console.log("Left room"))},[s,u]),te=D.useCallback(()=>s?ii(g.current,"player").filter(lr):[],[s]),Ue=D.useCallback(()=>s?ii(g.current,"spectator").filter(lr):[],[s]),ue=D.useCallback(()=>g.current.filter(lr),[]),oe=D.useCallback(x=>{if(u==="host")return console.warn("Host cannot send to itself"),!1;if(!y.current||!y.current.open)return console.error("Cannot send to host: no connection"),!1;try{return y.current.send(x),!0}catch(K){return console.error("Failed to send to host:",K),!1}},[u]);return D.useEffect(()=>()=>{if(g.current.forEach(x=>{try{x.connection.close()}catch(K){console.error("Error closing connection:",K)}}),g.current=[],y.current){try{y.current.close()}catch(x){console.error("Error closing host connection:",x)}y.current=null}},[]),{roomState:s,isHost:u==="host",connectionType:u,createRoom:w,joinRoom:G,leaveRoom:F,getPlayers:te,getSpectators:Ue,getAllConnections:ue,onRoomMessage:C,sendToHost:oe,updateRoomDraftState:R}}function Ry(){const[c,r]=D.useState([]),s=D.useRef(new Set),l=D.useCallback(R=>{s.current.forEach(w=>{try{w(R)}catch(Y){console.error("Error in connection event handler:",Y)}})},[]),u=D.useCallback(R=>{const{connection:w}=R;w.on("data",Y=>{try{const G=Uc(Y);l({type:"message",peerId:R.id,message:G})}catch(G){console.error("Error deserializing message:",G),l({type:"error",peerId:R.id,error:G instanceof Error?G:new Error("Unknown error")})}}),w.on("close",()=>{console.log("Connection closed:",R.id),l({type:"disconnected",peerId:R.id}),r(Y=>Y.filter(G=>G.id!==R.id))}),w.on("error",Y=>{console.error("Connection error:",R.id,Y),l({type:"error",peerId:R.id,error:Y})})},[l]),m=D.useCallback(R=>(s.current.add(R),()=>{s.current.delete(R)}),[]),h=D.useCallback(R=>{r(w=>w.some(Y=>Y.id===R.id)?(console.warn("Connection already exists:",R.id),w):(u(R),l({type:"connected",connection:R}),[...w,R]))},[u,l]),g=D.useCallback(R=>{r(w=>{const Y=w.find(G=>G.id===R);if(Y){if(Y.connection&&Y.connection.open)try{Y.connection.close()}catch(G){console.error("Error closing connection:",G)}l({type:"disconnected",peerId:R})}return w.filter(G=>G.id!==R)})},[l]),y=D.useCallback(R=>ii(c,R),[c]),b=D.useCallback(R=>c.find(w=>w.id===R),[c]),v=D.useCallback(R=>{const w=c.find(Y=>Y.id===R);return w?lr(w):!1},[c]),C=D.useCallback(R=>R?y(R).filter(lr).length:c.filter(lr).length,[c,y]);return D.useEffect(()=>()=>{c.forEach(R=>{try{R.connection&&R.connection.open&&R.connection.close()}catch(w){console.error("Error closing connection on cleanup:",w)}})},[]),{connections:c,onConnectionEvent:m,addConnection:h,removeConnection:g,getConnectionsByType:y,getConnection:b,isConnected:v,getConnectionCount:C}}function Ey(c){if(!c)return{type:"unknown",message:"Unknown error occurred",userMessage:"An unexpected error occurred. Please try again.",isRecoverable:!1,retryable:!0};const r=c instanceof Error?c.message:String(c);return r.includes("Could not connect to peer")||r.includes("PeerServer")||r.includes("Failed to fetch")?{type:"peer-init-failed",message:Ga.PEER_INIT_FAILED,userMessage:"Failed to connect to the multiplayer server. Check your internet connection and try again.",isRecoverable:!0,retryable:!0,originalError:c instanceof Error?c:void 0}:r.includes("timeout")||r.includes("timed out")||r.toLowerCase().includes("timeout")?{type:"connection-timeout",message:Ga.CONNECTION_TIMEOUT,userMessage:"Connection timed out. The other player may be offline or have connection issues.",isRecoverable:!0,retryable:!0,originalError:c instanceof Error?c:void 0}:r.includes("not found")||r.includes("404")?{type:"room-not-found",message:Ga.ROOM_NOT_FOUND,userMessage:"Room not found. The room may have been closed or the code is incorrect.",isRecoverable:!1,retryable:!1,originalError:c instanceof Error?c:void 0}:r.includes("full")||r.includes("capacity")?{type:"room-full",message:Ga.ROOM_FULL,userMessage:"This room is full. Please try joining a different room or create your own.",isRecoverable:!1,retryable:!1,originalError:c instanceof Error?c:void 0}:r.includes("invalid")&&(r.includes("room")||r.includes("code"))?{type:"invalid-room-code",message:Ga.INVALID_ROOM_CODE,userMessage:"Invalid room code format. Room codes must be 6 characters (letters and numbers).",isRecoverable:!1,retryable:!1,originalError:c instanceof Error?c:void 0}:r.includes("network")||r.includes("offline")||r.includes("ERR_INTERNET_DISCONNECTED")?{type:"network-error",message:Ga.NETWORK_ERROR,userMessage:"Network connection lost. Check your internet connection and try reconnecting.",isRecoverable:!0,retryable:!0,originalError:c instanceof Error?c:void 0}:r.includes("sync")||r.includes("state")?{type:"state-sync-failed",message:Ga.STATE_SYNC_FAILED,userMessage:"Failed to synchronize draft state. The connection may be unstable.",isRecoverable:!0,retryable:!0,originalError:c instanceof Error?c:void 0}:r.includes("permission")||r.includes("not allowed")||r.includes("unauthorized")?{type:"permission-denied",message:Ga.PERMISSION_DENIED,userMessage:"You don't have permission to perform this action.",isRecoverable:!1,retryable:!1,originalError:c instanceof Error?c:void 0}:{type:"unknown",message:r,userMessage:"An unexpected error occurred. Please try again or refresh the page.",isRecoverable:!0,retryable:!0,originalError:c instanceof Error?c:void 0}}function Ny(c){return`[${c.type}] ${c.message}${c.originalError?` (${c.originalError.message})`:""}`}function jy(c){if(!c||typeof c!="object"||!c.phase||!c.currentTeam||!c.team1||!c.team2)return!1;const r=s=>Array.isArray(s.pickedUmas)&&Array.isArray(s.bannedUmas)&&Array.isArray(s.pickedMaps)&&Array.isArray(s.bannedMaps);return!(!r(c.team1)||!r(c.team2))}function cp(c){const r=JSON.stringify({phase:c.phase,currentTeam:c.currentTeam,team1Picks:c.team1.pickedUmas.length,team1Bans:c.team1.bannedUmas.length,team2Picks:c.team2.pickedUmas.length,team2Bans:c.team2.bannedUmas.length});let s=0;for(let l=0;l<r.length;l++){const u=r.charCodeAt(l);s=(s<<5)-s+u,s=s&s}return s.toString(36)}function My(c,r,s,l,u,m){const[h,g]=D.useState(()=>c?.draftState||{phase:"map-pick",currentTeam:"team1",team1:{pickedUmas:[],bannedUmas:[],pickedMaps:[],bannedMaps:[]},team2:{pickedUmas:[],bannedUmas:[],pickedMaps:[],bannedMaps:[]},availableUmas:[],availableMaps:[],wildcardMap:{}}),[y,b]=D.useState(c?.version||1),[v,C]=D.useState(!1),[R,w]=D.useState(""),[Y,G]=D.useState(0),F=D.useRef(null),te=D.useRef(""),Ue=D.useRef(c?.version||1),ue=D.useRef(null),oe=D.useRef(new Set),x=D.useCallback(J=>(oe.current.add(J),()=>{oe.current.delete(J)}),[]),K=D.useCallback((J,ye)=>{const de=s();if(console.log("broadcastState called, connections:",de.length,"peerId:",l),!l||de.length===0){console.log("broadcastState early return - no peerId or no connections");return}const Ce=JSON.stringify(J);if(Ce===te.current){console.log("broadcastState skipped - state unchanged");return}const j=Va("state-sync",{draftState:J,version:ye},l),q=Xa(j),$=op(de,q);$.length>0?console.warn("Failed to sync state to peers:",$):console.log("broadcastState success, version:",ye),te.current=Ce},[l,s]),V=D.useCallback(J=>{if(!r){console.warn("Non-host attempted to update draft state");return}C(!0),g(J),Ue.current=Ue.current+1;const ye=Ue.current;b(ye),F.current&&clearTimeout(F.current);const de=s();if(console.log("updateDraftState called, connections:",de.length),l&&de.length>0){const Ce=JSON.stringify(J);if(Ce!==te.current){const j=Va("state-sync",{draftState:J,version:ye},l),q=Xa(j),$=op(de,q);$.length>0?console.warn("Failed to sync state to peers:",$):console.log("Broadcast success, version:",ye),te.current=Ce}}C(!1)},[r,s,l]),ne=D.useCallback(J=>{if(r){console.warn("Host should update state directly, not send actions");return}if(!l){console.error("Cannot send action: no peer ID");return}if(!m){console.error("Cannot send action: sendToHost not available");return}const ye=J.itemType==="uma"?"select-uma":"select-map",de=Va(ye,J,l);m(Xa(de))?console.log("Sent draft action to host:",J):console.error("Failed to send draft action to host")},[r,l,m]),ie=D.useCallback(()=>{r&&(F.current&&(clearTimeout(F.current),F.current=null),K(h,y))},[r,h,y,K]),Re=D.useCallback(J=>{if(r)return;if(!_y(J.payload)){console.error("Invalid state sync payload"),G(Ce=>Ce+1);return}const{draftState:ye,version:de}=J.payload;if(!jy(ye)){const Ce=Ey(new Error("Invalid state structure received"));console.error(Ny(Ce)),G(j=>j+1);return}if(de>y){const Ce=cp(ye);g(ye),b(de),w(Ce),G(0),console.log("State synced from host, version:",de,"checksum:",Ce)}else de<y&&console.warn("Received older state version, ignoring. Current:",y,"Received:",de)},[r,y]),ze=D.useCallback(J=>{if(r){if(!xy(J.payload)){console.error("Invalid draft action payload");return}console.log("Received draft action from",J.senderId,J.payload),oe.current.forEach(ye=>{try{ye(J.payload,J.senderId)}catch(de){console.error("Error in draft action handler:",de)}})}},[r]);return D.useEffect(()=>u((J,ye)=>{console.log("Received message:",J.type,"from:",ye),J.type==="state-sync"?Re(J):(J.type==="select-uma"||J.type==="select-map"||J.type==="advance-phase")&&ze(J)}),[u,Re,ze]),D.useEffect(()=>{c?.draftState&&(g(c.draftState),b(c.version))},[c?.draftState,c?.version]),D.useEffect(()=>()=>{F.current&&clearTimeout(F.current),ue.current&&clearTimeout(ue.current)},[]),D.useEffect(()=>{const J=s();if(!r||J.length===0)return;const ye=()=>{const de=cp(h);de!==R&&(console.log("Periodic validation: state changed, forcing sync"),ie(),w(de)),ue.current=setTimeout(ye,Jm.VALIDATION_INTERVAL_MS)};return ue.current=setTimeout(ye,Jm.VALIDATION_INTERVAL_MS),()=>{ue.current&&clearTimeout(ue.current)}},[r,s,h,R,ie]),{draftState:h,updateDraftState:V,sendDraftAction:ne,forceSync:ie,version:y,isSyncing:v,syncErrorCount:Y,onDraftAction:x}}const ch=60,Uy=["map-pick","map-ban","uma-pick","uma-ban"];function Oy({duration:c=ch,enabled:r=!0,onTimeout:s,phase:l,currentTurnKey:u,isTimerAuthority:m}){const[h,g]=D.useState(c),[y,b]=D.useState(!1),v=D.useRef(!1),C=D.useRef(u),R=Uy.includes(l),w=r&&R&&!y,Y=w;D.useEffect(()=>{C.current!==u&&(C.current=u,g(c),v.current=!1)},[u,c]),D.useEffect(()=>{R&&(g(c),v.current=!1)},[l,R,c]),D.useEffect(()=>{if(!w)return;const Ue=setInterval(()=>{g(ue=>ue<=1?(!v.current&&m&&(v.current=!0,setTimeout(()=>s(),0)),0):ue-1)},1e3);return()=>clearInterval(Ue)},[w,m,s]);const G=D.useCallback(()=>{b(!0)},[]),F=D.useCallback(()=>{b(!1)},[]),te=D.useCallback(()=>{g(c),v.current=!1},[c]);return{timeRemaining:h,isRunning:Y,pause:G,resume:F,reset:te,isWarning:h<=10&&h>5,isCritical:h<=5}}function Ay({onBackToMenu:c,multiplayerConfig:r}){const s=!!r,{peer:l,peerId:u,status:m,initialize:h}=by(),{roomState:g,isHost:y,createRoom:b,joinRoom:v,onRoomMessage:C,sendToHost:R,updateRoomDraftState:w,getAllConnections:Y}=ky(l,u),{onConnectionEvent:G}=Ry(),{draftState:F,updateDraftState:te,sendDraftAction:Ue,onDraftAction:ue}=My(g,y,Y,u,C,R),[oe]=D.useState(()=>s&&r?.isHost?up():r?.roomCode||""),[x,K]=D.useState(()=>{const L=jl();return s&&r&&(r.isHost||(L.phase="lobby"),L.multiplayer={enabled:!0,connectionType:r.isHost?"host":r.isSpectator?"spectator":"player",localTeam:r.isHost?"team1":"team2",roomId:r.roomCode,team1Name:r.isHost?r.playerName:"Team 1",team2Name:r.isHost?"Team 2":r.playerName}),L}),[V,ne]=D.useState([jl()]),[ie,Re]=D.useState(null),[ze,J]=D.useState(""),[ye,de]=D.useState(!1),[Ce,j]=D.useState(!1),[q,$]=D.useState(!1),[Ee,Ne]=D.useState(!r||r.isHost),[T,B]=D.useState(null),[X,Q]=D.useState(!1),[se,me]=D.useState(!1),[O,re]=D.useState("Team 1"),[W,ge]=D.useState("Team 2"),[Je,Pt]=D.useState("Team 1"),[sr,Ft]=D.useState("Team 2"),gn=x.phase==="uma-pick"||x.phase==="uma-ban",yn=x.phase==="complete",Xl=!s||y,ui=D.useCallback(()=>{console.log("Turn timeout triggered, current phase:",x.phase);const L=Vg(x);if(!L){console.warn("No valid random selection available for timeout");return}if(console.log("Auto-selecting:",L.type,L.item),L.type==="uma"){const ee=L.item,ce=Ml(x,ee);ce!==x&&(s&&y&&te(ce),K(ce),ne(xe=>[...xe,ce]))}else{const ee=L.item,ce={...ee,conditions:ee.conditions||ni()},xe=Ul(x,ce);xe!==x&&(s&&y&&te(xe),K(xe),ne(ke=>[...ke,xe]),Re(null))}},[x,s,y,te]),{timeRemaining:bn}=Oy({duration:ch,enabled:!0,onTimeout:ui,phase:x.phase,currentTurnKey:`${x.phase}-${x.currentTeam}`,isTimerAuthority:Xl});D.useEffect(()=>{if(!s||!r)return;let L=!0;return(async()=>{try{L&&r.isHost?await h(oe):L&&await h()}catch(ce){console.error("Failed to initialize peer:",ce)}})(),()=>{L=!1}},[s,r,h,oe]),D.useEffect(()=>{if(!s||!r||!l||g)return;(async()=>{try{if(r.isHost)await b("5v5",x);else if(r.isSpectator){if(m!=="connected"||!u)return;await v(r.roomCode,r.playerName,!0)}else{if(m!=="connected"||!u)return;await v(r.roomCode,r.playerName)}}catch(ee){console.error("Failed to setup room:",ee)}})()},[s,r,l,u,m,g,b,v,x]),D.useEffect(()=>{s&&F&&F.wildcardMap?.track&&(K(L=>{const ee=L.multiplayer?.localTeam||(r?.isHost?"team1":"team2"),ce=L.multiplayer?.connectionType||(r?.isHost?"host":r?.isSpectator?"spectator":"player");let xe=F.phase;return se&&F.phase==="wildcard-reveal"&&(xe=L.phase==="map-pick"?"map-pick":F.phase),{...F,phase:xe,multiplayer:{enabled:!0,connectionType:ce,localTeam:ee,roomId:F.multiplayer?.roomId||r?.roomCode||"",team1Name:F.multiplayer?.team1Name||"Team 1",team2Name:F.multiplayer?.team2Name||"Team 2"}}}),F.multiplayer?.team1Name&&re(F.multiplayer.team1Name),F.multiplayer?.team2Name&&ge(F.multiplayer.team2Name),F.phase==="wildcard-reveal"&&!q&&!se&&($(!0),r?.isHost||Q(!0)),F.phase==="map-pick"&&q&&($(!1),me(!0)))},[s,F,r,q,se]),D.useEffect(()=>!s||!y?void 0:ue((ee,ce)=>{if(console.log("Host received action from client:",ee,ce),console.log("Current phase:",x.phase,"Current team:",x.currentTeam),ee.itemType==="map"){let xe;if(x.phase==="map-ban"){const ke=x.currentTeam==="team1"?"team2":"team1";xe=x[ke].pickedMaps.find(Le=>Le.name===ee.itemId)}else xe=x.availableMaps.find(ke=>ke.name===ee.itemId);if(console.log("Looking for map:",ee.itemId,"Phase:",x.phase,"Found:",!!xe),xe){const ke={...xe,conditions:xe.conditions||ni()},Le=Ul(x,ke);console.log("State changed:",Le!==x,"New phase:",Le.phase),Le!==x&&(te(Le),K(Le),ne(ga=>[...ga,Le]))}else if(console.error("Map not found:",ee.itemId,"Phase:",x.phase),x.phase==="map-ban"){const ke=x.currentTeam==="team1"?"team2":"team1";console.log("Opponent picked maps:",x[ke].pickedMaps.map(Le=>Le.name))}else console.log("Available maps:",x.availableMaps.map(ke=>ke.name))}else if(ee.itemType==="uma"){let xe;if(x.phase==="uma-ban"){const ke=x.currentTeam==="team1"?"team2":"team1";xe=x[ke].pickedUmas.find(Le=>Le.id.toString()===ee.itemId)}else xe=x.availableUmas.find(ke=>ke.id.toString()===ee.itemId);if(console.log("Looking for uma:",ee.itemId,"Phase:",x.phase,"Found:",!!xe),xe){const ke=Ml(x,xe);console.log("State changed:",ke!==x,"New phase:",ke.phase),ke!==x&&(te(ke),K(ke),ne(Le=>[...Le,ke]))}else if(console.error("Uma not found:",ee.itemId,"Phase:",x.phase),x.phase==="uma-ban"){const ke=x.currentTeam==="team1"?"team2":"team1";console.log("Opponent picked umas:",x[ke].pickedUmas.map(Le=>Le.id))}else console.log("Available umas count:",x.availableUmas.length)}}),[s,y,ue,x,te]),D.useEffect(()=>s?G(ee=>{ee.type==="disconnected"?(console.log("Peer disconnected:",ee.peerId),g&&ee.peerId===g.hostId&&!y&&window.confirm("The host has disconnected. The draft session has ended. Return to menu?")&&c()):ee.type==="error"&&console.error("Connection error with peer:",ee.peerId,ee.error)}):void 0,[s,G,g,y,c]),D.useEffect(()=>{s&&m==="error"&&console.error("Peer status error:",m)},[s,m]);const or=L=>{const ee=x.currentTeam,ce=s?wg(x,L,ee):Ml(x,L);ce!==x&&(s&&y?(te(ce),K(ce)):(s&&Ue({action:x.phase==="uma-pick"?"pick":"ban",itemId:L.id.toString(),itemType:"uma"}),K(ce)),ne([...V,ce]))},vn=L=>{const ee=x.currentTeam,ce={...L,conditions:ni()},xe=s?Lg(x,ce,ee):Ul(x,ce);xe!==x&&(s&&y?(te(xe),K(xe)):(s&&Ue({action:x.phase==="map-pick"?"pick":"ban",itemId:L.name,itemType:"map"}),K(xe)),ne([...V,xe]),Re(null))},Vl=()=>{if(V.length>1){const L=V.slice(0,-1);ne(L),K(L[L.length-1]),Re(null),J("")}},Ql=()=>{de(!0)},ft=()=>{const L=jl();K(L),ne([L]),Re(null),J(""),de(!1),$(!1),Ne(!0),Q(!1),B(null)},Kl=()=>{j(!0)},fi=()=>{c()},di=()=>{Q(!0)},xn=()=>{if($(!1),me(!0),x.phase==="wildcard-reveal"||x.phase==="lobby"){const L={...x,phase:"map-pick"};K(L),s&&y&&(w(L),te(L))}};D.useEffect(()=>{if(!q||!X)return;let L=0;const ee=20,ce=8,xe=ee+ce;let ke;const Le=()=>{if(L>=xe){B(x.wildcardMap),ke=window.setTimeout(()=>{B(null)},500);return}const ga=li[Math.floor(Math.random()*li.length)],Ja=ni();B({...ga,conditions:Ja});let gi=75;L>ee&&(gi=75+(L-ee)/ce*175),L++,ke=window.setTimeout(Le,gi)};return Le(),()=>{ke&&clearTimeout(ke)}},[q,X,x.wildcardMap]);const Zl=()=>{const L=Je||"Team 1",ee=sr||"Team 2";if(re(L),ge(ee),Ne(!1),s){const ce={...x,phase:"lobby",multiplayer:{...x.multiplayer,enabled:!0,connectionType:x.multiplayer?.connectionType||"host",localTeam:x.multiplayer?.localTeam||"team1",roomId:x.multiplayer?.roomId||"",team1Name:L,team2Name:ee}};K(ce),w(ce),te(ce)}else $(!0)},mi=()=>{if(!y)return;const L={...x,phase:"wildcard-reveal"};K(L),s&&(w(L),te(L)),$(!0)},pi=()=>x.currentTeam==="team1"?"team2":"team1",Jl=L=>{if(x.phase!=="map-pick")return!0;const ee=x.currentTeam,ce=x[ee].pickedMaps;return!(!zc(ce,L.distance)||L.surface==="Dirt"&&!Bc(ce))},Za=()=>{if(x.phase==="uma-ban"){const L=pi();return x[L].pickedUmas}return x.availableUmas},dt=()=>{const L=Za();return ze.trim()?L.filter(ee=>ee.name.toLowerCase().includes(ze.toLowerCase())):L},Ut=()=>{if(x.phase==="map-ban"){const L=pi();return x[L].pickedMaps}return x.availableMaps},mt=()=>{const L=Ut();return Array.from(new Set(L.map(ce=>ce.track))).sort()},hi=L=>Ut().filter(ee=>ee.track===L);if(s&&x.phase==="lobby"){const L=(g?.connections.filter(ce=>ce.type==="player").length||0)+1,ee=g?.connections.filter(ce=>ce.type==="spectator").length||0;return d.jsx(Kg,{roomCode:oe||g?.roomId||"",team1Name:O,team2Name:W,isHost:r?.isHost||!1,playerCount:L,spectatorCount:ee,onStartDraft:mi,onLeave:c})}return s&&r?.isSpectator&&x.phase!=="wildcard-reveal"&&x.phase!=="lobby"?d.jsx(Qg,{draftState:x,roomCode:r.roomCode,team1Name:O,team2Name:W,connectionStatus:m,onBackToMenu:c,timeRemaining:bn}):d.jsxs("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex gap-4 px-6 py-6 overflow-hidden",children:[d.jsx("div",{className:"w-96 shrink-0 flex flex-col px-2 min-h-0",children:d.jsx(wl,{team:"team1",teamName:O,pickedUmas:x.team1.pickedUmas,bannedUmas:x.team1.bannedUmas,pickedMaps:x.team1.pickedMaps,bannedMaps:x.team1.bannedMaps,isCurrentTurn:x.phase!=="complete"&&x.currentTeam==="team1",distanceCounts:si(x.team1.pickedMaps),dirtCount:oi(x.team1.pickedMaps),showMapOrder:x.phase==="uma-pick"||x.phase==="uma-ban"||x.phase==="complete"})}),d.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[d.jsx("div",{className:"shrink-0",children:d.jsx(vp,{phase:x.phase,currentTeam:x.currentTeam,onUndo:Vl,onReset:Ql,onBackToMenu:Kl,team1Name:O,team2Name:W,canUndo:V.length>1,wildcardMap:x.wildcardMap,isMultiplayer:s,connectionStatus:m,roomCode:oe||g?.roomId,playerCount:(g?.connections.filter(L=>L.type==="player").length||0)+1,isHost:r?.isHost||!1,timeRemaining:bn,timerEnabled:!0})}),d.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar",children:[!yn&&d.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[d.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-100",children:[x.phase==="uma-pick"&&"Available Umamusume",x.phase==="uma-ban"&&"Ban Opponent's Umamusume",x.phase==="map-pick"&&!ie&&"Select a Racecourse",x.phase==="map-pick"&&ie&&`Select Distance - ${ie}`,x.phase==="map-ban"&&"Ban Opponent's Map"]}),gn&&d.jsx("input",{type:"text",placeholder:"Search Umamusume...",value:ze,onChange:L=>J(L.target.value),className:"w-full mb-4 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-gray-500"}),x.phase==="map-pick"&&ie&&d.jsx("button",{onClick:()=>Re(null),className:"mb-4 bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-4 rounded-lg transition-colors border border-gray-600",children:" Back to Racecourses"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[gn&&dt().map(L=>d.jsx(xp,{uma:L,onSelect:or},L.id)),x.phase==="map-pick"&&!ie&&mt().map(L=>d.jsxs("button",{onClick:()=>Re(L),className:"p-4 bg-gray-700 border-2 border-gray-600 rounded-lg hover:border-gray-500 hover:shadow-lg transition-all overflow-hidden",children:[d.jsx("div",{className:"aspect-video bg-gray-600 rounded mb-2 flex items-center justify-center overflow-hidden",children:d.jsx("img",{src:`./racetrack-portraits/${L.toLowerCase()}.png`,alt:L,className:"w-full h-full object-cover",onError:ee=>{const ce=ee.target;ce.style.display="none"}})}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-gray-100",children:L}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[hi(L).length," options"]})]})]},L)),x.phase==="map-pick"&&ie&&hi(ie).map(L=>d.jsx(Pm,{map:L,onSelect:vn,disabled:!Jl(L)},L.id)),x.phase==="map-ban"&&Ut().map(L=>d.jsx(Pm,{map:L,onSelect:vn},L.id))]})]}),yn&&d.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-8 text-center border border-gray-700",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-100 mb-8",children:"Tiebreaker Map"}),d.jsx("div",{className:"flex justify-center mb-8",children:d.jsxs("div",{className:"bg-gray-700 border-4 border-blue-500 rounded-xl p-8 max-w-md",children:[d.jsx("div",{className:"aspect-video bg-gray-600 rounded-lg mb-4 overflow-hidden",children:d.jsx("img",{src:`./racetrack-portraits/${x.wildcardMap.track?.toLowerCase()}.png`,alt:x.wildcardMap.track,className:"w-full h-full object-cover",onError:L=>{const ee=L.target;ee.style.display="none"}})}),d.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:x.wildcardMap.track}),d.jsx("div",{className:`inline-block px-4 py-2 rounded-lg mb-2 ${x.wildcardMap.surface?.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800"}`,children:d.jsx("span",{className:"text-lg font-semibold text-white",children:x.wildcardMap.surface})}),d.jsxs("p",{className:"text-xl text-gray-200",children:[x.wildcardMap.distance,"m",x.wildcardMap.variant&&` (${x.wildcardMap.variant})`]}),x.wildcardMap.conditions&&d.jsxs("p",{className:"text-lg text-gray-300 mt-2",children:[x.wildcardMap.conditions.season," "," ",x.wildcardMap.conditions.ground," "," ",x.wildcardMap.conditions.weather]})]})})]})]})]}),d.jsx("div",{className:"w-96 shrink-0 flex flex-col px-2 min-h-0",children:d.jsx(wl,{team:"team2",teamName:W,pickedUmas:x.team2.pickedUmas,bannedUmas:x.team2.bannedUmas,pickedMaps:x.team2.pickedMaps,bannedMaps:x.team2.bannedMaps,isCurrentTurn:x.phase!=="complete"&&x.currentTeam==="team2",distanceCounts:si(x.team2.pickedMaps),dirtCount:oi(x.team2.pickedMaps),showMapOrder:x.phase==="uma-pick"||x.phase==="uma-ban"||x.phase==="complete"})}),ye&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Reset Draft?"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to reset the draft? All current progress will be lost."}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>de(!1),className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-6 rounded-lg transition-colors border border-gray-600",children:"Cancel"}),d.jsx("button",{onClick:ft,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Reset"})]})]})}),Ce&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Return to Menu?"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to return to the format selection menu? Current draft progress will be lost."}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>j(!1),className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-6 rounded-lg transition-colors border border-gray-600",children:"Cancel"}),d.jsx("button",{onClick:fi,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Return to Menu"})]})]})}),q&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-2xl w-full",children:[d.jsx("h2",{className:"text-4xl font-bold text-gray-100 mb-4 text-center",children:X?"Tiebreaker Map Revealed!":"Wildcard Tiebreaker Map"}),d.jsx("div",{className:"flex justify-center mb-8 relative",style:{perspective:"1000px",height:"350px"},children:d.jsx("div",{className:`bg-gray-700 border-4 ${X&&!T?"border-blue-500":"border-gray-600"} rounded-xl p-8 max-w-md transition-all duration-300`,style:T?{position:"absolute",animation:"spin3d 0.6s linear infinite",transformStyle:"preserve-3d"}:{position:"absolute"},children:X?T?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"aspect-video bg-gray-600 rounded-lg mb-4 overflow-hidden",children:d.jsx("img",{src:`./racetrack-portraits/${T.track?.toLowerCase()}.png`,alt:T.track,className:"w-full h-full object-cover",onError:L=>{const ee=L.target;ee.style.display="none"}})}),d.jsx("h3",{className:"text-3xl font-bold text-white mb-2 text-center",children:T.track}),d.jsx("div",{className:`inline-block px-4 py-2 rounded-lg mb-2 ${T.surface?.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800"} w-full text-center`,children:d.jsx("span",{className:"text-lg font-semibold text-white",children:T.surface})}),d.jsxs("p",{className:"text-xl text-gray-200 text-center",children:[T.distance,"m",T.variant&&` (${T.variant})`]}),T.conditions&&d.jsxs("p",{className:"text-lg text-gray-300 mt-2 text-center",children:[T.conditions.season," "," ",T.conditions.ground," "," ",T.conditions.weather]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"aspect-video bg-gray-600 rounded-lg mb-4 overflow-hidden",children:d.jsx("img",{src:`./racetrack-portraits/${x.wildcardMap.track?.toLowerCase()}.png`,alt:x.wildcardMap.track,className:"w-full h-full object-cover",onError:L=>{const ee=L.target;ee.style.display="none"}})}),d.jsx("h3",{className:"text-3xl font-bold text-white mb-2 text-center",children:x.wildcardMap.track}),d.jsx("div",{className:`inline-block px-4 py-2 rounded-lg mb-2 ${x.wildcardMap.surface?.toLowerCase()==="turf"?"bg-green-700":"bg-amber-800"} w-full text-center`,children:d.jsx("span",{className:"text-lg font-semibold text-white",children:x.wildcardMap.surface})}),d.jsxs("p",{className:"text-xl text-gray-200 text-center",children:[x.wildcardMap.distance,"m",x.wildcardMap.variant&&` (${x.wildcardMap.variant})`]}),x.wildcardMap.conditions&&d.jsxs("p",{className:"text-lg text-gray-300 mt-2 text-center",children:[x.wildcardMap.conditions.season," "," ",x.wildcardMap.conditions.ground," "," ",x.wildcardMap.conditions.weather]})]}):d.jsx("div",{className:"flex flex-col items-center justify-center",style:{height:"280px",width:"240px"},children:d.jsx("div",{className:"text-8xl text-gray-400",children:"?"})})})}),d.jsx("div",{className:"flex justify-center",children:X?T?d.jsx("div",{className:"text-gray-400 text-lg",children:"Revealing..."}):d.jsx("button",{onClick:xn,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-12 rounded-lg text-xl transition-colors shadow-lg",children:s&&y?"Start Draft":s?"Continue":"Start Draft"}):d.jsx("button",{onClick:di,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-12 rounded-lg text-xl transition-colors shadow-lg",children:"Reveal Wildcard Map"})})]})}),Ee&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Enter Team Names"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Give your teams custom names for this draft"}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-blue-400 mb-2",children:"Team 1 Name"}),d.jsx("input",{type:"text",value:Je,onChange:L=>Pt(L.target.value),placeholder:"Team 1",maxLength:30,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-red-400 mb-2",children:"Team 2 Name"}),d.jsx("input",{type:"text",value:sr,onChange:L=>Ft(L.target.value),placeholder:"Team 2",maxLength:30,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-red-500"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:Zl,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-8 rounded-lg transition-colors",children:"Start Draft"})})]})})]})}const Dy=[{id:"ssr1",name:"Air Shakur",rarity:"SSR",type:"wit",imageUrl:"./supoka/air-shakur-ssr-wit.png"},{id:"ssr2",name:"Bamboo Memory",rarity:"SSR",type:"power",imageUrl:"./supoka/bamboo-memory-ssr-power.png"},{id:"ssr3",name:"Biko Pegasus",rarity:"SSR",type:"speed",imageUrl:"./supoka/biko-pegasus-ssr-speed.png"},{id:"ssr4",name:"Curren Chan",rarity:"SSR",type:"wit",imageUrl:"./supoka/curren-chan-ssr-wit.png"},{id:"ssr5",name:"Daiwa Scarlet",rarity:"SSR",type:"power",imageUrl:"./supoka/daiwa-scarlet-ssr-power.png"},{id:"ssr6",name:"El Condor Pasa",rarity:"SSR",type:"power",imageUrl:"./supoka/el-condor-pasa-ssr-power.png"},{id:"ssr7",name:"Fine Motion",rarity:"SSR",type:"wit",imageUrl:"./supoka/fine-motion-ssr-wit.png"},{id:"ssr8",name:"Gold City",rarity:"SSR",type:"speed",imageUrl:"./supoka/gold-city-ssr-speed.png"},{id:"ssr9",name:"Gold Ship",rarity:"SSR",type:"speed",imageUrl:"./supoka/gold-ship-ssr-speed.png"},{id:"ssr10",name:"Gold Ship",rarity:"SSR",type:"stamina",imageUrl:"./supoka/gold-ship-ssr-stamina.png"},{id:"ssr11",name:"Grass Wonder",rarity:"SSR",type:"guts",imageUrl:"./supoka/grass-wonder-ssr-guts.png"},{id:"ssr12",name:"Haru Urara",rarity:"SSR",type:"guts",imageUrl:"./supoka/haru-urara-ssr-guts.png"},{id:"ssr13",name:"Hishi Akebono",rarity:"SSR",type:"guts",imageUrl:"./supoka/hishi-akebono-ssr-guts.png"},{id:"ssr14",name:"Ikuno Dictus",rarity:"SSR",type:"guts",imageUrl:"./supoka/ikuno-dictus-ssr-guts.png"},{id:"ssr15",name:"Ines Fujin",rarity:"SSR",type:"guts",imageUrl:"./supoka/ines-fujin-ssr-guts.png"},{id:"ssr16",name:"Kawakami Princess",rarity:"SSR",type:"speed",imageUrl:"./supoka/kawakami-princess-ssr-speed.png"},{id:"ssr17",name:"King Halo",rarity:"SSR",type:"power",imageUrl:"./supoka/king-halo-ssr-power.png"},{id:"ssr18",name:"Kitasan Black",rarity:"SSR",type:"speed",imageUrl:"./supoka/kitasan-black-ssr-speed.png"},{id:"ssr19",name:"Matikanetannhauser",rarity:"SSR",type:"guts",imageUrl:"./supoka/matikanetannhauser-ssr-guts.png"},{id:"ssr20",name:"Mejiro Dober",rarity:"SSR",type:"wit",imageUrl:"./supoka/mejiro-dober-ssr-wit.png"},{id:"ssr21",name:"Mejiro McQueen",rarity:"SSR",type:"stamina",imageUrl:"./supoka/mejiro-mcqueen-ssr-stamina.png"},{id:"ssr22",name:"Mejiro Palmer",rarity:"SSR",type:"guts",imageUrl:"./supoka/mejiro-palmer-ssr-guts.png"},{id:"ssr23",name:"Mejiro Ryan",rarity:"SSR",type:"guts",imageUrl:"./supoka/mejiro-ryan-ssr-guts.png"},{id:"ssr24",name:"Mihono Bourbon",rarity:"SSR",type:"wit",imageUrl:"./supoka/mihono-bourbon-ssr-wit.png"},{id:"ssr25",name:"Nakayama Festa",rarity:"SSR",type:"stamina",imageUrl:"./supoka/nakayama-festa-ssr-stamina.png"},{id:"ssr26",name:"Narita Brian",rarity:"SSR",type:"speed",imageUrl:"./supoka/narita-brian-ssr-speed.png"},{id:"ssr27",name:"Narita Brian",rarity:"SSR",type:"stamina",imageUrl:"./supoka/narita-brian-ssr-stamina.png"},{id:"ssr28",name:"Nice Nature",rarity:"SSR",type:"wit",imageUrl:"./supoka/nice-nature-ssr-wit.png"},{id:"ssr29",name:"Nishino Flower",rarity:"SSR",type:"speed",imageUrl:"./supoka/nishino-flower-ssr-speed.png"},{id:"ssr30",name:"Oguri Cap",rarity:"SSR",type:"power",imageUrl:"./supoka/oguri-cap-ssr-power.png"},{id:"ssr31",name:"Rice Shower",rarity:"SSR",type:"power",imageUrl:"./supoka/rice-shower-ssr-power.png"},{id:"ssr32",name:"Rice Shower",rarity:"SSR",type:"stamina",imageUrl:"./supoka/rice-shower-ssr-stamina.png"},{id:"ssr33",name:"Riko Kashimoto",rarity:"SSR",type:"friend",imageUrl:"./supoka/riko-kashimoto-ssr-friend.png"},{id:"ssr34",name:"Sakura Bakushin O",rarity:"SSR",type:"speed",imageUrl:"./supoka/sakura-bakushin-o-ssr-speed.png"},{id:"ssr35",name:"Sakura Chiyono O",rarity:"SSR",type:"stamina",imageUrl:"./supoka/sakura-chiyono-o-ssr-stamina.png"},{id:"ssr36",name:"Satono Diamond",rarity:"SSR",type:"stamina",imageUrl:"./supoka/satono-diamond-ssr-stamina.png"},{id:"ssr37",name:"Seiun Sky",rarity:"SSR",type:"stamina",imageUrl:"./supoka/seiun-sky-ssr-stamina.png"},{id:"ssr38",name:"Seiun Sky",rarity:"SSR",type:"wit",imageUrl:"./supoka/seiun-sky-ssr-wit.png"},{id:"ssr39",name:"Silence Suzuka",rarity:"SSR",type:"speed",imageUrl:"./supoka/silence-suzuka-ssr-speed.png"},{id:"ssr40",name:"Silence Suzuka",rarity:"SSR",type:"stamina",imageUrl:"./supoka/silence-suzuka-ssr-stamina.png"},{id:"ssr41",name:"Smart Falcon",rarity:"SSR",type:"power",imageUrl:"./supoka/smart-falcon-ssr-power.png"},{id:"ssr42",name:"Special Week",rarity:"SSR",type:"guts",imageUrl:"./supoka/special-week-ssr-guts.png"},{id:"ssr43",name:"Special Week",rarity:"SSR",type:"speed",imageUrl:"./supoka/special-week-ssr-speed.png"},{id:"ssr44",name:"Super Creek",rarity:"SSR",type:"stamina",imageUrl:"./supoka/super-creek-ssr-stamina.png"},{id:"ssr45",name:"Sweep Tosho",rarity:"SSR",type:"speed",imageUrl:"./supoka/sweep-tosho-ssr-speed.png"},{id:"ssr46",name:"Tamamo Cross",rarity:"SSR",type:"power",imageUrl:"./supoka/tamamo-cross-ssr-power.png"},{id:"ssr47",name:"Tamamo Cross",rarity:"SSR",type:"stamina",imageUrl:"./supoka/tamamo-cross-ssr-stamina.png"},{id:"ssr48",name:"Tazuna Hayakawa",rarity:"SSR",type:"friend",imageUrl:"./supoka/tazuna-hayakawa-ssr-friend.png"},{id:"ssr49",name:"Tokai Teio",rarity:"SSR",type:"speed",imageUrl:"./supoka/tokai-teio-ssr-speed.png"},{id:"ssr50",name:"Twin Turbo",rarity:"SSR",type:"speed",imageUrl:"./supoka/twin-turbo-ssr-speed.png"},{id:"ssr51",name:"Vodka",rarity:"SSR",type:"power",imageUrl:"./supoka/vodka-ssr-power.png"},{id:"ssr52",name:"Winning Ticket",rarity:"SSR",type:"guts",imageUrl:"./supoka/winning-ticket-ssr-guts.png"},{id:"ssr53",name:"Winning Ticket",rarity:"SSR",type:"power",imageUrl:"./supoka/winning-ticket-ssr-power.png"},{id:"ssr54",name:"Winning Ticket",rarity:"SSR",type:"stamina",imageUrl:"./supoka/winning-ticket-ssr-stamina.png"},{id:"ssr55",name:"Yaeno Muteki",rarity:"SSR",type:"power",imageUrl:"./supoka/yaeno-muteki-ssr-power.png"},{id:"ssr56",name:"Yukino Bijin",rarity:"SSR",type:"guts",imageUrl:"./supoka/yukino-bijin-ssr-guts.png"},{id:"ssr57",name:"Yukino Bijin",rarity:"SSR",type:"wit",imageUrl:"./supoka/yukino-bijin-ssr-wit.png"},{id:"ssr58",name:"Zenno Rob Roy",rarity:"SSR",type:"speed",imageUrl:"./supoka/zenno-rob-roy-ssr-speed.png"},{id:"ssr59",name:"Daitaku Helios",rarity:"SSR",type:"power",imageUrl:"./supoka/daitaku-helios-ssr-power.png"},{id:"ssr60",name:"Marvelous Sunday",rarity:"SSR",type:"power",imageUrl:"./supoka/marvelous-sunday-ssr-power.png"},{id:"ssr61",name:"Narita Taishin",rarity:"SSR",type:"wit",imageUrl:"./supoka/narita-taishin-ssr-wit.png"},{id:"ssr62",name:"Mayano Top Gun",rarity:"SSR",type:"speed",imageUrl:"./supoka/mayano-top-gun-ssr-speed.png"},{id:"sr1",name:"Agnes Digital",rarity:"SR",type:"power",imageUrl:"./supoka/agnes-digital-sr-power.png"},{id:"sr2",name:"Agnes Tachyon",rarity:"SR",type:"wit",imageUrl:"./supoka/agnes-tachyon-sr-wit.png"},{id:"sr3",name:"Air Groove",rarity:"SR",type:"guts",imageUrl:"./supoka/air-groove-sr-guts.png"},{id:"sr4",name:"Aoi Kiryuin",rarity:"SR",type:"friend",imageUrl:"./supoka/aoi-kiryuin-sr-friend.png"},{id:"sr5",name:"Biwa Hayahide",rarity:"SR",type:"power",imageUrl:"./supoka/biwa-hayahide-sr-power.png"},{id:"sr6",name:"Daitaku Helios",rarity:"SR",type:"power",imageUrl:"./supoka/daitaku-helios-sr-power.png"},{id:"sr7",name:"Daiwa Scarlet",rarity:"SR",type:"wit",imageUrl:"./supoka/daiwa-scarlet-sr-wit.png"},{id:"sr8",name:"Eishin Flash",rarity:"SR",type:"speed",imageUrl:"./supoka/eishin-flash-sr-speed.png"},{id:"sr9",name:"Fine Motion",rarity:"SR",type:"power",imageUrl:"./supoka/fine-motion-sr-power.png"},{id:"sr10",name:"Fuji Kiseki",rarity:"SR",type:"wit",imageUrl:"./supoka/fuji-kiseki-sr-wit.png"},{id:"sr11",name:"Hishi Amazon",rarity:"SR",type:"power",imageUrl:"./supoka/hishi-amazon-sr-power.png"},{id:"sr12",name:"Ikuno Dictus",rarity:"SR",type:"wit",imageUrl:"./supoka/ikuno-dictus-sr-wit.png"},{id:"sr13",name:"King Halo",rarity:"SR",type:"speed",imageUrl:"./supoka/king-halo-sr-speed.png"},{id:"sr14",name:"Manhattan Cafe",rarity:"SR",type:"stamina",imageUrl:"./supoka/manhattan-cafe-sr-stamina.png"},{id:"sr15",name:"Marvelous Sunday",rarity:"SR",type:"wit",imageUrl:"./supoka/marvelous-sunday-sr-wit.png"},{id:"sr16",name:"Matifuku",rarity:"SR",type:"wit",imageUrl:"./supoka/matikanefukukitaru-sr-wit.png"},{id:"sr17",name:"Mayano Top Gun",rarity:"SR",type:"stamina",imageUrl:"./supoka/mayano-top-gun-sr-stamina.png"},{id:"sr18",name:"Meisho Doto",rarity:"SR",type:"guts",imageUrl:"./supoka/meisho-doto-sr-guts.png"},{id:"sr19",name:"Mejiro Ardan",rarity:"SR",type:"wit",imageUrl:"./supoka/mejiro-ardan-sr-wit.png"},{id:"sr20",name:"Mejiro Dober",rarity:"SR",type:"wit",imageUrl:"./supoka/mejiro-dober-sr-wit.png"},{id:"sr21",name:"Mejiro Ryan",rarity:"SR",type:"power",imageUrl:"./supoka/mejiro-ryan-sr-power.png"},{id:"sr22",name:"Mihono Bourbon",rarity:"SR",type:"power",imageUrl:"./supoka/mihono-bourbon-sr-power.png"},{id:"sr23",name:"Narita Taishin",rarity:"SR",type:"speed",imageUrl:"./supoka/narita-taishin-sr-speed.png"},{id:"sr24",name:"Nice Nature",rarity:"SR",type:"guts",imageUrl:"./supoka/nice-nature-sr-guts.png"},{id:"sr25",name:"Nice Nature",rarity:"SR",type:"wit",imageUrl:"./supoka/nice-nature-sr-wit.png"},{id:"sr26",name:"Nishino Flower",rarity:"SR",type:"power",imageUrl:"./supoka/nishino-flower-sr-power.png"},{id:"sr27",name:"Seeking the Pearl",rarity:"SR",type:"guts",imageUrl:"./supoka/seeking-the-pearl-sr-guts.png"},{id:"sr28",name:"Shinko Windy",rarity:"SR",type:"speed",imageUrl:"./supoka/shinko-windy-sr-speed.png"},{id:"sr29",name:"Sirius Symboli",rarity:"SR",type:"guts",imageUrl:"./supoka/sirius-symboli-sr-guts.png"},{id:"sr30",name:"Sweep Tosho",rarity:"SR",type:"speed",imageUrl:"./supoka/sweep-tosho-sr-speed.png"},{id:"sr31",name:"Tosen Jordan",rarity:"SR",type:"stamina",imageUrl:"./supoka/tosen-jordan-sr-stamina.png"},{id:"sr32",name:"Yukino Bijin",rarity:"SR",type:"guts",imageUrl:"./supoka/yukino-bijin-sr-guts.png"},{id:"sr33",name:"Zenno Rob Roy",rarity:"SR",type:"stamina",imageUrl:"./supoka/zenno-rob-roy-sr-stamina.png"},{id:"sr34",name:"Vodka",rarity:"SR",type:"speed",imageUrl:"./supoka/vodka-sr-speed.png"},{id:"r1",name:"Agnes Digital",rarity:"R",type:"power",imageUrl:"./supoka/agnes-digital-r-power.png"},{id:"r2",name:"Agnes Tachyon",rarity:"R",type:"wit",imageUrl:"./supoka/agnes-tachyon-r-wit.png"},{id:"r3",name:"Air Groove",rarity:"R",type:"guts",imageUrl:"./supoka/air-groove-r-guts.png"},{id:"r4",name:"Air Shakur",rarity:"R",type:"wit",imageUrl:"./supoka/air-shakur-r-wit.png"},{id:"r5",name:"Aoi Kiryuin",rarity:"R",type:"friend",imageUrl:"./supoka/aoi-kiryuin-r-friend.png"},{id:"r6",name:"Bamboo Memory",rarity:"R",type:"power",imageUrl:"./supoka/bamboo-memory-r-power.png"},{id:"r7",name:"Biko Pegasus",rarity:"R",type:"speed",imageUrl:"./supoka/biko-pegasus-r-speed.png"},{id:"r8",name:"Biwa Hayahide",rarity:"R",type:"power",imageUrl:"./supoka/biwa-hayahide-r-power.png"},{id:"r9",name:"Curren Chan",rarity:"R",type:"wit",imageUrl:"./supoka/curren-chan-r-wit.png"},{id:"r10",name:"Daitaku Helios",rarity:"R",type:"power",imageUrl:"./supoka/daitaku-helios-r-power.png"},{id:"r11",name:"Daiwa Scarlet",rarity:"R",type:"wit",imageUrl:"./supoka/daiwa-scarlet-r-wit.png"},{id:"r12",name:"Eishin Flash",rarity:"R",type:"speed",imageUrl:"./supoka/eishin-flash-r-speed.png"},{id:"r13",name:"El Condor Pasa",rarity:"R",type:"power",imageUrl:"./supoka/el-condor-pasa-r-power.png"},{id:"r14",name:"Fine Motion",rarity:"R",type:"wit",imageUrl:"./supoka/fine-motion-r-wit.png"},{id:"r15",name:"Fuji Kiseki",rarity:"R",type:"wit",imageUrl:"./supoka/fuji-kiseki-r-wit.png"},{id:"r16",name:"Gold City",rarity:"R",type:"speed",imageUrl:"./supoka/gold-city-r-speed.png"},{id:"r17",name:"Gold Ship",rarity:"R",type:"stamina",imageUrl:"./supoka/gold-ship-r-stamina.png"},{id:"r18",name:"Grass Wonder",rarity:"R",type:"guts",imageUrl:"./supoka/grass-wonder-r-guts.png"},{id:"r19",name:"Haru Urara",rarity:"R",type:"guts",imageUrl:"./supoka/haru-urara-r-guts.png"},{id:"r20",name:"Hishi Akebono",rarity:"R",type:"guts",imageUrl:"./supoka/hishi-akebono-r-guts.png"},{id:"r21",name:"Hishi Amazon",rarity:"R",type:"power",imageUrl:"./supoka/hishi-amazon-r-power.png"},{id:"r22",name:"Ikuno Dictus",rarity:"R",type:"wit",imageUrl:"./supoka/ikuno-dictus-r-wit.png"},{id:"r23",name:"Ines Fujin",rarity:"R",type:"guts",imageUrl:"./supoka/ines-fujin-r-guts.png"},{id:"r24",name:"Kawakami Princess",rarity:"R",type:"speed",imageUrl:"./supoka/kawakami-princess-r-speed.png"},{id:"r25",name:"King Halo",rarity:"R",type:"speed",imageUrl:"./supoka/king-halo-r-speed.png"},{id:"r26",name:"Kitasan Black",rarity:"R",type:"speed",imageUrl:"./supoka/kitasan-black-r-speed.png"},{id:"r27",name:"Manhattan Cafe",rarity:"R",type:"stamina",imageUrl:"./supoka/manhattan-cafe-r-stamina.png"},{id:"r28",name:"Maruzensky",rarity:"R",type:"speed",imageUrl:"./supoka/maruzensky-r-speed.png"},{id:"r29",name:"Marvelous Sunday",rarity:"R",type:"wit",imageUrl:"./supoka/marvelous-sunday-r-wit.png"},{id:"r30",name:"Matifuku",rarity:"R",type:"wit",imageUrl:"./supoka/matikanefukukitaru-r-wit.png"},{id:"r31",name:"Matikanetannhauser",rarity:"R",type:"guts",imageUrl:"./supoka/matikanetannhauser-r-guts.png"},{id:"r32",name:"Mayano Top Gun",rarity:"R",type:"stamina",imageUrl:"./supoka/mayano-top-gun-r-stamina.png"},{id:"r33",name:"Meisho Doto",rarity:"R",type:"guts",imageUrl:"./supoka/meisho-doto-r-guts.png"},{id:"r34",name:"Mejiro Ardan",rarity:"R",type:"wit",imageUrl:"./supoka/mejiro-ardan-r-wit.png"},{id:"r35",name:"Mejiro Dober",rarity:"R",type:"wit",imageUrl:"./supoka/mejiro-dober-r-wit.png"},{id:"r36",name:"Mejiro McQueen",rarity:"R",type:"stamina",imageUrl:"./supoka/mejiro-mcqueen-r-stamina.png"},{id:"r37",name:"Mejiro Palmer",rarity:"R",type:"guts",imageUrl:"./supoka/mejiro-palmer-r-guts.png"},{id:"r38",name:"Mejiro Ryan",rarity:"R",type:"power",imageUrl:"./supoka/mejiro-ryan-r-power.png"},{id:"r39",name:"Mihono Bourbon",rarity:"R",type:"power",imageUrl:"./supoka/mihono-bourbon-r-power.png"},{id:"r40",name:"Nakayama Festa",rarity:"R",type:"stamina",imageUrl:"./supoka/nakayama-festa-r-stamina.png"},{id:"r41",name:"Narita Brian",rarity:"R",type:"speed",imageUrl:"./supoka/narita-brian-r-speed.png"},{id:"r42",name:"Narita Taishin",rarity:"R",type:"speed",imageUrl:"./supoka/narita-taishin-r-speed.png"},{id:"r43",name:"Nice Nature",rarity:"R",type:"guts",imageUrl:"./supoka/nice-nature-r-guts.png"},{id:"r44",name:"Nishino Flower",rarity:"R",type:"speed",imageUrl:"./supoka/nishino-flower-r-speed.png"},{id:"r45",name:"Oguri Cap",rarity:"R",type:"power",imageUrl:"./supoka/oguri-cap-r-power.png"},{id:"r46",name:"Rice Shower",rarity:"R",type:"stamina",imageUrl:"./supoka/rice-shower-r-stamina.png"},{id:"r47",name:"Riko Kashimoto",rarity:"R",type:"friend",imageUrl:"./supoka/riko-kashimoto-r-friend.png"},{id:"r48",name:"Sakura Bakushin O",rarity:"R",type:"speed",imageUrl:"./supoka/sakura-bakushin-o-r-speed.png"},{id:"r49",name:"Sakura Chiyono O",rarity:"R",type:"stamina",imageUrl:"./supoka/sakura-chiyono-o-r-stamina.png"},{id:"r50",name:"Satono Diamond",rarity:"R",type:"stamina",imageUrl:"./supoka/satono-diamond-r-stamina.png"},{id:"r51",name:"Seeking the Pearl",rarity:"R",type:"guts",imageUrl:"./supoka/seeking-the-pearl-r-guts.png"},{id:"r52",name:"Seiun Sky",rarity:"R",type:"stamina",imageUrl:"./supoka/seiun-sky-r-stamina.png"},{id:"r53",name:"Shinko Windy",rarity:"R",type:"speed",imageUrl:"./supoka/shinko-windy-r-speed.png"},{id:"r54",name:"Silence Suzuka",rarity:"R",type:"speed",imageUrl:"./supoka/silence-suzuka-r-speed.png"},{id:"r55",name:"Sirius Symboli",rarity:"R",type:"guts",imageUrl:"./supoka/sirius-symboli-r-guts.png"},{id:"r56",name:"Smart Falcon",rarity:"R",type:"power",imageUrl:"./supoka/smart-falcon-r-power.png"},{id:"r57",name:"Special Week",rarity:"R",type:"guts",imageUrl:"./supoka/special-week-r-guts.png"},{id:"r58",name:"Super Creek",rarity:"R",type:"stamina",imageUrl:"./supoka/super-creek-r-stamina.png"},{id:"r59",name:"Sweep Tosho",rarity:"R",type:"speed",imageUrl:"./supoka/sweep-tosho-r-speed.png"},{id:"r60",name:"Symboli Rudolf",rarity:"R",type:"wit",imageUrl:"./supoka/symboli-rudolf-r-wit.png"},{id:"r61",name:"Taiki Shuttle",rarity:"R",type:"speed",imageUrl:"./supoka/taiki-shuttle-r-speed.png"},{id:"r62",name:"Tamamo Cross",rarity:"R",type:"stamina",imageUrl:"./supoka/tamamo-cross-r-stamina.png"},{id:"r63",name:"Tazuna Hayakawa",rarity:"R",type:"friend",imageUrl:"./supoka/tazuna-hayakawa-r-friend.png"},{id:"r64",name:"TM Opera O",rarity:"R",type:"stamina",imageUrl:"./supoka/tm-opera-o-r-stamina.png"},{id:"r65",name:"Tokai Teio",rarity:"R",type:"speed",imageUrl:"./supoka/tokai-teio-r-speed.png"},{id:"r66",name:"Tosen Jordan",rarity:"R",type:"stamina",imageUrl:"./supoka/tosen-jordan-r-stamina.png"},{id:"r67",name:"Twin Turbo",rarity:"R",type:"speed",imageUrl:"./supoka/twin-turbo-r-speed.png"},{id:"r68",name:"Vodka",rarity:"R",type:"power",imageUrl:"./supoka/vodka-r-power.png"},{id:"r69",name:"Winning Ticket",rarity:"R",type:"guts",imageUrl:"./supoka/winning-ticket-r-guts.png"},{id:"r70",name:"Yaeno Muteki",rarity:"R",type:"power",imageUrl:"./supoka/yaeno-muteki-r-power.png"},{id:"r71",name:"Yukino Bijin",rarity:"R",type:"guts",imageUrl:"./supoka/yukino-bijin-r-guts.png"},{id:"r72",name:"Zenno Rob Roy",rarity:"R",type:"stamina",imageUrl:"./supoka/zenno-rob-roy-r-stamina.png"}];function Sc(){return{phase:"team-names",currentTeam:"team1",round:1,turnInRound:0,team1:{pickedUmas:[],bannedUmas:[],pickedCards:[]},team2:{pickedUmas:[],bannedUmas:[],pickedCards:[]},team3:{pickedUmas:[],bannedUmas:[],pickedCards:[]},availableUmas:[...pp],preBannedCards:[],pickedCards:[],availableCards:[...Dy]}}function Ya(c,r){const s=c%2===1;return r==="uma-ban"||r==="uma-pick"?s?["team1","team2","team3"]:["team3","team2","team1"]:s?["team1","team2","team3"]:["team3","team2","team1"]}function Tc(c){const{phase:r,round:s,turnInRound:l}=c;if(r==="uma-ban"){const u=Ya(s,"uma-ban");return l>=2?{nextTeam:Ya(s,"uma-pick")[0],nextPhase:"uma-pick",nextRound:s,nextTurnInRound:0}:{nextTeam:u[l+1],nextPhase:"uma-ban",nextRound:s,nextTurnInRound:l+1}}if(r==="uma-pick"){const u=Ya(s,"uma-pick");if(l>=2){if(s>=3)return{nextTeam:Ya(1,"card-pick")[0],nextPhase:"card-pick",nextRound:1,nextTurnInRound:0};const m=s+1;return{nextTeam:Ya(m,"uma-ban")[0],nextPhase:"uma-ban",nextRound:m,nextTurnInRound:0}}return{nextTeam:u[l+1],nextPhase:"uma-pick",nextRound:s,nextTurnInRound:l+1}}if(r==="card-pick"){const u=Ya(s,"card-pick");if(l>=2){if(s>=5)return{nextTeam:c.currentTeam,nextPhase:"complete",nextRound:s,nextTurnInRound:l};const m=s+1;return{nextTeam:Ya(m,"card-pick")[0],nextPhase:"card-pick",nextRound:m,nextTurnInRound:0}}return{nextTeam:u[l+1],nextPhase:"card-pick",nextRound:s,nextTurnInRound:l+1}}return{nextTeam:c.currentTeam,nextPhase:c.phase,nextRound:s,nextTurnInRound:l}}function Cc({team:c,teamName:r,teamData:s,isCurrentTurn:l,phase:u}){const m=c==="team1"?"text-blue-500":c==="team2"?"text-red-500":"text-green-500",h=l?c==="team1"?"border-blue-500 shadow-blue-500/50":c==="team2"?"border-red-500 shadow-red-500/50":"border-green-500 shadow-green-500/50":"border-gray-700",g=u==="card-pick";return d.jsxs("div",{className:`bg-gray-800 rounded-lg shadow-lg p-1.5 border-2 transition-all ${h} ${l?"shadow-lg":""}`,children:[d.jsx("div",{className:"text-center mb-1 pb-1 border-b border-gray-700",children:d.jsx("h3",{className:`text-xs font-bold ${m}`,children:r})}),g?d.jsxs("div",{children:[d.jsxs("h4",{className:"text-[10px] font-bold mb-1 text-gray-300 uppercase",children:["Cards (",s.pickedCards.length,"/5)"]}),d.jsx("div",{className:"grid grid-cols-5 gap-1 max-w-100 mx-auto",children:[...Array(5)].map((y,b)=>{const v=s.pickedCards[b];return d.jsx("div",{className:`aspect-square rounded border overflow-hidden relative ${v?"border-gray-600 bg-gray-600":"bg-gray-900 border-gray-700"}`,children:v?d.jsxs("div",{className:"relative w-full h-full",children:[d.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover",onError:C=>{const R=C.target;R.style.display="none"}}),v.type&&d.jsx("img",{src:`./supoka/${v.type}-icon.png`,alt:v.type,className:"absolute top-0.5 right-0.5 w-4 h-4 object-contain"})]}):null},b)})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-1",children:[d.jsxs("h4",{className:"text-[10px] font-bold mb-1 text-red-400 uppercase",children:["Banned (",s.bannedUmas.length,"/3)"]}),d.jsx("div",{className:"grid grid-cols-3 gap-1 max-w-100 mx-auto",children:[...Array(3)].map((y,b)=>{const v=s.bannedUmas[b];return d.jsx("div",{className:`aspect-square rounded border overflow-hidden relative ${v?"border-gray-600 bg-gray-600":"bg-gray-900 border-gray-700"}`,children:v?d.jsxs("div",{className:"relative w-full h-full",children:[d.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover grayscale opacity-30",onError:C=>{const R=C.target;R.style.display="none"}}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red-500 text-xl font-bold",children:""})]}):null},b)})})]}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-[10px] font-bold mb-1 text-gray-300 uppercase",children:["Picked (",s.pickedUmas.length,"/3)"]}),d.jsx("div",{className:"grid grid-cols-3 gap-1 max-w-100 mx-auto",children:[...Array(3)].map((y,b)=>{const v=s.pickedUmas[b];return d.jsx("div",{className:`aspect-square rounded border overflow-hidden relative ${v?"border-gray-600 bg-gray-600":"bg-gray-900 border-gray-700"}`,children:v?d.jsx("div",{className:"relative w-full h-full",children:d.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover",onError:C=>{const R=C.target;R.style.display="none"}})}):null},b)})})]})]})]})}function zy({onBackToMenu:c}){const[r,s]=D.useState(Sc()),[l,u]=D.useState([Sc()]),[m,h]=D.useState("Team 1"),[g,y]=D.useState("Team 2"),[b,v]=D.useState("Team 3"),[C,R]=D.useState("Team 1"),[w,Y]=D.useState("Team 2"),[G,F]=D.useState("Team 3"),[te,Ue]=D.useState(null),[ue,oe]=D.useState(""),[x,K]=D.useState(""),[V,ne]=D.useState(!1),[ie,Re]=D.useState(!1),ze=()=>{h(C||"Team 1"),y(w||"Team 2"),v(G||"Team 3"),s({...r,phase:"card-preban"})},J=()=>{if(l.length>1){const O=l.slice(0,-1);u(O),s(O[O.length-1]),oe(""),K("")}},ye=()=>{ne(!0)},de=()=>{const O=Sc();s(O),u([O]),h("Team 1"),y("Team 2"),v("Team 3"),R("Team 1"),Y("Team 2"),F("Team 3"),Ue(null),oe(""),ne(!1)},Ce=()=>{Re(!0)},j=()=>{c()},q=O=>{const W=r.preBannedCards.some(ge=>ge.id===O.id)?r.preBannedCards.filter(ge=>ge.id!==O.id):[...r.preBannedCards,O];s({...r,preBannedCards:W})},$=()=>{const O={...r,phase:"uma-ban"};s(O),u([...l,O])},Ee=()=>{const O=Ya(1,"card-pick"),re={...r,phase:"card-pick",currentTeam:O[0],round:1,turnInRound:0};s(re),u([...l,re])},Ne=()=>{const O={...r,phase:"complete"};s(O),u([...l,O])},T=O=>{const{currentTeam:re,phase:W}=r;if(!(W==="uma-pick"&&r.team1.pickedUmas.length===3&&r.team2.pickedUmas.length===3&&r.team3.pickedUmas.length===3)){if(W==="uma-ban"){const ge={...r,[re]:{...r[re],bannedUmas:[...r[re].bannedUmas,O]},availableUmas:r.availableUmas.filter(Pt=>Pt.id!==O.id)},Je=Tc(ge);ge.currentTeam=Je.nextTeam,ge.phase=Je.nextPhase,ge.round=Je.nextRound,ge.turnInRound=Je.nextTurnInRound,s(ge),u([...l,ge])}else if(W==="uma-pick"){const ge={...r,[re]:{...r[re],pickedUmas:[...r[re].pickedUmas,O]},availableUmas:r.availableUmas.filter(Pt=>Pt.id!==O.id)},Je=Tc(ge);Je.nextPhase==="card-pick"?(ge.currentTeam=re,ge.phase="uma-pick",ge.round=r.round,ge.turnInRound=r.turnInRound):(ge.currentTeam=Je.nextTeam,ge.phase=Je.nextPhase,ge.round=Je.nextRound,ge.turnInRound=Je.nextTurnInRound),s(ge),u([...l,ge])}}},B=O=>{if(r.phase!=="card-pick"||r.team1.pickedCards.length===5&&r.team2.pickedCards.length===5&&r.team3.pickedCards.length===5)return;const re=r.currentTeam,W={...r,[re]:{...r[re],pickedCards:[...r[re].pickedCards,O]},pickedCards:[...r.pickedCards,O],availableCards:r.availableCards.filter(Je=>Je.id!==O.id)},ge=Tc(W);ge.nextPhase==="complete"?(W.currentTeam=re,W.phase="card-pick",W.round=r.round,W.turnInRound=r.turnInRound):(W.currentTeam=ge.nextTeam,W.phase=ge.nextPhase,W.round=ge.nextRound,W.turnInRound=ge.nextTurnInRound),s(W),u([...l,W])},X=()=>ue.trim()?r.availableUmas.filter(O=>O.name.toLowerCase().includes(ue.toLowerCase())):r.availableUmas,Q=()=>{let O=r.availableCards.filter(re=>!r.preBannedCards.some(W=>W.id===re.id));return x&&(O=O.filter(re=>re.name.toLowerCase().includes(x.toLowerCase()))),te&&(O=O.filter(re=>re.rarity===te)),O},se=O=>O==="team1"?m:O==="team2"?g:b;if(r.phase==="team-names")return d.jsx("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex items-center justify-center px-6",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md w-full",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Enter Team Names"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Name the three teams for this 3v3v3 draft"}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-blue-400 mb-2",children:"Team 1 Name"}),d.jsx("input",{type:"text",value:C,onChange:O=>R(O.target.value),placeholder:"Team 1",maxLength:30,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-red-400 mb-2",children:"Team 2 Name"}),d.jsx("input",{type:"text",value:w,onChange:O=>Y(O.target.value),placeholder:"Team 2",maxLength:30,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-red-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-green-400 mb-2",children:"Team 3 Name"}),d.jsx("input",{type:"text",value:G,onChange:O=>F(O.target.value),placeholder:"Team 3",maxLength:30,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-green-500"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-6 rounded-lg transition-colors border border-gray-600",children:"Back"}),d.jsx("button",{onClick:ze,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-8 rounded-lg transition-colors",children:"Continue"})]})]})});if(r.phase==="card-preban")return d.jsxs("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex flex-col px-6 py-6",children:[d.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700 mb-4",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Card Pre-ban Phase"}),d.jsxs("p",{className:"text-gray-400",children:["Select cards to ban from the draft pool (",r.preBannedCards.length," banned)"]})]}),d.jsx("button",{onClick:$,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-8 rounded-lg transition-colors",children:"Start Draft "})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-100 mb-4",children:"Available Cards"}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"Search cards...",value:x,onChange:O=>K(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 lg:grid-cols-15 gap-4",children:r.availableCards.filter(O=>O.name.toLowerCase().includes(x.toLowerCase())).map(O=>{const re=r.preBannedCards.some(W=>W.id===O.id);return d.jsxs("button",{onClick:()=>q(O),className:`p-2 rounded-lg border-2 transition-all ${re?"bg-red-900 border-red-600 opacity-50":"bg-gray-700 border-gray-600 hover:border-gray-500"}`,children:[d.jsxs("div",{className:"aspect-square bg-gray-600 rounded mb-1 overflow-hidden relative p-2",children:[O.imageUrl?d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover rounded",onError:W=>{const ge=W.target;ge.style.display="none"}}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("span",{className:"text-2xl text-gray-400",children:"?"})}),O.type&&d.jsx("img",{src:`./supoka/${O.type}-icon.png`,alt:O.type,className:"absolute top-1 right-1 w-6 h-6 object-contain"})]}),d.jsx("p",{className:"text-xs font-semibold text-gray-100 text-center truncate",children:O.name}),re&&d.jsx("div",{className:"mt-1 text-red-400 text-xs font-bold text-center",children:"BANNED"})]},O.id)})})]})]});const me=r.currentTeam==="team1"?"text-blue-400":r.currentTeam==="team2"?"text-red-400":"text-green-400";return d.jsxs("div",{className:"h-screen bg-linear-to-br from-gray-950 to-gray-900 flex flex-col px-6 py-4 gap-3",children:[d.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg px-4 py-2 border border-gray-700 shrink-0",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-xl font-semibold text-gray-100",children:["Round ",r.round]}),r.phase!=="complete"&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xl text-gray-500",children:""}),d.jsxs("span",{className:"text-2xl font-bold text-gray-100",children:[r.phase==="uma-ban"&&"Uma Ban",r.phase==="uma-pick"&&"Uma Pick",r.phase==="card-pick"&&"Card Draft"]}),d.jsx("span",{className:"text-xl text-gray-500",children:""}),d.jsx("span",{className:`text-lg font-semibold ${me}`,children:se(r.currentTeam)})]}),r.phase==="complete"&&d.jsx("span",{className:"text-2xl font-bold text-gray-100",children:"Complete!"})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-end gap-2",children:[r.phase==="uma-pick"&&r.round===3&&r.team1.pickedUmas.length===3&&r.team2.pickedUmas.length===3&&r.team3.pickedUmas.length===3&&d.jsx("button",{onClick:Ee,className:"bg-slate-600 hover:bg-slate-700 text-white font-semibold py-1.5 px-4 rounded-lg transition-colors text-sm",children:"Continue to Card Draft "}),r.phase==="card-pick"&&r.round===5&&r.team1.pickedCards.length===5&&r.team2.pickedCards.length===5&&r.team3.pickedCards.length===5&&d.jsx("button",{onClick:Ne,className:"bg-slate-600 hover:bg-slate-700 text-white font-semibold py-1.5 px-4 rounded-lg transition-colors text-sm",children:"View Results "}),d.jsx("button",{onClick:J,disabled:l.length<=1,className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-1.5 px-4 rounded-lg transition-colors border border-gray-600 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:" Undo"}),d.jsx("button",{onClick:ye,className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-1.5 px-4 rounded-lg transition-colors border border-gray-600 text-sm",children:"Reset"}),d.jsx("button",{onClick:Ce,className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-1.5 px-4 rounded-lg transition-colors border border-gray-600 text-sm",children:"Format Selection"})]})]})}),(r.phase==="uma-ban"||r.phase==="uma-pick"||r.phase==="card-pick")&&d.jsxs("div",{className:"grid grid-cols-3 gap-3 shrink-0",children:[d.jsx(Cc,{team:"team1",teamName:m,teamData:r.team1,isCurrentTurn:r.currentTeam==="team1",phase:r.phase}),d.jsx(Cc,{team:"team2",teamName:g,teamData:r.team2,isCurrentTurn:r.currentTeam==="team2",phase:r.phase}),d.jsx(Cc,{team:"team3",teamName:b,teamData:r.team3,isCurrentTurn:r.currentTeam==="team3",phase:r.phase})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[(r.phase==="uma-ban"||r.phase==="uma-pick")&&d.jsxs(d.Fragment,{children:[d.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-100",children:[r.phase==="uma-pick"&&"Available Umamusume",r.phase==="uma-ban"&&"Available Umamusume"]}),d.jsx("input",{type:"text",placeholder:"Search Umamusume...",value:ue,onChange:O=>oe(O.target.value),className:"w-full mb-4 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:border-gray-500"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-15 gap-4",children:X().map(O=>d.jsx(xp,{uma:O,onSelect:T},O.id))})]}),r.phase==="card-pick"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-xl font-bold text-gray-100 mb-4",children:"Available Cards"}),d.jsx("div",{className:"mb-4",children:d.jsx("input",{type:"text",placeholder:"Search cards...",value:x,onChange:O=>K(O.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsxs("div",{className:"flex gap-3 mb-6",children:[d.jsx("button",{onClick:()=>Ue(te==="SSR"?null:"SSR"),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${te==="SSR"?"bg-yellow-600 text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"} border border-gray-600`,children:"SSR"}),d.jsx("button",{onClick:()=>Ue(te==="SR"?null:"SR"),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${te==="SR"?"bg-purple-600 text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"} border border-gray-600`,children:"SR"}),d.jsx("button",{onClick:()=>Ue(te==="R"?null:"R"),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${te==="R"?"bg-blue-600 text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"} border border-gray-600`,children:"R"})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 lg:grid-cols-15 gap-4",children:Q().map(O=>d.jsxs("button",{onClick:()=>B(O),className:"p-2 bg-gray-700 border-2 border-gray-600 rounded-lg hover:border-gray-500 hover:shadow-lg transition-all",children:[d.jsxs("div",{className:"aspect-square bg-gray-600 rounded mb-1 overflow-hidden relative p-2",children:[O.imageUrl?d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover rounded",onError:re=>{const W=re.target;W.style.display="none"}}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("span",{className:"text-2xl text-gray-400",children:"?"})}),O.type&&d.jsx("img",{src:`./supoka/${O.type}-icon.png`,alt:O.type,className:"absolute top-1 right-1 w-6 h-6 object-contain"})]}),d.jsx("p",{className:"text-xs font-semibold text-gray-100 text-center truncate",children:O.name})]},O.id))})]}),r.phase==="complete"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("h3",{className:"text-3xl font-bold text-gray-100 mb-2",children:"Draft Complete!"}),d.jsx("p",{className:"text-gray-400",children:"All selections have been made."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xl font-bold text-blue-400 mb-4 text-center border-b border-gray-600 pb-2",children:m}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.team1.pickedUmas.map(O=>d.jsx("div",{className:"aspect-square rounded border border-gray-600 overflow-hidden",children:d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover",onError:re=>{const W=re.target;W.style.display="none"}})},O.id))})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xl font-bold text-red-400 mb-4 text-center border-b border-gray-600 pb-2",children:g}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.team2.pickedUmas.map(O=>d.jsx("div",{className:"aspect-square rounded border border-gray-600 overflow-hidden",children:d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover",onError:re=>{const W=re.target;W.style.display="none"}})},O.id))})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"text-xl font-bold text-green-400 mb-4 text-center border-b border-gray-600 pb-2",children:b}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:r.team3.pickedUmas.map(O=>d.jsx("div",{className:"aspect-square rounded border border-gray-600 overflow-hidden",children:d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover",onError:re=>{const W=re.target;W.style.display="none"}})},O.id))})]})]}),d.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[d.jsx("h4",{className:"text-2xl font-bold text-gray-100 mb-4 text-center border-b border-gray-600 pb-3",children:"Card Pool"}),d.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-15 gap-2",children:r.pickedCards.map(O=>d.jsxs("div",{className:"aspect-square rounded border border-gray-600 overflow-hidden relative",children:[d.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-full object-cover",onError:re=>{const W=re.target;W.style.display="none"}}),O.type&&d.jsx("img",{src:`./supoka/${O.type}-icon.png`,alt:O.type,className:"absolute top-0.5 right-0.5 w-4 h-4 object-contain"})]},O.id))})]})]})," "]}),V&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Reset Draft?"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to reset the draft? All progress will be lost and you will return to the team name selection."}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>ne(!1),className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-6 rounded-lg transition-colors border border-gray-600",children:"Cancel"}),d.jsx("button",{onClick:de,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Reset Draft"})]})]})}),ie&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl p-8 border-2 border-gray-700 max-w-md",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Return to Menu?"}),d.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to return to the format selection menu? Current draft progress will be lost."}),d.jsxs("div",{className:"flex gap-3 justify-end",children:[d.jsx("button",{onClick:()=>Re(!1),className:"bg-gray-700 hover:bg-gray-600 text-gray-100 font-semibold py-2 px-6 rounded-lg transition-colors border border-gray-600",children:"Cancel"}),d.jsx("button",{onClick:j,className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors",children:"Return to Menu"})]})]})})]})}function By(){const[c,r]=D.useState(null),[s,l]=D.useState(void 0),u=(h,g)=>{r(h),l(g)},m=()=>{r(null),l(void 0)};return c==="5v5"?d.jsx(Ay,{onBackToMenu:m,multiplayerConfig:s}):c==="3v3v3"?d.jsx(zy,{onBackToMenu:m,multiplayerConfig:s}):d.jsx(Bg,{onSelectFormat:u})}Ag.createRoot(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(By,{})}));
